import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.aba09015.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.f17c03d3.js";import{_ as n}from"./V-Placeload.900d95a2.js";import{d as a,A as s,o as i,h as l,k as r,j as o,N as u,G as m,K as c,D as p,i as d,r as g,B as b,J as v,L as f,z as y,O as S}from"./vendor.1ed36195.js";import{_ as h}from"./pdf_icon.0444a540.js";import{a as _,A as w}from"./index.813c5a45.js";import{_ as j}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.10a38e30.js";import{p as x}from"./sidebarLayoutState.18cc1e94.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.bba534e9.js";import"./useDropdown.a0d0889f.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.6ab49365.js";import"./V-Dropdown.1574919e.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.6c749f0c.js";import"./activePanelState.f5c8fc6c.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.c58ffd7f.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.489ae55b.js";import"./V-Message.vue_vue&type=script&setup=true&lang.34fe1a74.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.4e1235e8.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.2dd74ef2.js";import"./navbarLayoutState.82e1db9c.js";import"./video.7495f6b6.js";import"./darkModeState.fe7b7276.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.85de3c19.js";import"./AnimatedLogo.04f6a731.js";import"./V-Control.596e5582.js";import"./V-Field.vue_vue&type=script&setup=true&lang.8c96819a.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.887eae11.js";import"./V-Block.vue_vue&type=script&setup=true&lang.ad7ba52b.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.6c35dc0c.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.633c50cf.js";const W=r("table",{border:"1",cellpadding:"0",width:"500"},[r("tr",null,[r("td",{height:"100",width:"500"},[r("canvas",{id:"cnv",name:"cnv",width:"500",height:"100"})])])],-1),I=r("canvas",{name:"SigImg",id:"SigImg",width:"500",height:"100"},null,-1),V=r("p",{id:"sigWebVrsnNote",style:{"font-family":"Arial"}},null,-1),T={action:"#",name:"FORM1"},D=m("     "),C=m("     "),P=m("     "),k=m("SigString: "),E=m("Base64 String: "),B=r("br",null,null,-1),M=r("br",null,null,-1),z=r("p",{id:"daysUntilExpElement"},null,-1),L=r("p",{id:"SigWebVersion"},null,-1),A=r("p",{id:"SigWebTabletJSVersion"},null,-1),N=r("p",{id:"CertificateExpirationDate"},null,-1);var $=a({expose:[],emits:["onSignYes"],setup(e,{emit:t}){var n,a=!1,m=!1,g=!1;function b(e,t){return function(e,t){const n=e.split("."),a=t.split(".");for(var s=0;s<a.length;s++){const e=parseInt(a[s])||0,t=parseInt(n[s])||0;if(e<t)return!0;if(e>t)return!1}return!1}(e,t)}function v(e){t("onSignYes",e),document.FORM1.sigImageData.value=e}return c(),p(),s((()=>{if(IsSigWebInstalled()){var e="";try{e=GetSigWebVersion()}catch(l){console.log("Unable to get SigWeb Version: "+l.message)}if(""!=e){try{g=function(e){if(b("1.7.0.0",e))return console.log("SigWeb version 1.7.0.0 or higher not installed."),!1;return!0}(e)}catch(l){console.log(l.message)}if(g){a=!0;try{var t=GetDaysUntilCertificateExpires();document.getElementById("daysUntilExpElement").innerHTML="SigWeb Certificate expires in "+t+" days."}catch(l){console.log(l.message)}(i=document.getElementById("sigWebVrsnNote")).innerHTML="SigWeb 1.7.0 installed"}else{try{m=function(e){if(b("1.6.4.0",e))return console.log("SigWeb version 1.6.4.0 or higher not installed."),!1;return!0}(e)}catch(l){console.log(l.message)}if(m)a=!0,(s=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",s.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="SigWeb 1.6.4 is installed. Install the newer version of SigWeb from the following link: ",i.appendChild(s);else(s=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",s.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="A newer version of SigWeb is available. Please uninstall the currently installed version of SigWeb and then install the new version of SigWeb from the following link: ",i.appendChild(s)}}else{var s,i;(s=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",s.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="A newer version of SigWeb is available. Please uninstall the currently installed version of SigWeb and then install the new version of SigWeb from the following link: ",i.appendChild(s)}}else alert("Unable to communicate with SigWeb. Please confirm that SigWeb is installed and running on this PC.");window.onbeforeunload=function(e){a?Reset():(ClearTablet(),SetTabletState(0,n)),clearInterval(n),e.preventDefault()}})),(e,t)=>{const a=d("BR"),s=d("INPUT"),m=d("TEXTAREA");return i(),l(u,null,[W,r(a),I,V,r("form",T,[r("p",null,[r("input",{id:"SignBtn",name:"SignBtn",type:"button",value:"Sign",onClick:t[1]||(t[1]=e=>function(){if(IsSigWebInstalled()){var e=document.getElementById("cnv").getContext("2d");SetDisplayXSize(500),SetDisplayYSize(100),SetTabletState(0,n),SetJustifyMode(0),ClearTablet(),null==n||(SetTabletState(0,n),n=null),n=SetTabletState(1,e,50)}else alert("Unable to communicate with SigWeb. Please confirm that SigWeb is installed and running on this PC.")}())}),D,r("input",{id:"button1",name:"ClearBtn",type:"button",value:"Clear","on@click":t[2]||(t[2]=e=>{ClearTablet()})},null,32),C,r("input",{id:"button2",name:"DoneBtn",type:"button",value:"Done",onClick:t[3]||(t[3]=e=>{0==NumberOfTabletPoints()?alert("Please sign before continuing"):(SetTabletState(0,n),SetSigCompressionMode(1),document.FORM1.bioSigData.value=GetSigString(),document.FORM1.sigStringData.value=GetSigString(),SetImageXSize(500),SetImageYSize(100),SetImagePenWidth(5),GetSigImageB64(v))})}),P,r(s,{"t-y-p-e":"HIDDEN","n-a-m-e":"bioSigData"}),r(s,{"t-y-p-e":"HIDDEN","n-a-m-e":"sigImgData"}),r(a),r(a),r(m,{"n-a-m-e":"sigStringData","r-o-w-s":"20","c-o-l-s":"50"},{default:o((()=>[k])),_:1}),r(m,{"n-a-m-e":"sigImageData","r-o-w-s":"20","c-o-l-s":"50"},{default:o((()=>[E])),_:1})])]),B,M,z,L,A,N],64)}}});const F={class:"columns is-multiline"},H={key:0,class:"d-flex justify-content-center column is-12 mb-4"},q={class:"text-center mr-6"},O=r("img",{src:h,width:"40",alt:""},null,-1),U=m(" View PDF "),R={class:"text-center ml-6"},G=r("img",{src:h,width:"40",alt:""},null,-1),Y=m(" View PDF "),J={key:2,class:"text-center mb-4 mt-5 mx-auto"},X=r("p",{class:"mb-4 title is-5"},"Saved signature",-1);var K=a({expose:[],props:{member:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(a){const u=a;s((()=>{}));const m=g(!1),c=g(!1),p=g(null);g();const d=async e=>(p.value=e,m.value=!0,w.post(`sign/${u.member.membership_members.id}`,{sign:e}).then((e=>{c.value=!0,m.value=!1})));return(s,u)=>{const g=t,y=n,S=$,h=e;return i(),l(h,{radius:"small"},{default:o((()=>[r("div",F,[a.loading?f("",!0):(i(),l("div",H,[r("div",q,[r("a",{target:"_blank",href:`${b(_)}generateContract/${a.member.id}`},[O,r("p",null," contract_"+v(a.member.id)+"_"+v(a.member.membership_members.id)+"_"+v(a.member.personal_identifications)+".pdf ",1),r(g,{color:"success",outlined:"",class:"mt-4 py-1"},{default:o((()=>[U])),_:1})],8,["href"])]),r("div",R,[r("a",{target:"_blank",href:`${b(_)}generateWeiver/${a.member.id}`},[G,r("p",null," weiver_"+v(a.member.id)+"_"+v(a.member.membership_members.id)+"_"+v(a.member.personal_identifications)+".pdf ",1),r(g,{color:"success",outlined:"",class:"mt-4 py-1"},{default:o((()=>[Y])),_:1})],8,["href"])])])),m.value&&!c.value?(i(),l(y,{key:1,width:"400px",height:"135px",style:{"margin-top":"10px"},class:"mx-auto"})):f("",!0),r(S,{onOnSignYes:d}),c.value?(i(),l("div",J,[X,r("img",{src:p.value,width:"400",height:"135",alt:""},null,8,["src"])])):f("",!0)])])),_:1})}}});const Q={class:"page-content-inner"},Z=r("h1",{class:"title is-4"},"Successful Payment",-1),ee={class:"title is-3"},te={key:0,class:"mt-6"},ne={class:"title is-3"},ae=m(" View and sign: Family ");var se=a({expose:[],setup(n){x.value="Add New members",y({title:"Members"});const a=c();p();const m=g([]),d=g(null),h=g(null),_=g(!0);let W=g([]);s((()=>{w.post(`payment/${a.query.id}`,{payment_intent_client_secret:a.query.payment_intent_client_secret,redirect_status:a.query.redirect_status}).then((e=>{e.data.status&&(d.value=a.query.redirect_status,h.value=e.data.urlPDF,m.value=e.data.member,W.value=e.data.familiares,_.value=!1)}))}));return(n,s)=>{const c=e,p=K,d=t,g=j;return i(),l(g,null,{default:o((()=>[r("div",Q,[r("div",null,[r(c,{class:"mb-4",radius:"small",color:"success"},{default:o((()=>[Z])),_:1}),r("h2",ee," Sign "+v(m.value.name)+" "+v(m.value.second_name)+" "+v(m.value.last_name),1),r(p,{loading:_.value,member:m.value},null,8,["loading","member"]),b(W).length>0?(i(),l("div",te,[(i(!0),l(u,null,S(b(W),((e,t)=>(i(),l("div",{key:`familu${t}`},[r(c,{class:"mb-4",radius:"small"},{default:o((()=>[r("h2",ne," Sign Family: "+v(e.name)+" "+v(e.second_name)+" "+v(e.last_name),1),r(d,{color:"warning",class:"text-center mx-auto",onClick:t=>(e=>{window.location.href=`https://dev-frontend.ushuaiacreative.com/members/process?id=${e.id}&payment_intent=${a.query.payment_intent}&payment_intent_client_secret=${a.query.payment_intent_client_secret}&redirect_status=${a.query.redirect_status}`})(e)},{default:o((()=>[ae])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])):f("",!0)])])])),_:1})}}});export default se;
