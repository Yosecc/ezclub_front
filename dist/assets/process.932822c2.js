import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.a508baf8.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.a97a12f7.js";import{_ as s,a}from"./pdf_icon.78cddeed.js";import{a as r,A as i}from"./index.a5fdae58.js";import{i as u}from"./image_default.44c5e946.js";import{d as l,A as n,r as p,o as m,h as o,j as c,k as d,E as v,K as _,L as b,H as f,z as y,B as g,D as j}from"./vendor.e3a29b40.js";import{_ as h}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.99ab0926.js";import{p as V}from"./sidebarLayoutState.436b738a.js";import"./V-Placeload.9d0101ab.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.bd942591.js";import"./useDropdown.dfad556c.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.acbf948e.js";import"./V-Dropdown.7404a3e2.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.1a89ef3a.js";import"./activePanelState.5a49edcb.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.98758176.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.eb96c098.js";import"./V-Message.vue_vue&type=script&setup=true&lang.f3abd056.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.b59ccca7.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.5145729d.js";import"./navbarLayoutState.790e516e.js";import"./video.674f0486.js";import"./darkModeState.a53f3c67.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.2f79059e.js";import"./AnimatedLogo.e43df3fc.js";import"./V-Control.b36667bf.js";import"./V-Field.vue_vue&type=script&setup=true&lang.189c1bf7.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.5e6c3f74.js";import"./V-Block.vue_vue&type=script&setup=true&lang.f5251e79.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.16aa198e.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.c5504f9b.js";const x={class:"columns is-multiline"},P={key:0,class:"d-flex justify-content-center column is-12 mb-4"},S=d("p",null,null,-1),k={class:"text-center mr-6"},w=d("img",{src:s,width:"40",alt:""},null,-1),q=f(" View PDF "),A={class:"text-center ml-6"},D=d("img",{src:s,width:"40",alt:""},null,-1),$=f(" View PDF "),B={key:1,class:"text-center mb-4 mt-5 mx-auto"},F=d("p",{class:"mb-4 title is-5"},"Saved signature",-1);var L=l({expose:[],props:{member:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(s){const l=s;n((()=>{}));const f=p(!1),y=p(!1),g=p(null);p();const j=async e=>(g.value=e,f.value=!0,i.post(`sign/${l.member.membership_members.id}`,{sign:e}).then((e=>{y.value=!0,f.value=!1}))),h=()=>{j(u)};return(i,u)=>{const l=t,n=a,p=e;return m(),o(p,{radius:"small"},{default:c((()=>[d("div",x,[s.loading?b("",!0):(m(),o("div",P,[S,d("div",k,[d("a",{target:"_blank",href:`${v(r)}generateContract/${s.member.id}`},[w,d("p",null," contract_"+_(s.member.id)+"_"+_(s.member.membership_members.id)+"_"+_(s.member.personal_identifications)+".pdf ",1),d(l,{color:"success",outlined:"",class:"mt-4 py-1"},{default:c((()=>[q])),_:1})],8,["href"])]),d("div",A,[d("a",{target:"_blank",href:`${v(r)}generateWeiver/${s.member.id}`},[D,d("p",null," weiver_"+_(s.member.id)+"_"+_(s.member.membership_members.id)+"_"+_(s.member.personal_identifications)+".pdf ",1),d(l,{color:"success",outlined:"",class:"mt-4 py-1"},{default:c((()=>[$])),_:1})],8,["href"])])])),d(n,{onSinFirmar:h,onOnSignYes:j}),y.value?(m(),o("div",B,[F,d("img",{src:g.value,width:"400",height:"135",alt:""},null,8,["src"])])):b("",!0)])])),_:1})}}});const C={class:"page-content-inner"},M=d("h1",{class:"title is-4"},"Successful Payment",-1),T={class:"title is-3"};var z=l({expose:[],setup(t){V.value="Add New members",y({title:"Members"});const s=g();j();const a=p([]),r=p(null),u=p(null),l=p(!0);let v=p([]);return n((()=>{i.post(`payment/${s.query.id}`,{payment_intent_client_secret:s.query.payment_intent_client_secret,redirect_status:s.query.redirect_status,payment_type:s.query.payment_type,membership:s.query.membership}).then((e=>{e.data.status&&(r.value=s.query.redirect_status,u.value=e.data.urlPDF,a.value=e.data.member,v.value=e.data.familiares,l.value=!1)}))})),(t,s)=>{const r=e,i=L,u=h;return m(),o(u,null,{default:c((()=>[d("div",C,[d("div",null,[d(r,{class:"mb-4",color:"success"},{default:c((()=>[M])),_:1}),d("h2",T," Sign "+_(a.value.name)+" "+_(a.value.second_name)+" "+_(a.value.last_name),1),a.value?(m(),o(i,{key:0,loading:l.value,member:a.value},null,8,["loading","member"])):b("",!0)])])])),_:1})}}});export default z;
