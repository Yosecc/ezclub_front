import{_ as e}from"./V-Control.63a8a239.js";import{_ as t}from"./V-Field.vue_vue&type=script&setup=true&lang.b3ed284d.js";import{p as l,_ as s,b as n}from"./V-BillboardJS.vue_vue&type=style&index=0&lang.35289fbf.js";import{_ as o}from"./V-Card.vue_vue&type=script&setup=true&lang.e9e64dc2.js";import{_ as a}from"./V-Button.vue_vue&type=script&setup=true&lang.cc6d2b95.js";import{d as u,r as i,o as p,b as r,h as c,i as v,l as d,k as m,K as f,W as y,_,Z as b,G as g,H as h,F as S,R as j,S as k,w as O,O as x,P as J}from"./vendor.4454b83d.js";import{m as N,A as V}from"./index.eb483aba.js";import{t as C}from"./themeColors.4f0e93f3.js";import{_ as P}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.7c9e2b53.js";import{p as w}from"./sidebarLayoutState.66d5e66f.js";import"./V-Placeload.28979271.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.c4800407.js";import"./useDropdown.659338b4.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.d100ee36.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.fe67fad1.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.260ce9ba.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.ef7028a7.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.1df2020f.js";import"./V-Dropdown.f5015e73.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.62703a94.js";import"./Companies.74d6bd2f.js";import"./activePanelState.06305d42.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.f6cfe36b.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.f1d0c6ac.js";import"./video.803b5c5c.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.54bec82d.js";import"./darkModeState.f2041097.js";import"./AnimatedLogo.42cb9b3a.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.0069c349.js";import"./V-Block.vue_vue&type=script&setup=true&lang.9d0ef40a.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.1cee2a1e.js";import"./userPopovers.f4b9fc60.js";const T={data:{type:l(),columns:[],colors:{data1:C.accent,data2:C.primary,data3:C.orange,data4:C.purple}},pie:{label:{format:function(e,t,l){return e}}},bar:{width:{ratio:.5}},size:{height:280},padding:{bottom:20},title:{text:"",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}};var A=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",options:T,onReady:e=>{setTimeout((()=>{}),1e3)}});const D={class:"columns is-multiline column is-12"},$={key:0,class:"column is-12"},M=d("p",{class:"title is-5"},"Payments Subscriptions",-1),z={class:"d-flex justify-content-between"},B={class:"d-flex"},U=d("label",null,"Date start",-1),I=d("label",null,"Date end",-1),L=d("label",null,"Payment method",-1),R=d("option",{value:""},"All",-1),q=d("option",{value:"1"},"Cash",-1),F=d("option",{value:"3"},"Debit Card",-1),G=d("option",{value:"5"},"BBPOS",-1),Z=d("b",null,"Payments:",-1),H=d("b",null,"Amount:",-1),K={class:"column is-12 columns is-multiline"},W={class:"column is-6"},E={class:"column is-6"},Q={class:"column is-12"},X={class:"d-flex justify-content-between mb-4"},Y=d("i",{class:"fa fa-eye"},null,-1),ee=g(" View Payments "),te={class:"title is-5"},le={key:0,class:"table is-hoverable is-fullwidth"},se=d("thead",null,[d("tr",null,[d("th",{scope:"col"},"ID"),d("th",{scope:"col"},"Payment Type"),d("th",{scope:"col"},"Status"),d("th",{scope:"col"},"Amount"),d("th",{scope:"col"},"Date"),d("th",{scope:"col"},"Suscription"),d("th",{scope:"col"},"Member"),d("th",{scope:"col",class:"is-end"},"User")])],-1),ne={class:"is-end"};var oe=u({expose:[],props:{payments:{type:Object,required:!0,default:null}},emits:["search"],setup(l,{emit:n}){const u=l,O=i(null);p((()=>{O.value=u.payments}));const x=r((()=>O.value?O.value.payment_type:null)),J=r((()=>{if(x.value){let t=[];for(var e in x.value)t.push([e,x.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Payment Type",l.options.pie=w(),l}return null})),V=r((()=>{if(x.value){let t=[];for(var e in x.value)t.push([e,x.value[e].payments.amount]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Payment Type Amount",l.options.pie=w("$"),l}return null})),C=i(!1),P=()=>{n("search",{fecha_inicio:O.value.fecha_inicio,fecha_fin:O.value.fecha_fin,payment_method_id:O.value.payment_method_id})},w=(e="")=>({label:{format:function(t,l,s){return`${e}${t}`}}});return(l,n)=>{const u=e,i=t,p=s,r=o,w=a;return c(),v("div",D,[O.value?(c(),v("div",$,[d(r,null,{default:m((()=>[M,d("div",z,[d("div",B,[d(i,{class:"mr-2"},{default:m((()=>[U,d(u,{icon:"feather:calendar"},{default:m((()=>[y(d("input",{class:"input v-input",type:"date","onUpdate:modelValue":n[1]||(n[1]=e=>O.value.fecha_inicio=e),onChange:P},null,544),[[_,O.value.fecha_inicio]])])),_:1})])),_:1}),d(i,{class:"mr-2"},{default:m((()=>[I,d(u,{icon:"feather:calendar"},{default:m((()=>[y(d("input",{class:"input v-input",type:"date","onUpdate:modelValue":n[2]||(n[2]=e=>O.value.fecha_fin=e),onChange:P},null,544),[[_,O.value.fecha_fin]])])),_:1})])),_:1}),d(i,{class:"mr-2"},{default:m((()=>[L,d(u,{icon:"fa fa-list"},{default:m((()=>[y(d("select",{name:"",id:"",onChange:P,"onUpdate:modelValue":n[3]||(n[3]=e=>O.value.payment_method_id=e),class:"v-input input"},[R,q,F,G],544),[[b,O.value.payment_method_id]])])),_:1})])),_:1})]),d("div",null,[d("p",null,[Z,g(" "+h(O.value.count),1)]),d("p",null,[H,g(" "+h(S(N)(O.value.payments.amount)),1)])])]),d("div",K,[d("div",W,[S(x)&&S(J)?(c(),v(r,{key:0},{default:m((()=>[d(p,{options:S(J).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",E,[S(x)&&S(V)?(c(),v(r,{key:0},{default:m((()=>[d(p,{options:S(V).options},null,8,["options"])])),_:1})):f("",!0)])]),d("div",Q,[d(r,null,{default:m((()=>[d("div",X,[d(w,{color:"primary",onClick:n[4]||(n[4]=e=>C.value=!C.value)},{default:m((()=>[Y,ee])),_:1}),d("p",te,h(O.value.count),1)]),C.value?(c(),v("table",le,[se,d("tbody",null,[(c(!0),v(j,null,k(O.value.payments.data,((e,t)=>(c(),v("tr",{key:`payment-${t}`},[d("td",null,h(e.id),1),d("td",null,h(e.payment_type_id),1),d("td",null,h(e.status?"success":"error"),1),d("td",null,h(e.amount),1),d("td",null,h(e.created_at),1),d("td",null,h(e.suscripcion.membership),1),d("td",null,h(e.suscripcion.member),1),d("td",ne,h(e.user),1)])))),128))])])):f("",!0)])),_:1})])])),_:1})])):f("",!0)])}}});const ae={class:"columns is-multiline column is-12"},ue={class:"column is-12"},ie={class:"d-flex justify-content-between"},pe={class:"title is-5"},re={class:"title is-5"},ce={class:"column is-12 columns is-multiline"},ve={class:"column is-6"},de={class:"column is-6"},me={class:"column is-6"},fe={class:"column is-6"};var ye=u({expose:[],props:{suscripciones:{type:Object,required:!0,default:null},title:{type:String,default:""}},emits:["search"],setup(e,{emit:t}){const l=e,n=i(null);p((()=>{n.value=l.suscripciones}));const a=r((()=>n.value?n.value.paymentType:null)),u=r((()=>n.value?n.value.membresia:null)),y=r((()=>n.value?n.value.diciplinas:null)),_=r((()=>n.value?n.value.category:null)),b=r((()=>{if(a.value){let t=[];for(var e in a.value)t.push([e,a.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Payment Type",l.options.pie=O(),l}return null})),g=r((()=>{if(u.value){let t=[];for(var e in u.value)t.push([e,u.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Membership",l.options.pie=O(),l}return null})),j=r((()=>{if(y.value){let t=[];for(var e in y.value)t.push([e,y.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Diciplines",l.options.pie=O(),l}return null})),k=r((()=>{if(_.value){let t=[];for(var e in _.value)t.push([e,_.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Category",l.options.pie=O(),l}return null})),O=(e="")=>({label:{format:function(t,l,s){return`${e}${t}`}}});return(e,t)=>{const i=s,p=o;return c(),v("div",ae,[d("div",ue,[n.value?(c(),v(p,{key:0},{default:m((()=>[d("div",ie,[d("p",pe,h(l.title),1),d("p",re,h(n.value.count),1)]),d("div",ce,[d("div",ve,[S(a)&&S(b)?(c(),v(p,{key:0},{default:m((()=>[d(i,{options:S(b).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",de,[S(u)&&S(g)?(c(),v(p,{key:0},{default:m((()=>[d(i,{options:S(g).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",me,[S(y)&&S(j)?(c(),v(p,{key:0},{default:m((()=>[d(i,{options:S(j).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",fe,[S(_)&&S(k)?(c(),v(p,{key:0},{default:m((()=>[d(i,{options:S(k).options},null,8,["options"])])),_:1})):f("",!0)])])])),_:1})):f("",!0)])])}}});const _e={data:{type:n(),columns:[],colors:{data1:C.accent,data2:C.primary,data3:C.orange,data4:C.purple}},bar:{width:{ratio:.5}},size:{height:280},padding:{bottom:20},title:{text:"",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}};var be=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",options:_e,onReady:e=>{setTimeout((()=>{}),1e3)}});const ge={class:"columns is-multiline column is-12"},he={key:0,class:"column is-12"},Se=d("p",{class:"title is-5 m-0"},"Subscriptions",-1),je={class:"title is-5 m-0"},ke={key:1,class:"column is-12 columns is-multiline mb-0"},Oe={class:"title is-5 m-0"},xe={class:"title is-5 m-0"},Je={key:2,class:"column is-12 columns is-multiline"},Ne={class:"column is-6"},Ve={class:"column is-6"},Ce={class:"column is-6"},Pe={class:"column is-6"},we={class:"column is-4"},Te={class:"column is-4"},Ae={class:"column is-4"},De={class:"column is-12"},$e={class:"column is-12"};var Me=u({expose:[],props:{suscripciones:{type:Object,required:!0,default:null}},setup(e){const t=e,l=i(null),n=i(null),a=i(!0);O(n,(()=>{a.value=!1,setTimeout((()=>{a.value=!0}),100)})),p((()=>{l.value=t.suscripciones}));const u=r((()=>[{name:"Active",count:l.value.activas.count,key:"activas"},{name:"Inactive",count:l.value.inactivas.count,key:"inactivas"}])),y=r((()=>n.value?n.value.membresia:null)),_=r((()=>n.value?n.value.genero:null)),b=r((()=>n.value?n.value.zip_code:null)),g=r((()=>n.value?n.value.diciplinas:null)),x=r((()=>n.value?n.value.category:null)),J=r((()=>n.value?n.value.minor:null)),N=r((()=>n.value?n.value.adult:null)),V=r((()=>n.value?n.value.estado:null)),C=r((()=>n.value?n.value.paymentType:null)),P=r((()=>{if(y.value){let t=[];for(var e in y.value)t.push([e,y.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Memberships",l.options.data.onclick=L,l.options.pie=I(),l}return null})),w=r((()=>{if(_.value){let t=[];for(var e in _.value)t.push([e,_.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Gender",l.options.pie=I(),l}return null})),T=r((()=>{if(b.value){let t=[];for(var e in b.value)t.push([e,b.value[e].count]);const l=JSON.parse(JSON.stringify(be));return l.options.data.columns=t,l.options.title.text="Zip Code",l}return null})),D=r((()=>{if(g.value){let t=[];for(var e in g.value)t.push([e,g.value[e].count]);const l=JSON.parse(JSON.stringify(be));return l.options.data.columns=t,l.options.title.text="Dicipline",l}return null})),$=r((()=>{if(x.value){let t=[];for(var e in x.value)t.push([e,x.value[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text="Category",l.options.pie=I(),l}return null})),M=r((()=>{if(J.value){let t=[];for(var e in J.value.genero)t.push([e,J.value.genero[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text=`Minor (${J.value.count})`,l.options.pie=I(),l}return null})),z=r((()=>{if(N.value){let t=[];for(var e in N.value.genero)t.push([e,N.value.genero[e].count]);const l=JSON.parse(JSON.stringify(A));return l.options.data.columns=t,l.options.title.text=`Adult (${N.value.count})`,l.options.pie=I(),l}return null})),B=r((()=>{if(V.value){let t=[];for(var e in V.value)t.push([e,V.value[e].count]);const l=JSON.parse(JSON.stringify(be));return l.options.data.columns=t,l.options.title.text="Status",l}return null})),U=r((()=>{if(C.value){let t=[];for(var e in C.value)t.push([e,C.value[e].count]);const l=JSON.parse(JSON.stringify(be));return l.options.data.columns=t,l.options.title.text="Payment Type",l}return null})),I=()=>({label:{format:function(e,t,l){return e}}}),L=(e,t)=>{console.log("onclick",e,t)};return(e,t)=>{const i=o,p=s;return c(),v("div",ge,[l.value?(c(),v("div",he,[d(i,{class:"d-flex justify-content-between"},{default:m((()=>[Se,d("p",je,h(l.value.count),1)])),_:1})])):f("",!0),l.value?(c(),v("div",ke,[(c(!0),v(j,null,k(S(u),((e,t)=>(c(),v("div",{key:`grupo${t}`,class:"column is-4 mb-0"},[d(i,{class:"mb-4 d-flex justify-content-between btn-card",onClick:t=>{return s=e,void(n.value=l.value[s.key]);var s}},{default:m((()=>[d("p",Oe,h(e.name),1),d("p",xe,h(e.count),1)])),_:2},1032,["onClick"])])))),128))])):f("",!0),a.value&&l.value?(c(),v("div",Je,[d("div",Ne,[S(V)&&S(B)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(B).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",Ve,[S(C)&&S(U)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(U).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",Ce,[S(y)&&S(P)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(P).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",Pe,[S(_)&&S(w)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(w).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",we,[S(x)&&S($)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S($).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",Te,[S(N)&&S(z)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(z).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",Ae,[S(J)&&S(M)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(M).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",De,[S(g)&&S(D)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(D).options},null,8,["options"])])),_:1})):f("",!0)]),d("div",$e,[S(b)&&S(T)?(c(),v(i,{key:0},{default:m((()=>[d(p,{options:S(T).options},null,8,["options"])])),_:1})):f("",!0)])])):f("",!0)])}}});const ze={class:"columns is-multiline"};var Be=u({expose:[],setup(e){w.value="Charts",x({title:"Reports"}),J();const t=i(null),l=i(null),s=async(e={})=>{t.value=null,l.value=null,await V.get("v2/suscripcion/reports",{params:e}).then((e=>{t.value=e.data.suscripciones,l.value=e.data.payments})).catch((e=>{}))};p((()=>{s()}));const n=e=>{s(e)};return(e,s)=>{const o=oe,a=ye,u=Me,i=P;return c(),v(i,null,{default:m((()=>[d("div",ze,[l.value?(c(),v(o,{key:0,payments:l.value,onSearch:n},null,8,["payments"])):f("",!0),t.value?(c(),v(a,{key:1,suscripciones:t.value.activas.vencido,title:"Subscriptions Due"},null,8,["suscripciones"])):f("",!0),t.value?(c(),v(u,{key:2,suscripciones:t.value},null,8,["suscripciones"])):f("",!0)])])),_:1})}}});export default Be;
