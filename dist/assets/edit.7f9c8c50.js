import{_ as e}from"./membershipForm.vue_vue&type=style&index=0&lang.f070d3a3.js";import{_ as t}from"./settingLayaout.vue_vue&type=script&setup=true&lang.bc9540db.js";import{l as s}from"./Companies.9a475682.js";import{g as a,t as o}from"./config.85c589b8.js";import{h as r,n as p,p as i}from"./Mixin.c770db5b.js";import{g as u,i as n,a as c,m as l,u as m}from"./Memberships.6f46d7cf.js";import{d as v,r as d,w as f,A as j,o as _,h as y,K as g,D as b,j as h,B as V,L as x}from"./vendor.95b3aaf6.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.85379bea.js";import"./V-Button.vue_vue&type=script&setup=true&lang.3bef777d.js";import"./V-Placeload.3b9f21b3.js";import"./V-Control.0f5d3efa.js";import"./V-Field.vue_vue&type=script&setup=true&lang.19d9fa93.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.c8f021ca.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.40c90214.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.ceac713f.js";import"./formLayaut.vue_vue&type=style&index=0&lang.5bc235de.js";import"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.1297fb7b.js";import"./Diciplines.94f5e2be.js";import"./index.4bd91c18.js";import"./SidebarLayout.vue_vue&type=script&setup=true&lang.40710c2e.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.d227ed8c.js";import"./useDropdown.a79a267f.js";import"./V-Dropdown.6e0dd345.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.8893c022.js";import"./activePanelState.b2df5230.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.2450750c.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.7000afa2.js";import"./V-Message.vue_vue&type=script&setup=true&lang.201c0e20.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.2cf13c12.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.2bc45239.js";import"./navbarLayoutState.8a9ee85e.js";import"./sidebarLayoutState.ce2538e0.js";import"./video.ada25d72.js";import"./darkModeState.ec54b420.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.c6e033de.js";import"./AnimatedLogo.afc77a0f.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.54ae5c71.js";import"./V-Block.vue_vue&type=script&setup=true&lang.119380ef.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.809980e8.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.057e9f3a.js";import"./moment.08a7f518.js";import"./notyf.es.f84e4201.js";var S=v({expose:[],setup(v){const S=g(),L=b(),P=d(null),k=d(!1);f(l,(()=>{P.value=S.query.id,c.value=l.value.find((e=>e.id==P.value))})),j((()=>{k.value=!0,a(),u().then((()=>{n.value.map((e=>{e.model=c.value[e.name],"locations_to_sale"==e.name&&(e.values=JSON.parse(JSON.stringify(s.value)),e.model=[],c.value.locations.forEach((t=>{1==t.sale&&e.model.push(t.companies_locations_id)}))),"locations_to_access"==e.name&&(e.values=JSON.parse(JSON.stringify(s.value)),e.model=[],c.value.locations.forEach((t=>{1==t.access&&e.model.push(t.companies_locations_id)}))),"taxes_id"==e.name&&(e.values=o.value)})),k.value=!1}))}));const M=e=>{e=(e=>((e=i(e)).locations=[],e.locations_to_sale.forEach((t=>{""!=t&&e.locations.push({id:t,sale:1})})),e.locations_to_access.forEach((t=>{""!=t&&e.locations.map((s=>{t==s.id?s.access=1:e.locations.push({id:t,access:1})}))})),delete e.locations_to_access,delete e.locations_to_sale,e))(e),r.value||m(e).then((e=>{e.data.status&&(c.value=e.data.membership,p.success("Record Update"),L.back())})).catch((e=>{if(null!=e.response)for(var t in p.error(e.response.data.mensaje),e.response.data.errores)e.response.data.errores[t].forEach((e=>{p.error(e)}))})),console.log("inputs",e)};return(s,a)=>{const o=e,r=t;return _(),y(r,{title:"New Memberships"},{default:h((()=>[k.value?x("",!0):(_(),y(o,{key:0,type:"edit",membership:V(c),inputs:V(n),onOnSave:M},null,8,["membership","inputs"]))])),_:1})}}});export default S;
