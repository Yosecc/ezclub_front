import{_ as F}from"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import{_ as O}from"./V-Button.vue_vue_type_script_setup_true_lang.72d178c7.js";import{_ as G}from"./V-Card.vue_vue_type_script_setup_true_lang.f80f1beb.js";import{_ as z}from"./V-PlaceholderSection.vue_vue_type_script_setup_true_lang.7396220c.js";import{_ as H}from"./V-Modal.vue_vue_type_script_setup_true_lang.f0368080.js";import{_ as W}from"./V-PlaceholderPage.vue_vue_type_script_setup_true_lang.7e747268.js";import{_ as J}from"./V-FlexPagination.vue_vue_type_script_setup_true_lang.f736a510.js";import{_ as K}from"./V-Loader.vue_vue_type_script_setup_true_lang.f82321d3.js";import{_ as Q}from"./SidebarLayout.vue_vue_type_script_setup_true_lang.a7af6f4a.js";import{d as U,a2 as X,r as u,c as $,B as Z,j as ee,q as te,g as V,m as se,o as a,e as n,w as o,f as e,u as r,y as c,t as m,a9 as oe,F as ae,G as ne,h as P,i as f,a7 as ie,n as w}from"./index.4457215e.js";import{_ as le,a as re}from"./search-4-dark.12f0bf0d.js";import{p as ce}from"./sidebarLayoutState.d2b676a9.js";import{l as v,g as A,i as S,c as de,s as _e}from"./Inventory.9ab6d84b.js";import{a as ue,d as pe,l as x}from"./Companies.4f645ec0.js";import{u as me}from"./index.d9e84969.js";import"./V-Control.92200beb.js";import"./V-Field.vue_vue_type_script_setup_true_lang.33752939.js";import"./V-SwitchSegment.vue_vue_type_script_setup_true_lang.96e64ac9.js";import"./V-Checkbox.vue_vue_type_script_setup_true_lang.70a8d51f.js";import"./V-Placeload.9684d098.js";import"./ActivityPanel.vue_vue_type_style_index_0_lang.8acd0baa.js";import"./useDropdown.d2881c63.js";import"./V-Avatar.vue_vue_type_script_setup_true_lang.b4183814.js";import"./V-Dropdown.c58eb584.js";import"./V-Icon.vue_vue_type_script_setup_true_lang.a0e27302.js";import"./activePanelState.d3359fb3.js";import"./fastpizza.70124fcb.js";import"./TaskPanel.vue_vue_type_style_index_0_lang.50493a6a.js";import"./V-Tag.vue_vue_type_script_setup_true_lang.0d8ff65f.js";import"./video.d6dbc99d.js";import"./SearchPanel.vue_vue_type_style_index_0_lang.63cec0b9.js";import"./darkModeState.1f6503fc.js";import"./AnimatedLogo.d670690a.js";import"./V-IconBox.vue_vue_type_script_setup_true_lang.772b752f.js";import"./V-Block.vue_vue_type_script_setup_true_lang.00657afe.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang.5fb53f85.js";import"./userPopovers.f4b9fc60.js";const ve={class:"page-content-inner"},fe={class:"d-flex justify-content-between align-items-center"},he={class:"w-100"},ye={key:0,class:"w-100"},ge=e("h1",{class:"title is-4"},"Select a location",-1),xe=f("New Inventory"),ke=f("Confirm"),we=f("Confirm"),be={key:0,class:"title is-4"},Ce={class:"flex-list-wrapper flex-list-v1"},Ie=e("img",{class:"light-image",src:le,alt:""},null,-1),De=e("img",{class:"dark-image",src:re,alt:""},null,-1),$e={class:"flex-table"},Ve=e("span",{class:""},"ID",-1),Pe=e("span",null,"Status",-1),Ae=e("span",null,"Date Open",-1),Se=e("span",null,"Date Close",-1),Te=e("span",null,"Products Total",-1),Ye=e("span",{class:""},"Actions",-1),Le={class:"flex-list-inner"},Ee={"data-th":"ID",class:"flex-table-cell"},Me={class:"item-name dark-inverted"},Re={class:"flex-table-cell","data-th":"Status"},Ne={key:0,class:"tag is-success is-rounded"},Be={key:1,class:"tag is-rounded"},je={key:2,class:"tag is-info is-rounded"},qe={class:"flex-table-cell","data-th":"Date Open"},Fe={class:"light-text"},Oe={class:"flex-table-cell","data-th":"Date Close"},Ge={key:0,class:"light-text"},ze={key:1},He={class:"flex-table-cell","data-th":"Products Total"},We={class:"light-text"},Je={class:"flex-table-cell","data-th":"Actions"},Ke=f("Close Inventory"),Qe=f("View");var Mt=U({expose:[],setup(Ue){const{cookies:k}=X(),d=u(""),h=$(()=>d.value?me.filter(t=>t.username.match(new RegExp(d.value,"i"))||t.position.match(new RegExp(d.value,"i"))||t.industry.match(new RegExp(d.value,"i"))||t.status.match(new RegExp(d.value,"i"))||t.location.match(new RegExp(d.value,"i"))):S.value);ce.value="Inventory",Z({title:"Inventory"});const T=ie(),y=u(!1),g=u(!1),_=u(""),b=u(null),i=u(!1);ee(()=>{ue().then(t=>{te(x,"locations_id",pe.value),V(x.value,"locations_id").change=C,k.get("locations_id")!=null&&(V(x.value,"locations_id").model=k.get("locations_id"),C(k.get("locations_id")))})});const C=function(t){typeof t=="object"&&(t=this.model),i.value=!0,v.value=t,A(t).then(l=>{i.value=!1})},Y=()=>{g.value=!1,i.value=!0,_.value="Processing Inventory... Please do not close the browser window until the process is complete",de(b.value).then(t=>{w.success("Success"),i.value=!1,_.value="",A(),window.location.reload()}).catch(t=>{w.error(t.response.data),i.value=!1,_.value=""})},L=()=>{y.value=!1,i.value=!0,_.value="wait a moment, you will be redirected",_e().then(t=>{T.push({name:"settings-inventory-create",query:{id:t.data.inventory,locations_id:v.value}})}).catch(t=>{w.error(t.response.data.message),i.value=!1,_.value=t.response.data.message})},E=$(()=>{let t=[];return S.value.forEach(l=>{t.push([l.id,l.status,l.created_at,l.updated_at,100,1])}),t});return se(E,t=>{i.value=!0,setTimeout(()=>{i.value=!1},500)}),(t,l)=>{const M=F,p=O,R=G,I=z,D=H,N=W,B=J,j=K,q=Q;return a(),n(q,null,{default:o(()=>[e("div",ve,[e(R,{class:"mb-6"},{default:o(()=>[e("div",fe,[e("div",he,[r(v)?c("",!0):(a(),n("div",ye,[ge])),e(M,{"inputs-step":r(x)},null,8,["inputs-step"])]),!i.value&&r(v)?(a(),n(p,{key:0,color:"primary",onClick:l[1]||(l[1]=s=>y.value=!0),raised:"",class:"mb-4"},{default:o(()=>[xe]),_:1})):c("",!0)])]),_:1}),e(D,{open:g.value,actions:"center",onClose:l[2]||(l[2]=s=>g.value=!1)},{content:o(()=>[e(I,{title:" Are you sure you want to close inventory?",subtitle:"This action will modify the stock of all products for sale and cannot be undone"})]),action:o(()=>[e(p,{color:"primary",onClick:Y,raised:""},{default:o(()=>[ke]),_:1})]),_:1},8,["open"]),e(D,{open:y.value,actions:"center",onClose:l[3]||(l[3]=s=>y.value=!1)},{content:o(()=>[e(I,{title:" Are you sure to create a new inventory?",subtitle:"This action blocks all movements related to sales, creation and editing of products in the system until the inventory is closed."})]),action:o(()=>[e(p,{color:"primary",onClick:L,raised:""},{default:o(()=>[we]),_:1})]),_:1},8,["open"]),i.value?(a(),n("h1",be,m(_.value),1)):c("",!0),e(j,{size:"large",active:i.value},{default:o(()=>[e("div",Ce,[e(N,{class:[r(h).length!==0&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:`Too bad. Looks like we couldn't find any matching results for the\r
            search terms you've entered. Please try different search terms or\r
            criteria.`,larger:""},{image:o(()=>[Ie,De]),_:1},8,["class"]),e("div",$e,[e("div",{class:["flex-table-header",[r(h).length===0&&"is-hidden"]]},[Ve,Pe,Ae,Se,Te,Ye],2),e("div",Le,[e(oe,{name:"list",tag:"div"},{default:o(()=>[(a(!0),n(ae,null,ne(r(h),s=>(a(),n("div",{key:s.id,class:"flex-table-item"},[e("div",Ee,[e("div",null,[e("span",Me,m(s.id),1)])]),e("div",Re,[s.status===1?(a(),n("span",Ne,"Active")):c("",!0),s.status===0?(a(),n("span",Be,"Close")):c("",!0),s.status===2?(a(),n("span",je,"Process")):c("",!0)]),e("div",qe,[e("span",Fe,m(r(P)(s.created_at).format("dd - DD/MM/YYYY")),1)]),e("div",Oe,[s.close?(a(),n("span",Ge,m(r(P)(s.close).format("dd - DD/MM/YYYY")),1)):(a(),n("span",ze,"-"))]),e("div",He,[e("span",We,m(s.products.length),1)]),e("div",Je,[s.status==1?(a(),n(p,{key:0,color:"success",onClick:Xe=>{g.value=!0,b.value=s.id},raised:"",class:"mr-4"},{default:o(()=>[Ke]),_:2},1032,["onClick"])):c("",!0),e(p,{to:{name:"settings-inventory-create",query:{id:s.id,locations_id:r(v)}}},{default:o(()=>[Qe]),_:2},1032,["to"])])]))),128))]),_:1})])]),r(h).length>5?(a(),n(B,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":7})):c("",!0)])]),_:1},8,["active"])])]),_:1})}}});export{Mt as default};
