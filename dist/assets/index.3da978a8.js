import{_ as e}from"./inputsLayaut.vue_vue&type=style&index=0&lang.89489468.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.9233a2bf.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.3fb23d8a.js";import{_ as s}from"./V-PlaceholderSection.vue_vue&type=script&setup=true&lang.6817a784.js";import{_ as l}from"./V-Modal.vue_vue&type=script&setup=true&lang.47db5da5.js";import{_ as i}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.4506d72b.js";import{_ as o}from"./V-FlexPagination.vue_vue&type=script&setup=true&lang.55d3a1c8.js";import{_ as r}from"./V-Loader.vue_vue&type=script&setup=true&lang.58016655.js";import{_ as n}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.7e509fcc.js";import{d as u,u as c,r as p,c as d,L as v,G as m,w as f,o as y,h as g,a4 as _,j as h,k as b,D as j,J as x,F as k,ab as w,Q as V,R as C,z as P,E as D}from"./vendor.19059cc4.js";import{_ as S,a as I}from"./search-4-dark.12f0bf0d.js";import{p as T}from"./sidebarLayoutState.efc25bb1.js";import{l as A,g as L,i as Y,c as E,s as M}from"./Inventory.8a312ebd.js";import{b as R,c as z,l as B}from"./Companies.c782ca78.js";import{a as F,g as q,n as O}from"./index.baf361a5.js";import{u as G}from"./index.d9e84969.js";import"./V-Control.e16eda34.js";import"./V-Field.vue_vue&type=script&setup=true&lang.7ab7a74f.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.2af61529.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.53f2a136.js";import"./V-Placeload.72e6de58.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.d8328939.js";import"./useDropdown.63c50e3d.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.bf625c73.js";import"./V-Dropdown.fd74f7e2.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.4b194de7.js";import"./activePanelState.922a5593.js";import"./fastpizza.c9124eb0.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.0cc73652.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.6a87dd80.js";import"./V-Message.vue_vue&type=script&setup=true&lang.6b830a51.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.7cc10ad0.js";import"./navbarLayoutState.9c1af26a.js";import"./video.00981ddd.js";import"./darkModeState.192f5f6e.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.2089f3a0.js";import"./AnimatedLogo.496829ee.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.cc282596.js";import"./V-Block.vue_vue&type=script&setup=true&lang.bfd23873.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.8511020c.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.a82f9e10.js";const J={class:"page-content-inner"},N={class:"d-flex justify-content-between align-items-center"},Q={class:"w-100"},U={key:0,class:"w-100"},W=b("h1",{class:"title is-4"},"Select a location",-1),H=D("New Inventory"),K=D("Confirm"),X=D("Confirm"),Z={key:0,class:"title is-4"},$={class:"flex-list-wrapper flex-list-v1"},ee=b("img",{class:"light-image",src:S,alt:""},null,-1),te=b("img",{class:"dark-image",src:I,alt:""},null,-1),ae={class:"flex-table"},se=b("span",{class:""},"ID",-1),le=b("span",null,"Status",-1),ie=b("span",null,"Date Open",-1),oe=b("span",null,"Date Close",-1),re=b("span",null,"Products Total",-1),ne=b("span",{class:""},"Actions",-1),ue={class:"flex-list-inner"},ce={"data-th":"ID",class:"flex-table-cell"},pe={class:"item-name dark-inverted"},de={class:"flex-table-cell","data-th":"Status"},ve={key:0,class:"tag is-success is-rounded"},me={key:1,class:"tag is-rounded"},fe={key:2,class:"tag is-info is-rounded"},ye={class:"flex-table-cell","data-th":"Date Open"},ge={class:"light-text"},_e={class:"flex-table-cell","data-th":"Date Close"},he={key:0,class:"light-text"},be={key:1},je={class:"flex-table-cell","data-th":"Products Total"},xe={class:"light-text"},ke={class:"flex-table-cell","data-th":"Actions"},we=D("Close Inventory"),Ve=D("View");var Ce=u({expose:[],setup(u){const{cookies:D}=c(),S=p(""),I=d((()=>S.value?G.filter((e=>e.username.match(new RegExp(S.value,"i"))||e.position.match(new RegExp(S.value,"i"))||e.industry.match(new RegExp(S.value,"i"))||e.status.match(new RegExp(S.value,"i"))||e.location.match(new RegExp(S.value,"i")))):Y.value));T.value="Inventory",v({title:"Inventory"});const Ce=_(),Pe=p(!1),De=p(!1),Se=p(""),Ie=p(null),Te=p(!1);m((()=>{R().then((e=>{F(B,"locations_id",z.value.locations),q(B.value,"locations_id").change=Ae,null!=D.get("locations_id")&&(q(B.value,"locations_id").model=D.get("locations_id"),Ae(D.get("locations_id")))}))}));const Ae=function(e){"object"==typeof e&&(e=this.model),Te.value=!0,A.value=e,L(e).then((e=>{Te.value=!1}))},Le=()=>{De.value=!1,Te.value=!0,Se.value="Processing Inventory... Please do not close the browser window until the process is complete",E(Ie.value).then((e=>{O.success("Success"),Te.value=!1,Se.value="",L(),window.location.reload()})).catch((e=>{O.error(e.response.data),Te.value=!1,Se.value=""}))},Ye=()=>{Pe.value=!1,Te.value=!0,Se.value="wait a moment, you will be redirected",M().then((e=>{Ce.push({name:"settings-inventory-create",query:{id:e.data.inventory,locations_id:A.value}})})).catch((e=>{O.error(e.response.data.message),Te.value=!1,Se.value=e.response.data.message}))},Ee=d((()=>{let e=[];return Y.value.forEach((t=>{e.push([t.id,t.status,t.created_at,t.updated_at,100,1])})),e}));return f(Ee,(e=>{Te.value=!0,setTimeout((()=>{Te.value=!1}),500)})),(u,c)=>{const p=e,d=t,v=a,m=s,f=l,_=i,D=o,S=r,T=n;return y(),g(T,null,{default:h((()=>[b("div",J,[b(v,{class:"mb-6"},{default:h((()=>[b("div",N,[b("div",Q,[j(A)?x("",!0):(y(),g("div",U,[W])),b(p,{"inputs-step":j(B)},null,8,["inputs-step"])]),!Te.value&&j(A)?(y(),g(d,{key:0,color:"primary",onClick:c[1]||(c[1]=e=>Pe.value=!0),raised:"",class:"mb-4"},{default:h((()=>[H])),_:1})):x("",!0)])])),_:1}),b(f,{open:De.value,actions:"center",onClose:c[2]||(c[2]=e=>De.value=!1)},{content:h((()=>[b(m,{title:" Are you sure you want to close inventory?",subtitle:"This action will modify the stock of all products for sale and cannot be undone"})])),action:h((()=>[b(d,{color:"primary",onClick:Le,raised:""},{default:h((()=>[K])),_:1})])),_:1},8,["open"]),b(f,{open:Pe.value,actions:"center",onClose:c[3]||(c[3]=e=>Pe.value=!1)},{content:h((()=>[b(m,{title:" Are you sure to create a new inventory?",subtitle:"This action blocks all movements related to sales, creation and editing of products in the system until the inventory is closed."})])),action:h((()=>[b(d,{color:"primary",onClick:Ye,raised:""},{default:h((()=>[X])),_:1})])),_:1},8,["open"]),Te.value?(y(),g("h1",Z,k(Se.value),1)):x("",!0),b(S,{size:"large",active:Te.value},{default:h((()=>[b("div",$,[b(_,{class:[0!==j(I).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\r\n            search terms you've entered. Please try different search terms or\r\n            criteria.",larger:""},{image:h((()=>[ee,te])),_:1},8,["class"]),b("div",ae,[b("div",{class:["flex-table-header",[0===j(I).length&&"is-hidden"]]},[se,le,ie,oe,re,ne],2),b("div",ue,[b(w,{name:"list",tag:"div"},{default:h((()=>[(y(!0),g(V,null,C(j(I),(e=>(y(),g("div",{key:e.id,class:"flex-table-item"},[b("div",ce,[b("div",null,[b("span",pe,k(e.id),1)])]),b("div",de,[1===e.status?(y(),g("span",ve,"Active")):x("",!0),0===e.status?(y(),g("span",me,"Close")):x("",!0),2===e.status?(y(),g("span",fe,"Process")):x("",!0)]),b("div",ye,[b("span",ge,k(j(P)(e.created_at).format("dd - DD/MM/YYYY")),1)]),b("div",_e,[e.close?(y(),g("span",he,k(j(P)(e.close).format("dd - DD/MM/YYYY")),1)):(y(),g("span",be,"-"))]),b("div",je,[b("span",xe,k(e.products.length),1)]),b("div",ke,[1==e.status?(y(),g(d,{key:0,color:"success",onClick:t=>{De.value=!0,Ie.value=e.id},raised:"",class:"mr-4"},{default:h((()=>[we])),_:2},1032,["onClick"])):x("",!0),b(d,{to:{name:"settings-inventory-create",query:{id:e.id,locations_id:j(A)}}},{default:h((()=>[Ve])),_:2},1032,["to"])])])))),128))])),_:1})])]),j(I).length>5?(y(),g(D,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":7})):x("",!0)])])),_:1},8,["active"])])])),_:1})}}});export default Ce;
