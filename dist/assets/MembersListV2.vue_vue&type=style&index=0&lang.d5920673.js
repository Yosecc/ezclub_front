import{_ as e}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.6d7d3022.js";import{_ as s}from"./V-Avatar.vue_vue&type=script&setup=true&lang.18dfabcd.js";import{_ as a}from"./V-IconButton.vue_vue&type=script&setup=true&lang.970e4355.js";import{_ as t}from"./V-Tag.vue_vue&type=script&setup=true&lang.5554d4bf.js";import{_ as l}from"./V-Button.vue_vue&type=script&setup=true&lang.dc9138c0.js";import{_ as r}from"./V-Card.vue_vue&type=script&setup=true&lang.89bf5570.js";import{d as i,A as n,b as m,o as c,h as o,j as u,k as d,J as p,D as b,K as f,T as v,G as h,r as g,w as y,a8 as _,B as x,U as k,L as j,N as w}from"./vendor.3b9a49d2.js";import{h as P}from"./moment.08a7f518.js";import{_ as C,a as M}from"./search-4-dark.fb3880a5.js";import{a as A}from"./index.f7cca200.js";const T={key:0},V={class:"d-flex justify-content-between mb-4"},$={class:"d-flex align-items-center"},B={class:"ml-5"},D={class:"title is-5 is-narrow mb-1"},E=d("p",null,"Member",-1),I={class:"title is-6 is-narrow"},R={key:0,class:"text-center mb-4"},S=d("p",null,"last payment attempt",-1),z={key:0},L={key:1},N={class:"d-flex justify-content-center"},q=h(" Update "),O=h(" Ckeck-in "),U={key:1},G=d("p",null,"No hay miembro seleccionado",-1);var J=i({expose:[],props:{status:{type:Boolean},member:{type:Object}},emits:["closeMemberCard"],setup(e,{emit:i}){const h=e;n((()=>{console.log(h.member)}));const g=m((()=>{let e=P(h.member.membership_members.payments[0].created_at),s=P();return P.duration(s.diff(e))._days}));return(i,n)=>{const m=s,y=a,_=t,x=l,k=r;return c(),o(v,{name:"fade-slow"},{default:u((()=>[e.status?(c(),o(k,{key:0,id:"sidebarMember",color:e.member.membership_members.payments[0].status?"info":"danger",class:"column is-6"},{default:u((()=>[e.member?(c(),o("div",T,[d("div",V,[d("div",$,[d(m,{picture:e.member.photo,color:void 0,initials:"AR",size:"sm"},null,8,["picture"]),d("div",B,[d("h1",D,p(e.member.name)+" "+p(e.member.second_name)+" "+p(e.member.last_name),1),E,d("h2",I,"# "+p(e.member.id),1)])]),d("div",null,[d(y,{color:"danger",onClick:n[1]||(n[1]=e=>i.$emit("closeMemberCard")),style:{background:"transparent"},light:"",raised:"",circle:"",icon:"feather:x"})])]),e.member.membership_members.payments[0].status?f("",!0):(c(),o("div",R,[d(_,{color:"white",label:"PAYMENT",class:"mb-3"}),S,b(g)>0?(c(),o("p",z,p(b(g))+" days past due",1)):(c(),o("p",L,p(b(P)(h.member.membership_members.payments[0].created_at).format("yy/mm/d hh:mm:ss")),1))])),d("div",N,[d(x,{to:{name:"members-profile",query:{id:e.member.id,category:e.member.category}},color:"primary",class:"m-3 button-custom",icon:"fas fa-pen"},{default:u((()=>[q])),_:1},8,["to"]),d(x,{color:"warning",class:"m-3 button-custom",icon:"fas fa-clock"},{default:u((()=>[O])),_:1})])])):(c(),o("div",U,[G]))])),_:1},8,["color"])):f("",!0)])),_:1})}}});const K={class:"page-content-inner"},W={class:"flex-list-wrapper flex-list-v1"},Y=d("img",{class:"light-image",src:C,alt:""},null,-1),F=d("img",{class:"dark-image",src:M,alt:""},null,-1),H={class:"flex-table"},Q=d("span",{class:"is-grow"},"Member",-1),X=d("span",null,"Member ID",-1),Z=d("span",null,"Membership Type",-1),ee=d("span",null,"Trainer",-1),se=d("span",null,"Phone #",-1),ae=d("span",null,"Status",-1),te=d("span",{class:"cell-end"},"Actions",-1),le={class:"flex-list-inner"},re={class:"item-name dark-inverted"},ie={class:"flex-table-cell","data-th":"member-id"},ne={class:"light-text"},me={class:"flex-table-cell","data-th":"Membership Type"},ce={class:"light-text"},oe={class:"flex-table-cell is-media is-grow","data-th":"Trainer"},ue={key:1,class:"light-text dark-inverted ml-2"},de={class:"flex-table-cell","data-th":"Phone"},pe={class:"light-text"},be={class:"flex-table-cell","data-th":"Status"},fe={key:0,class:"tag is-success is-rounded"},ve={key:1,class:"tag is-danger is-rounded"},he=d("div",{class:"flex-table-cell cell-end","data-th":"Actions"},null,-1);var ge=i({expose:[],props:{members:{type:Array,required:!0},name:{type:String,default:"Item"},paginationData:{type:Object,default:{itemPerPage:15,totalItems:1,currentPage:1,maxLinksDisplayed:7}},filters:{type:String}},emits:["filterChange"],setup(a,{emit:t}){const l=a;x(),k(),g(""),g("all"),g({});const r=m((()=>l.filters?l.members.filter((e=>e.name.match(new RegExp(l.filters,"i"))||e.last_name.match(new RegExp(l.filters,"i"))||e.second_name.match(new RegExp(l.filters,"i"))||e.id==l.filters||e.phone==l.filters||e.personal_identifications==l.filters)):l.members)),i=g({status:!1,member:null}),n=()=>{i.value.status=!1,i.value.member=null},v=(e,s)=>e.substr(0,1)+s.substr(0,1);return y((()=>l.members),(()=>{})),(a,t)=>{const m=e,h=s,g=J;return c(),o("div",null,[d("div",K,[d("div",W,[d(m,{class:[0!==b(r).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:u((()=>[Y,F])),_:1},8,["class"]),d("div",H,[d("div",{class:["flex-table-header",[0===b(r).length&&"is-hidden"]]},[Q,X,Z,ee,se,ae,te],2),d("div",le,[d(_,{name:"list",tag:"div"},{default:u((()=>[(c(!0),o(j,null,w(b(r),(e=>(c(),o("div",{key:`${l.name}-${e.id}`,class:["flex-table-item cursor-pointer",e.membership_members.payments[0].status?"":"bg-danger"]},[d("div",{onClick:s=>{return a=!0,t=e,i.value.status=a,void(i.value.member=t);var a,t},class:"flex-table-cell is-media is-grow"},[d(h,{picture:`${b(A)}storage/${e.photo}`,color:"primary",initials:v(e.name,e.last_name),size:"medium"},null,8,["picture","initials"]),d("div",null,[d("span",re,[d("h3",null,p(e.name)+" "+p(e.second_name)+" "+p(e.last_name),1)])])],8,["onClick"]),d("div",ie,[d("span",ne,p(e.id),1)]),d("div",me,[d("span",ce,p(e.membership.name),1)]),d("div",oe,[null!=e.trainer?(c(),o(h,{key:0,picture:e.trainer.photo,color:"h-green",initials:v(e.trainer.name,e.trainer.last_name),size:"medium"},null,8,["picture","initials"])):f("",!0),null!=e.trainer?(c(),o("span",ue,p(e.trainer.name)+" "+p(e.trainer.second_name)+" "+p(e.trainer.last_name),1)):f("",!0)]),d("div",de,[d("span",pe,p(e.phone),1)]),d("div",be,[1===e.status?(c(),o("span",fe,p(e.status?"Active":"Payment"),1)):f("",!0),0===e.status?(c(),o("span",ve,p(e.status?"Active":"Payment"),1)):f("",!0)]),he],2)))),128))])),_:1})])])])]),d(g,{status:i.value.status,member:i.value.member,onCloseMemberCard:n},null,8,["status","member"])])}}});export{ge as _};
