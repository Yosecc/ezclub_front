import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.89bf5570.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.dc9138c0.js";import{_ as a}from"./V-Placeload.ec1fe97e.js";import{d as n,A as s,o as i,h as l,k as r,j as o,L as u,G as m,B as c,U as p,i as d,r as g,D as b,J as v,K as f,z as y,N as S}from"./vendor.3b9a49d2.js";import{_ as h}from"./pdf_icon.0444a540.js";import{a as _,A as w}from"./index.c7c95556.js";import{_ as j}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.950df11b.js";import{p as x}from"./sidebarLayoutState.9d5a55d2.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.ecd6a3be.js";import"./useDropdown.4b88246a.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.18dfabcd.js";import"./V-Dropdown.5634df5b.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.725db5d0.js";import"./activePanelState.d422980e.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.e1bc86c9.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.5554d4bf.js";import"./V-Message.vue_vue&type=script&setup=true&lang.f4c30d64.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.db2a2ca9.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.533d5625.js";import"./navbarLayoutState.2f1237bb.js";import"./video.7e4ace56.js";import"./darkModeState.9048b099.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.9336f53f.js";import"./AnimatedLogo.d39560aa.js";import"./V-Control.70f7b974.js";import"./V-Field.vue_vue&type=script&setup=true&lang.8caeb9ca.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.5fbfe7cf.js";import"./V-Block.vue_vue&type=script&setup=true&lang.fd027cc2.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.7c436ff6.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.b8cff140.js";const D=r("table",{border:"1",cellpadding:"0",width:"500"},[r("tr",null,[r("td",{height:"100",width:"500"},[r("canvas",{id:"cnv",name:"cnv",width:"500",height:"100"})])])],-1),I=r("canvas",{name:"SigImg",id:"SigImg",width:"500",height:"100"},null,-1),W=r("p",{id:"sigWebVrsnNote",style:{"font-family":"Arial"}},null,-1),T={action:"#",name:"FORM1"},V=m("     "),C=m("     "),E=m("     "),P=m("SigString: "),k=m("Base64 String: "),B=m("SigString: "),M=m("Base64 String: "),z=r("br",null,null,-1),L=r("br",null,null,-1),N=r("p",{id:"daysUntilExpElement"},null,-1),H=r("p",{id:"SigWebVersion"},null,-1),A=r("p",{id:"SigWebTabletJSVersion"},null,-1),$=r("p",{id:"CertificateExpirationDate"},null,-1);var F=n({expose:[],emits:["onSignYes"],setup(e,{emit:t}){var a,n=!1,m=!1,g=!1;c(),p(),s((()=>{if(IsSigWebInstalled()){var e="";try{e=GetSigWebVersion()}catch(l){}if(""!=e){try{g=v(e)}catch(l){}if(g){n=!0;try{var t=GetDaysUntilCertificateExpires();document.getElementById("daysUntilExpElement").innerHTML="SigWeb Certificate expires in "+t+" days."}catch(l){}(i=document.getElementById("sigWebVrsnNote")).innerHTML="SigWeb 1.7.0 installed"}else{try{m=b(e)}catch(l){}if(m)n=!0,(s=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",s.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="SigWeb 1.6.4 is installed. Install the newer version of SigWeb from the following link: ",i.appendChild(s);else(s=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",s.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="A newer version of SigWeb is available. Please uninstall the currently installed version of SigWeb and then install the new version of SigWeb from the following link: ",i.appendChild(s)}}else{var s,i;(s=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",s.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="A newer version of SigWeb is available. Please uninstall the currently installed version of SigWeb and then install the new version of SigWeb from the following link: ",i.appendChild(s)}}else alert("Unable to communicate with SigWeb. Please confirm that SigWeb is installed and running on this PC.");window.onbeforeunload=function(e){h(),clearInterval(a),e.preventDefault()}}));const b=e=>!f("1.6.4.0",e),v=e=>!f("1.7.0.0",e),f=(e,t)=>y(e,t),y=(e,t)=>{const a=e.split("."),n=t.split(".");for(var s=0;s<n.length;s++){const e=parseInt(n[s])||0,t=parseInt(a[s])||0;if(e<t)return!0;if(e>t)return!1}return!1},S=e=>{document.FORM1.sigImageData.value=e,t("onSignYes",e)},h=()=>{n?Reset():(ClearTablet(),SetTabletState(0,a))};return(e,t)=>{const n=d("BR"),s=d("INPUT"),m=d("TEXTAREA");return i(),l(u,null,[D,r(n),I,W,r("form",T,[r("p",null,[r("input",{id:"SignBtn",name:"SignBtn",type:"button",value:"Sign",onClick:t[1]||(t[1]=e=>(()=>{if(IsSigWebInstalled()){var e=document.getElementById("cnv").getContext("2d");SetDisplayXSize(500),SetDisplayYSize(100),SetTabletState(0,a),SetJustifyMode(0),ClearTablet(),null==a||(SetTabletState(0,a),a=null),a=SetTabletState(1,e,50)}else alert("Unable to communicate with SigWeb. Please confirm that SigWeb is installed and running on this PC.")})())}),V,r("input",{id:"button1",name:"ClearBtn",type:"button",value:"Clear","on@click":t[2]||(t[2]=e=>{ClearTablet()})},null,32),C,r("input",{id:"button2",name:"DoneBtn",type:"button",value:"Done",onClick:t[3]||(t[3]=e=>{0==NumberOfTabletPoints()?alert("Please sign before continuing"):(SetTabletState(0,a),SetSigCompressionMode(1),document.FORM1.bioSigData.value=GetSigString(),document.FORM1.sigStringData.value=GetSigString(),SetImageXSize(500),SetImageYSize(100),SetImagePenWidth(5),GetSigImageB64(S))})}),E,r(s,{"t-y-p-e":"HIDDEN","n-a-m-e":"bioSigData"}),r(s,{"t-y-p-e":"HIDDEN","n-a-m-e":"sigImgData"}),r(s,{type:"HIDDEN",name:"bioSigData"}),r(s,{type:"HIDDEN",name:"sigImgData"}),r(n),r(n),r(m,{"n-a-m-e":"sigStringData","r-o-w-s":"20","c-o-l-s":"50"},{default:o((()=>[P])),_:1}),r(m,{"n-a-m-e":"sigImageData","r-o-w-s":"20","c-o-l-s":"50"},{default:o((()=>[k])),_:1}),r(m,{name:"sigStringData",rows:"20",cols:"50"},{default:o((()=>[B])),_:1}),r(m,{name:"sigImageData",rows:"20",cols:"50"},{default:o((()=>[M])),_:1})])]),z,L,N,H,A,$],64)}}});const q={class:"columns is-multiline"},U={key:0,class:"d-flex justify-content-center column is-12 mb-4"},O={class:"text-center mr-6"},R=r("img",{src:h,width:"40",alt:""},null,-1),G=m(" View PDF "),Y={class:"text-center ml-6"},J=r("img",{src:h,width:"40",alt:""},null,-1),X=m(" View PDF "),K={key:2,class:"text-center mb-4 mt-5 mx-auto"},Q=r("p",{class:"mb-4 title is-5"},"Saved signature",-1);var Z=n({expose:[],props:{member:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(n){const u=n;s((()=>{}));const m=g(!1),c=g(!1),p=g(null);g();const d=async e=>(p.value=e,m.value=!0,w.post(`sign/${u.member.membership_members.id}`,{sign:e}).then((e=>{c.value=!0,m.value=!1})));return(s,u)=>{const g=t,y=a,S=F,h=e;return i(),l(h,{radius:"small"},{default:o((()=>[r("div",q,[n.loading?f("",!0):(i(),l("div",U,[r("div",O,[r("a",{target:"_blank",href:`${b(_)}generateContract/${n.member.id}`},[R,r("p",null," contract_"+v(n.member.id)+"_"+v(n.member.membership_members.id)+"_"+v(n.member.personal_identifications)+".pdf ",1),r(g,{color:"success",outlined:"",class:"mt-4 py-1"},{default:o((()=>[G])),_:1})],8,["href"])]),r("div",Y,[r("a",{target:"_blank",href:`${b(_)}generateWeiver/${n.member.id}`},[J,r("p",null," weiver_"+v(n.member.id)+"_"+v(n.member.membership_members.id)+"_"+v(n.member.personal_identifications)+".pdf ",1),r(g,{color:"success",outlined:"",class:"mt-4 py-1"},{default:o((()=>[X])),_:1})],8,["href"])])])),m.value&&!c.value?(i(),l(y,{key:1,width:"400px",height:"135px",style:{"margin-top":"10px"},class:"mx-auto"})):f("",!0),r(S,{onOnSignYes:d}),c.value?(i(),l("div",K,[Q,r("img",{src:p.value,width:"400",height:"135",alt:""},null,8,["src"])])):f("",!0)])])),_:1})}}});const ee={class:"page-content-inner"},te=r("h1",{class:"title is-4"},"Successful Payment",-1),ae={class:"title is-3"},ne={key:0,class:"mt-6"},se={class:"title is-3"},ie=m(" View and sign: Family ");var le=n({expose:[],setup(a){x.value="Add New members",y({title:"Members"});const n=c();p();const m=g([]),d=g(null),h=g(null),_=g(!0);let D=g([]);s((()=>{w.post(`payment/${n.query.id}`,{payment_intent_client_secret:n.query.payment_intent_client_secret,redirect_status:n.query.redirect_status}).then((e=>{e.data.status&&(d.value=n.query.redirect_status,h.value=e.data.urlPDF,m.value=e.data.member,D.value=e.data.familiares,_.value=!1)}))}));return(a,s)=>{const c=e,p=Z,d=t,g=j;return i(),l(g,null,{default:o((()=>[r("div",ee,[r("div",null,[r(c,{class:"mb-4",radius:"small",color:"success"},{default:o((()=>[te])),_:1}),r("h2",ae," Sign "+v(m.value.name)+" "+v(m.value.second_name)+" "+v(m.value.last_name),1),r(p,{loading:_.value,member:m.value},null,8,["loading","member"]),b(D).length>0?(i(),l("div",ne,[(i(!0),l(u,null,S(b(D),((e,t)=>(i(),l("div",{key:`familu${t}`},[r(c,{class:"mb-4",radius:"small"},{default:o((()=>[r("h2",se," Sign Family: "+v(e.name)+" "+v(e.second_name)+" "+v(e.last_name),1),r(d,{color:"warning",class:"text-center mx-auto",onClick:t=>(e=>{window.location.href=`https://dev-frontend.ushuaiacreative.com/members/process?id=${e.id}&payment_intent=${n.query.payment_intent}&payment_intent_client_secret=${n.query.payment_intent_client_secret}&redirect_status=${n.query.redirect_status}`})(e)},{default:o((()=>[ie])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])):f("",!0)])])])),_:1})}}});export default le;
