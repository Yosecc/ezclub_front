import{_ as e}from"./V-Placeload.9d0101ab.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.acbf948e.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.a508baf8.js";import{m as s,i as l,a as n,b as r,c as i,d as o,p as u,e as c,f as m,g as d,h as p,j as h,k as v,l as f,n as b,o as y,s as _,q as g,r as M,t as k,D as j}from"./Members.2b5b4f88.js";import{a as x}from"./index.8b775b30.js";import{d as D,w as C,A as Y,b as w,r as E,E as S,o as $,h as P,L as A,B as T,j as I,k as V,K as F,N as H,O as W,H as N,a8 as z,z as L,G as R,R as q}from"./vendor.e3a29b40.js";import{_ as B}from"./V-Button.vue_vue&type=script&setup=true&lang.a97a12f7.js";import{_ as O}from"./stripeForm.vue_vue&type=script&setup=true&lang.78201301.js";import{b as U,d as G,v as K,m as J,p as Q,n as X,a as Z,s as ee,g as te}from"./Mixin.788265f9.js";import{h as ae}from"./moment.08a7f518.js";import{_ as se}from"./inputsLayaut.vue_vue&type=style&index=0&lang.50bb1f04.js";import{_ as le}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.d27a24ca.js";import{_ as ne}from"./pdf_icon.0444a540.js";import{g as re}from"./Diciplines.543d68ac.js";import{r as ie,g as oe}from"./Recurrences.59dce324.js";import{_ as ue}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.d309b490.js";import{_ as ce}from"./V-Block.vue_vue&type=script&setup=true&lang.f5251e79.js";import{_ as me}from"./V-Control.b36667bf.js";import{_ as de}from"./V-Field.vue_vue&type=script&setup=true&lang.189c1bf7.js";import{_ as pe}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.44420b1a.js";import{p as he}from"./sidebarLayoutState.436b738a.js";import{g as ve}from"./Discounts.ba120187.js";import{g as fe}from"./Memberships.f229770f.js";import{h as be}from"./Staffs.e478b81e.js";import{g as ye}from"./config.9c7f430b.js";import{a as _e,l as ge}from"./Companies.c4a5d5aa.js";import"./notyf.es.f84e4201.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.13bae167.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.f00f67a3.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.eb96c098.js";import"./V-Dropdown.7404a3e2.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.1a89ef3a.js";import"./useDropdown.dfad556c.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.cb13c5a2.js";import"./activePanelState.5a49edcb.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.6ac71797.js";import"./V-Message.vue_vue&type=script&setup=true&lang.f3abd056.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.b59ccca7.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.5145729d.js";import"./navbarLayoutState.c5c2b808.js";import"./video.674f0486.js";import"./darkModeState.a53f3c67.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.2f79059e.js";import"./AnimatedLogo.e43df3fc.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.5e6c3f74.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.16aa198e.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.c5504f9b.js";const Me={class:"d-flex mb-4"},ke={class:"ml-3"},je={class:"title is-5 is-narrow"},xe={class:"w-100 mt-5"},De=V("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var Ce=D({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:n}){const r=e,i=T();C((()=>i.hash),(e=>{m.value=o.findIndex((e=>e.component==i.hash.slice(1)))})),Y((()=>{""!=i.hash&&(m.value=o.findIndex((e=>e.component==i.hash.slice(1))))}));const o=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"}],u=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],c=w((()=>["Adult","Minor"].includes(r.category)?o:u)),m=E(0),d=E(null),p=w((()=>null!=c.value[m.value]?c.value[m.value].component:d.value));return(e,r)=>{const i=t,o=a;return S(s)?($(),P(o,{key:0,color:S(l)?"":"danger"},{default:I((()=>[V("div",Me,[V(i,{picture:`${S(x)}storage/${S(s).photo}`,size:"large"},null,8,["picture"]),V("div",ke,[V("h2",je,F(S(s).name)+" "+F(S(s).second_name)+" "+F(S(s).last_name),1)])]),V("div",xe,[V("ul",null,[($(!0),P(H,null,W(S(c),((e,t)=>($(),P("li",{key:`item-${t}`},[V(o,{class:["\n              mb-3\n              item_menu\n              d-flex\n              justify-content-between\n              align-items-center\n            ",m.value==t?"active":""],color:m.value==t?"warning":void 0,elevated:m.value==t,onClick:e=>(e=>{m.value=e,n("changeMenu",p)})(t)},{default:I((()=>[V("p",null,F(e.name),1),De])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1},8,["color"])):A("",!0)}}});const Ye={class:"table is-hoverable is-striped is-fullwidth"},we=V("thead",null,[V("tr",null,[V("th",{scope:"col"},"Members"),V("th",{scope:"col"},"Membership Name"),V("th",{scope:"col"},"Recurrence"),V("th",{scope:"col"},"Prorated"),V("th",{scope:"col"},"Membership Cost"),V("th",{scope:"col"},"Taxes"),V("th",{scope:"col"},"Sub Total")])],-1),Ee={key:0},Se={key:0},$e={key:0},Pe=V("br",null,null,-1),Ae={key:1},Te=V("td",{style:{"text-align":"right"},colspan:"6"},"Total",-1),Ie={class:"is-end"},Ve={class:"d-flex justify-content-between"},Fe=N(" Card Payment "),He=N(" Cash Payment ");var We=D({expose:[],setup(e){E(!1);const t=E(!1),l=w((()=>n.value.membership.amounts.find((e=>e.recurrences_id==n.value.recurrences_id)))),o=w((()=>{let e=parseFloat(ae().format("DD")),t=0,a=0;return n.value.recurrence.recurrence>=30&&(a=e-ae(r.value[0].created_at).format("DD"),t=l.value.amount/30*a),{days:a,amount:Math.abs(Math.round(t))}})),u=e=>{let t=parseFloat(ae().format("DD")),a=0,s=0;return e.days>=30&&(s=t-e.payday,a=e.amount/30*s),{days:s,amount:Math.abs(Math.round(a))}},c=e=>"percentaje"==(e=e.value?e.value:e).tax.type?{text:`${e.tax.value}%`,value:e.tax.value,type:"procentaje"}:{text:J(e.tax.value),value:e.tax.value},m=w((()=>c(n.value.membership))),d=w((()=>U(n.value.recurrence.recurrence)>0?l.value.amount*U(n.value.recurrence.recurrence):l.value.amount)),p=w((()=>{let e=0;return e+=d.value,e-=o.value.amount,e=e/100*m.value.value+e,e})),h=w((()=>{let e=0;return e+=p.value,e}));w((()=>{let e=0;return props.familyMembership.forEach((t=>{let a=(e=>{let t=0;return t+=e.membershipCost,t+=e.initiation_fee,t-=e.prorated,t=t/100*e.objTax.value+t,t})({membershipCost:d(G(t.inputs,"recurrences_id")),initiation_fee:K(t.inputs,"initiation_fee"),objTax:c(G(t.inputs,"memberships_id")),prorated:u(G(t.inputs,"recurrences_id")).amount});e+=a})),e}));const v=E(!1);return C((()=>i),((e,t)=>{v.value=!0})),(e,l)=>{const r=B,i=a,u=O;return $(),P(z,{name:"list",tag:"div"},{default:I((()=>[V(i,{class:""},{default:I((()=>[V("table",Ye,[we,null!=S(s).membership_members?($(),P("tbody",Ee,[V("tr",null,[V("td",null,[V("p",null,[V("b",null,F(S(s).name)+" "+F(S(s).second_name)+" "+F(S(s).last_name),1)])]),V("td",null,[V("p",null,F(S(n).membership.name),1)]),V("td",null,[V("p",null,F(S(n).recurrence.descriptions),1)]),S(n).is_recurrence?($(),P("td",Se,[S(n).recurrence.recurrence>=30?($(),P("span",$e,[N(F(S(o).days)+" days : ",1),Pe,N(" - "+F(S(J)(S(o).amount)),1)])):($(),P("span",Ae,"-"))])):A("",!0),V("td",null,F(S(J)(S(d))),1),V("td",null,F(S(m).text),1),V("td",null,F(S(J)(S(p))),1)]),V("tr",null,[Te,V("td",Ie,F(S(J)(S(h))),1)])])):A("",!0)]),V("div",Ve,[V(r,{color:"success",onClick:l[1]||(l[1]=e=>t.value=!0)},{default:I((()=>[Fe])),_:1}),V(r,{color:"warning"},{default:I((()=>[He])),_:1})])])),_:1}),t.value?($(),P(u,{key:0,class:"",url:`new_payment/${S(n).id}`,amount:S(h),id:S(s).id,"member-mermship":S(n).id},null,8,["url","amount","id","member-mermship"])):A("",!0)])),_:1})}}});const Ne=V("div",null,[V("h1",{class:"title is-4 mb-0"},"Personal Information"),V("p",null,"Edit member's personal information")],-1),ze=N(" Save Changes "),Le=N(" Convert to Members ");var Re=D({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;w((()=>"Prospect"==t.category));const a=()=>{let e=Q(o.value),t=new FormData;for(var a in e)"id_leo_vet_fr"==a?null==e[a]&&t.append(a,0):t.append(a,e[a]);u(t).then((e=>{X.success("Edit Success")}))};return(e,s)=>{const l=B,n=se,r=le;return $(),P(r,null,{"header-left":I((()=>[Ne])),"header-right":I((()=>[V(l,{onClick:a,color:"primary"},{default:I((()=>[ze])),_:1}),"Prospect"==t.category?($(),P(l,{key:0,color:"info",class:"ml-3"},{default:I((()=>[Le])),_:1})):A("",!0)])),content:I((()=>[V(n,{"inputs-step":S(o)},null,8,["inputs-step"])])),_:1})}}});const qe=V("div",null,[V("h1",{class:"title is-4 mb-0"},"Membership / Contract"),V("p",null,"Edit member's membership and contract information")],-1),Be=N(" Cancel Membership "),Oe=N(" Save Changes "),Ue=N(" New Membership "),Ge=V("h1",{class:"title is-6"},"Active Contract Information",-1),Ke={class:"columns is-multiline"},Je={class:"column is-12"},Qe={key:0,class:"columns is-multiline column mt-4 is-12"},Xe=V("b",null,"Contract Date:",-1),Ze=V("b",null,"Cancelation date: ",-1),et={key:0},tt={key:1},at={class:"column is-12"},st={class:"text-center"},lt=V("img",{src:ne,width:"40",alt:""},null,-1),nt=N(" View PDF "),rt=V("h1",{class:"title is-6"},"Inactive Contract Information",-1),it={class:"table is-hoverable is-fullwidth"},ot=V("thead",null,[V("tr",null,[V("th",{scope:"col"},"Contract"),V("th",{scope:"col"},"Agreement Date"),V("th",{scope:"col"},"Sold By"),V("th",{scope:"col"},"Membership Type"),V("th",{scope:"col"},"Decipline"),V("th",{scope:"col"},"Start Date"),V("th",{scope:"col"},"End Date"),V("th",{scope:"col"},"Auto Renew"),V("th",{scope:"col"},"Discount Type")])],-1),ut=V("img",{src:ne,width:"40",alt:""},null,-1),ct={key:0},mt={key:1},dt={key:0},pt=V("td",null,"N/A",-1),ht=V("h1",{class:"title is-6"},"Active Waiver Information",-1),vt={class:"text-center"},ft=V("img",{src:ne,width:"40",alt:""},null,-1),bt=N(" View PDF ");var yt=D({expose:[],setup(e){const t=e=>{if("memberships_id"==e.input.name){let t=e.input.values.find((t=>t.id==e.input.model));Z(e.inputsStep,"initiation_fee",t.initiation_fee);let a=[];t.locations.forEach((e=>{1==e.sale&&a.push(e.company_locations)})),ee(e.inputsStep,"locations_id",a),t.amounts.forEach((e=>{ie.value.find((t=>t.id==e.recurrences_id)).amount=e.amount}))}"locations_id"==e.input.name&&re([e.input.model]).then((t=>{ee(e.inputsStep,"diciplines",t.data)}))},l=(e,t)=>{"recurrences_id"==e.name&&Z(t,"amount",e.values.find((t=>t.id==e.model)).amount)},r=()=>{const e=Q(c.value);d(e).then((e=>{X.success("Success")}))},i=()=>{p().then((e=>{console.log(e)}))},o=()=>{Q(c.value)};return(e,u)=>{const d=B,p=se,h=B,v=a,f=le;return $(),P("div",null,[V(f,null,{"header-left":I((()=>[qe])),"header-right":I((()=>[S(n)?($(),P(d,{key:0,onClick:i,color:"",class:"mr-4"},{default:I((()=>[Be])),_:1})):A("",!0),S(n)?($(),P(d,{key:1,onClick:r,color:"primary"},{default:I((()=>[Oe])),_:1})):A("",!0),S(n)?A("",!0):($(),P(d,{key:2,onClick:o,color:"primary"},{default:I((()=>[Ue])),_:1}))])),content:I((()=>[V(v,{class:"mb-4"},{default:I((()=>[Ge,V("div",Ke,[V("div",Je,[V(p,{"inputs-step":S(c),onChangeSelect:t,onChangeRadio:l},null,8,["inputs-step"])]),S(s)&&S(n)?($(),P("div",Qe,[V("div",null,[V("p",null,[Xe,N(" "+F(S(ae)(S(s).membership_members.created_at).format("ddd - DD MMM yyyy")),1)]),V("p",null,[Ze,S(s).membership_members.cacelation_date?($(),P("span",et,F(S(ae)(S(s).membership_members.cacelation_date).format("ddd - DD MMM yyyy")),1)):($(),P("span",tt," N/A "))])]),V("div",at,[V("div",st,[V("a",{target:"_blank",href:`${S(x)}generateContract/${S(s).id}`},[lt,V("p",null," contract_"+F(S(s).id)+"_"+F(S(s).membership_members.id)+"_"+F(S(s).personal_identifications)+".pdf ",1),V(h,{color:"success",outlined:"",class:"mt-4 py-1"},{default:I((()=>[nt])),_:1})],8,["href"])])])])):A("",!0)])])),_:1}),S(s)?($(),P(v,{key:0,class:"mb-4"},{default:I((()=>[rt,V("table",it,[ot,V("tbody",null,[($(!0),P(H,null,W(S(m),((e,t)=>($(),P("tr",{key:`item-${t}`},[V("td",null,[V("a",{href:e.contract},[ut],8,["href"])]),V("td",null,F(S(ae)(e.created_at).format("dd - DD MMM YYYY")),1),V("td",null,F(e.user.name),1),V("td",null,F(e.membership.name),1),V("td",null,[""!=e.diciplines||null!=e.diciplines||null!=e.diciplines?($(),P("span",ct,[($(!0),P(H,null,W(e.diciplines,((e,t)=>($(),P("span",{key:`dicipline-${t}`},[V("span",null,F(e.dicipline.name),1)])))),128))])):($(),P("span",mt,"N/A"))]),V("td",null,F(S(ae)(e.created_at).format("dd - DD MMM YYYY")),1),V("td",null,F(S(ae)(e.cacelation_date).format("dd - DD MMM YYYY")),1),V("td",null,[V("span",null,F(e.is_recurrence?"Recurrence":"Not Recurrence"),1),e.is_recurrence?($(),P("span",dt,F(e.recurrence.recurrence),1)):A("",!0)]),pt])))),128))])])])),_:1})):A("",!0),S(s)&&S(n)?($(),P(v,{key:1,class:"mb-4"},{default:I((()=>[ht,V("div",vt,[V("a",{target:"_blank",href:`${S(x)}generateWeiver/${S(s).id}`},[ft,V("p",null," weiver_"+F(S(s).id)+"_"+F(S(s).membership_members.id)+"_"+F(S(s).personal_identifications)+".pdf ",1),V(h,{color:"success",outlined:"",class:"mt-4 py-1"},{default:I((()=>[bt])),_:1})],8,["href"])])])),_:1})):A("",!0)])),_:1})])}}});const _t=V("div",null,[V("h1",{class:"title is-4 mb-0"},"Family Members"),V("p",null,"Edit member's family members")],-1),gt={class:"columns is-multiline"},Mt={key:0,class:"column is-4 mb-4"},kt=V("div",null,[V("h1",{class:"title is-4 mb-0"},"Parent"),V("p",null,"Edit parent contact")],-1),jt=N(" Save Changes "),xt={class:""},Dt=V("h1",{class:"title is-5"},"Parent Contact Information",-1),Ct={class:"d-flex justify-content-end mr-6"};var Yt=D({expose:[],setup(e){E([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]);const a=()=>{const e=perpareDataInputs(f.value);b(e).then((e=>{X.success("Success")}))};return(e,l)=>{const n=t,r=ue,i=ce,o=le,u=B,c=se;return $(),P("div",null,[S(s)&&"Adult"==S(s).category?($(),P(o,{key:0},{"header-left":I((()=>[_t])),"header-right":I((()=>[])),content:I((()=>[V("div",gt,[S(h)?($(),P("div",Mt,[V(i,{title:`${S(h).name} ${S(h).second_name} ${S(h).last_name}`,class:"border-1 p-4 radius-small"},{icon:I((()=>[V(n,{size:"medium",picture:`${S(x)}storage/${S(h).photo}`,subtitle:"Principal Family"},null,8,["picture"])])),action:I((()=>[V(r,{"id-member":S(h).id},null,8,["id-member"])])),_:1},8,["title"])])):A("",!0),($(!0),P(H,null,W(S(v),((e,t)=>($(),P("div",{class:"column is-4 mb-4",key:`family-${t}`},[V(i,{title:`${e.member.name} ${e.member.second_name} ${S(s).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:I((()=>[V(n,{size:"medium",picture:`${S(x)}storage/${e.member.photo}`},null,8,["picture"])])),action:I((()=>[V(r,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):A("",!0),S(s)&&"Minor"==S(s).category?($(),P(o,{key:1},{"header-left":I((()=>[kt])),"header-right":I((()=>[V(u,{onClick:a,color:"primary"},{default:I((()=>[jt])),_:1})])),content:I((()=>[V("div",xt,[Dt,V("div",Ct,[V(n,{picture:`${S(x)}storage/${S(K)(S(f),"parent_photo")}`,size:"large"},null,8,["picture"])]),V(c,{"inputs-step":S(f)},null,8,["inputs-step"])])])),_:1})):A("",!0)])}}});const wt=V("div",null,[V("h1",{class:"title is-4 mb-0"},"Emergency Contact"),V("p",null,"Edit member's emergency contact")],-1),Et=N(" Save Changes "),St={class:""},$t=V("h1",{class:"title is-5"},"Emergency Contact Information",-1);var Pt=D({expose:[],setup(e){const t=()=>{const e=Q(y.value);console.log(e),_(e).then((e=>{X.success("Success")}))};return(e,a)=>{const s=B,l=se,n=le;return $(),P(n,null,{"header-left":I((()=>[wt])),"header-right":I((()=>[V(s,{onClick:t,color:"primary"},{default:I((()=>[Et])),_:1})])),content:I((()=>[V("div",St,[$t,V(l,{"inputs-step":S(y)},null,8,["inputs-step"])])])),_:1})}}});const At=V("div",null,[V("h1",{class:"title is-4 mb-0"},"Check-ins History"),V("p",null,"Edit member's check-ins history")],-1),Tt={class:"p-6"},It={class:"d-flex"},Vt=V("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),Ft=V("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),Ht=N(" Export "),Wt={class:"mt-4"},Nt={class:"table is-hoverable is-fullwidth"},zt=V("thead",null,[V("tr",null,[V("th",{scope:"col"},"DATE"),V("th",{scope:"col"},"TIME"),V("th",{scope:"col"},"STAFF")])],-1);var Lt=D({expose:[],setup:e=>(e,t)=>{const a=me,l=de,n=B,r=le;return S(s)?($(),P(r,{key:0},{"header-left":I((()=>[At])),"header-right":I((()=>[])),content:I((()=>[V("div",Tt,[V("div",It,[V(l,{class:"field mr-3"},{default:I((()=>[V(a,null,{default:I((()=>[Vt])),_:1})])),_:1}),V(l,{class:"field mr-3"},{default:I((()=>[V(a,null,{default:I((()=>[Ft])),_:1})])),_:1}),V(n,{color:"primary"},{default:I((()=>[Ht])),_:1})]),V("div",Wt,[V("table",Nt,[zt,V("tbody",null,[($(!0),P(H,null,W(S(g),((e,t)=>($(),P("tr",{key:`access-${t}`},[V("td",null,F(S(ae)(e.created_at).format("DD/MM/YYYY")),1),V("td",null,F(S(ae)(e.created_at).format("HH:mm:ss")),1),V("td",null,F(e.user.name),1)])))),128))])])])])])),_:1})):A("",!0)}});const Rt=V("div",null,[V("h1",{class:"title is-4 mb-0"},"Purchases History"),V("p",null,"Edit member's purchases history")],-1),qt={class:"p-6"},Bt={class:"mt-4"},Ot={class:"table is-hoverable is-fullwidth"},Ut=V("thead",null,[V("tr",null,[V("th",{scope:"col"},"DATE"),V("th",{scope:"col"},"TIME"),V("th",{scope:"col"},"AMOUNT"),V("th",{scope:"col"},"PAYMENT TYPE"),V("th",{scope:"col"},"ITEMS"),V("th",{scope:"col"},"STATUS")])],-1),Gt={key:0};var Kt=D({expose:[],setup(e){const t=w((()=>n.value.payments)),a=w((()=>{let e=[];return m.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e}));return Y((()=>{})),(e,l)=>{const r=le;return S(s)?($(),P(r,{key:0},{"header-left":I((()=>[Rt])),"header-right":I((()=>[])),content:I((()=>[V("div",qt,[V("div",Bt,[V("table",Ot,[Ut,S(n)?($(),P("tbody",Gt,[($(!0),P(H,null,W(S(t),((e,t)=>($(),P("tr",{key:`payment-${t}`},[V("td",null,F(S(ae)(e.created_at).format("DD/MM/YYYY")),1),V("td",null,F(S(ae)(e.created_at).format("HH:mm:ss")),1),V("td",null,F(S(J)(e.amount)),1),V("td",null,F(e.payment_type.name),1),V("td",null,F(S(n).membership.name),1),V("td",null,F(e.status?"succedded":"error"),1)])))),128))])):A("",!0),($(!0),P(H,null,W(S(a),((e,t)=>($(),P("tbody",{key:`paymentHistory-${t}`},[($(!0),P(H,null,W(e.payments,((t,a)=>($(),P("tr",{key:`pay-${a}`},[V("td",null,F(S(ae)(t.created_at).format("DD/MM/YYYY")),1),V("td",null,F(S(ae)(t.created_at).format("HH:mm:ss")),1),V("td",null,F(S(J)(t.amount)),1),V("td",null,F(t.payment_type.name),1),V("td",null,F(e.membership),1),V("td",null,F(t.status?"succeded":"error"),1)])))),128))])))),128))])])])])),_:1})):A("",!0)}}});const Jt=V("div",null,[V("h1",{class:"title is-4 mb-0"}," Waiver "),V("p",null,"Edit member's waiver information")],-1),Qt=N(" Convert to Members "),Xt={class:"columns is-multiline"},Zt={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},ea={href:"234",class:"text-center"},ta=V("img",{style:{width:"70px"},src:ne,alt:""},null,-1);var aa=D({expose:[],setup(e){const t=E([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,a)=>{const s=B,l=le;return $(),P(l,null,{"header-left":I((()=>[Jt])),"header-right":I((()=>[V(s,{color:"info"},{default:I((()=>[Qt])),_:1})])),content:I((()=>[V("div",Xt,[($(!0),P(H,null,W(t.value,((e,t)=>($(),P("div",{class:"column is-2 mb-4",key:`family-${t}`},[V("div",Zt,[V("a",ea,[ta,V("p",null,F(e.name),1)])])])))),128))])])),_:1})}}});const sa={key:1,class:"columns is-multiline"},la={class:"column is-3"},na={class:"column is-9"},ra=V("h3",{class:"title is-5 mb-0"},"Expired Membership",-1),ia=N(" Cancel membership "),oa=N(" Renew membership "),ua=V("b",null,"Member since.",-1),ca=V("b",null,"Membership Active:",-1),ma=V("b",null,"Due Date: ",-1),da=V("b",null,"Last payment attempt: ",-1);var pa=D({expose:[],setup(t){const r=T();he.value="Member Profile",L({title:"Members"});const i=E(!1),u=E("personalInformation"),m=e=>{u.value=e.value};C((()=>r.query),((e,t)=>{Object.keys(e).length>0&&(h(),p())})),C((()=>r.hash),(e=>{u.value=r.hash.slice(1)})),C((()=>r.query.id),(e=>{u.value="personalInformation"}));const d=E(!0),p=()=>{d.value=!0,setTimeout((()=>{d.value=!1}),500)};Y((()=>{""!=r.hash&&(u.value=r.hash.slice(1)),_e().then((e=>{ee(c,"locations_id",ge.value)})),ye().then((e=>{ee(o,"country_id",e.contries),ee(o,"city_id",e.cities),ee(o,"state_id",e.states),ee(M,"city_id",e.cities),ee(M,"state_id",e.states),ee(M,"country_id",e.contries)})),fe().then((e=>{ee(c,"memberships_id",e.data.memberships)})),ve().then((e=>{ee(c,"discount",e.data.discounts)})),oe().then((e=>{ee(c,"recurrences_id",e.data)})),be().then((e=>{ee(c,"staff_id",e.data)})),h()}));const h=async()=>{await k(r.query.id).then((e=>{for(var t in console.log(e.data),e.data)if("select_type"==t)"Individual"==e.data[t]?te(o.value,"select_type").model=!1:te(o.value,"select_type").model=!0;else if("membership_members"==t)for(var a in e.data[t])if("memberships_location"==a)te(c.value,"locations_id").model=e.data[t][a].companies_locations_id,re([e.data[t][a].companies_locations_id]).then((e=>{ee(c,"diciplines",e.data)}));else if("recurrence"==a){let a=[];e.data[t].membership.amounts.forEach((e=>{let t=ie.value.find((t=>t.id==e.recurrences_id));t.amount=e.amount,a.push(t)})),te(c.value,"recurrences_id").model=e.data[t].recurrences_id,te(c.value,"amount").model=a.find((a=>a.id==e.data[t].recurrences_id)).amount,console.log()}else"diciplines"==a?(te(c.value,"diciplines").model=[],e.data[t][a].forEach((e=>{te(c.value,"diciplines").model.push(e.diciplines_id)}))):"membership"==a?te(c.value,"initiation_fee").model=e.data[t][a].initiation_fee:"is_initiation_fee"==a?te(c.value,"is_initiation_fee").model=0==e.data[t][a]?[a]:[]:Z(c,a,e.data[t][a]);else if("staff_id"==t)Z(c,t,e.data[t]);else if("emergency"==t)for(a in e.data[t])Z(y,a,e.data[t][a]);else if("guardian"==t)for(a in e.data[t])Z(f,a,e.data[t][a]);else Z(o,t,e.data[t]);d.value=!1}))};return(t,o)=>{const c=e,p=Ce,h=B,v=a,f=We,b=Re,y=yt,_=Yt,g=Pt,M=Lt,k=Kt,x=aa,D=pe;return $(),P(D,null,{default:I((()=>[d.value?($(),P(c,{key:0,height:"500px"})):A("",!0),!d.value&&S(s)?($(),P("div",sa,[V("div",la,[V(p,{category:S(r).query.category,onChangeMenu:m},null,8,["category"])]),V("div",na,[S(l)?A("",!0):($(),P(v,{key:0,class:"mb-4 d-flex justify-content-between align-items-center",color:"danger"},{default:I((()=>[ra,V("div",null,[V(h,{class:"mr-4",color:""},{default:I((()=>[ia])),_:1}),V(h,{color:"success",onClick:o[1]||(o[1]=e=>i.value=!0)},{default:I((()=>[oa])),_:1})])])),_:1})),i.value?($(),P(f,{key:1,member:S(s),familiares:S(s).families_children,"member-membership":S(s).membership_members,class:"mb-4"},null,8,["member","familiares","member-membership"])):A("",!0),null!=S(s).membership_members?($(),P(v,{key:2,class:"mb-4"},{default:I((()=>[V("div",null,[V("p",null,[V("b",null,"Member #"+F(S(s).id),1)]),V("p",null,[V("small",null,[ua,N(" "+F(S(ae)(S(s).created_at).format("ddd - DD MMM YYYY")),1)])]),V("p",null,[ca,N(" "+F(S(n).membership.name),1)]),V("p",null,[ma,N(" "+F(S(j).format("ddd - DD MMM YYYY")),1)]),V("p",null,[da,N(F(S(ae)(S(n).payments[0].created_at).format("ddd - DD MMM YYYY")),1)])])])),_:1})):A("",!0),R(V(b,{category:S(r).query.category},null,8,["category"]),[[q,"personalInformation"==u.value]]),R(V(y,null,null,512),[[q,"memberMembership"==u.value]]),R(V(_,null,null,512),[[q,"memberFamily"==u.value]]),R(V(g,null,null,512),[[q,"memberEmergency"==u.value]]),R(V(M,null,null,512),[[q,"memberCheckins"==u.value]]),R(V(k,null,null,512),[[q,"memberPurchases"==u.value]]),R(V(x,null,null,512),[[q,"memberWaiver"==u.value]])])])):A("",!0)])),_:1})}}});export default pa;
