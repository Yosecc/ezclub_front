import{_ as e}from"./inputsLayaut.vue_vue&type=style&index=0&lang.5a3d9cb5.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.86e7bf66.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.065c9b13.js";import{_ as s}from"./V-PlaceholderSection.vue_vue&type=script&setup=true&lang.10dfb7c8.js";import{_ as l}from"./V-Modal.vue_vue&type=script&setup=true&lang.d6a8ea7a.js";import{_ as i}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.430bd846.js";import{_ as o}from"./V-FlexPagination.vue_vue&type=script&setup=true&lang.b86ba076.js";import{_ as r}from"./V-Loader.vue_vue&type=script&setup=true&lang.1e63c2f8.js";import{_ as n}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.e259bc31.js";import{d as u,u as c,r as p,b as d,O as v,a4 as m,H as f,w as y,o as g,i as _,j as b,G as h,k as j,D as x,F as k,ab as w,Q as V,R as C,z as P,E as S}from"./vendor.0a671356.js";import{_ as D,a as T}from"./search-4-dark.fb3880a5.js";import{p as I}from"./sidebarLayoutState.0f6bbf54.js";import{l as A,g as E,i as L,c as Y,s as M}from"./Inventory.65c1e980.js";import{b as R,c as z,l as B}from"./Companies.c77a53e7.js";import{a as F,g as O,n as q}from"./index.9c671a97.js";import{u as W}from"./index.d9e84969.js";import"./V-Control.d3cb8db2.js";import"./V-Field.vue_vue&type=script&setup=true&lang.4d1547e6.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.16a3568a.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.5966f04d.js";import"./V-Placeload.e8ccb55e.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.2af384cd.js";import"./useDropdown.77607dc4.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.5a91b6d4.js";import"./V-Dropdown.8f29eb52.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.45d94437.js";import"./activePanelState.ab4ec9b0.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.d3f66c4b.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.c0be394c.js";import"./V-Message.vue_vue&type=script&setup=true&lang.3ad842d5.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.a1bc703a.js";import"./navbarLayoutState.98178e29.js";import"./video.55233430.js";import"./darkModeState.add1dde1.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.0988a64b.js";import"./AnimatedLogo.a868a349.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.9a482478.js";import"./V-Block.vue_vue&type=script&setup=true&lang.343d5064.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.9a71d015.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.9494640c.js";const G={class:"page-content-inner"},H={class:"d-flex justify-content-between align-items-center"},N={class:"w-100"},Q={key:0,class:"w-100"},U=j("h1",{class:"title is-4"},"Select a location",-1),J=S("New Inventory"),K=S("Confirm"),X=S("Confirm"),Z={key:0,class:"title is-4"},$={class:"flex-list-wrapper flex-list-v1"},ee=j("img",{class:"light-image",src:D,alt:""},null,-1),te=j("img",{class:"dark-image",src:T,alt:""},null,-1),ae={class:"flex-table"},se=j("span",{class:""},"ID",-1),le=j("span",null,"Status",-1),ie=j("span",null,"Date Open",-1),oe=j("span",null,"Date Close",-1),re=j("span",null,"Products Total",-1),ne=j("span",{class:""},"Actions",-1),ue={class:"flex-list-inner"},ce={"data-th":"ID",class:"flex-table-cell"},pe={class:"item-name dark-inverted"},de={class:"flex-table-cell","data-th":"Status"},ve={key:0,class:"tag is-success is-rounded"},me={key:1,class:"tag is-rounded"},fe={key:2,class:"tag is-info is-rounded"},ye={class:"flex-table-cell","data-th":"Date Open"},ge={class:"light-text"},_e={class:"flex-table-cell","data-th":"Date Close"},be={key:0,class:"light-text"},he={key:1},je={class:"flex-table-cell","data-th":"Products Total"},xe={class:"light-text"},ke={class:"flex-table-cell","data-th":"Actions"},we=S("Close Inventory"),Ve=S("View");var Ce=u({expose:[],setup(u){const{cookies:S}=c(),D=p(""),T=d((()=>D.value?W.filter((e=>e.username.match(new RegExp(D.value,"i"))||e.position.match(new RegExp(D.value,"i"))||e.industry.match(new RegExp(D.value,"i"))||e.status.match(new RegExp(D.value,"i"))||e.location.match(new RegExp(D.value,"i")))):L.value));I.value="Inventory",v({title:"Inventory"});const Ce=m(),Pe=p(!1),Se=p(!1),De=p(""),Te=p(null),Ie=p(!1);f((()=>{R().then((e=>{F(B,"locations_id",z.value.locations),O(B.value,"locations_id").change=Ae,null!=S.get("locations_id")&&(O(B.value,"locations_id").model=S.get("locations_id"),Ae(S.get("locations_id")))}))}));const Ae=function(e){"object"==typeof e&&(e=this.model),Ie.value=!0,A.value=e,E(e).then((e=>{Ie.value=!1}))},Ee=()=>{Se.value=!1,Ie.value=!0,De.value="Processing Inventory... Please do not close the browser window until the process is complete",Y(Te.value).then((e=>{q.success("Success"),Ie.value=!1,De.value="",E(),window.location.reload()})).catch((e=>{q.error(e.response.data),Ie.value=!1,De.value=""}))},Le=()=>{Pe.value=!1,Ie.value=!0,De.value="wait a moment, you will be redirected",M().then((e=>{Ce.push({name:"settings-inventory-create",query:{id:e.data.inventory,locations_id:A.value}})})).catch((e=>{q.error(e.response.data.message),Ie.value=!1,De.value=e.response.data.message}))},Ye=d((()=>{let e=[];return L.value.forEach((t=>{e.push([t.id,t.status,t.created_at,t.updated_at,100,1])})),e}));return y(Ye,(e=>{Ie.value=!0,setTimeout((()=>{Ie.value=!1}),500)})),(u,c)=>{const p=e,d=t,v=a,m=s,f=l,y=i,S=o,D=r,I=n;return g(),_(I,null,{default:b((()=>[h(" Content Wrapper "),j("div",G,[j(v,{class:"mb-6"},{default:b((()=>[j("div",H,[j("div",N,[x(A)?h("v-if",!0):(g(),_("div",Q,[U])),j(p,{"inputs-step":x(B)},null,8,["inputs-step"])]),!Ie.value&&x(A)?(g(),_(d,{key:0,color:"primary",onClick:c[1]||(c[1]=e=>Pe.value=!0),raised:"",class:"mb-4"},{default:b((()=>[J])),_:1})):h("v-if",!0)])])),_:1}),j(f,{open:Se.value,actions:"center",onClose:c[2]||(c[2]=e=>Se.value=!1)},{content:b((()=>[j(m,{title:" Are you sure you want to close inventory?",subtitle:"This action will modify the stock of all products for sale and cannot be undone"})])),action:b((()=>[j(d,{color:"primary",onClick:Ee,raised:""},{default:b((()=>[K])),_:1})])),_:1},8,["open"]),j(f,{open:Pe.value,actions:"center",onClose:c[3]||(c[3]=e=>Pe.value=!1)},{content:b((()=>[j(m,{title:" Are you sure to create a new inventory?",subtitle:"This action blocks all movements related to sales, creation and editing of products in the system until the inventory is closed."})])),action:b((()=>[j(d,{color:"primary",onClick:Le,raised:""},{default:b((()=>[X])),_:1})])),_:1},8,["open"]),Ie.value?(g(),_("h1",Z,k(De.value),1)):h("v-if",!0),j(D,{size:"large",active:Ie.value},{default:b((()=>[j("div",$,[h("List Empty Search Placeholder "),j(y,{class:[0!==x(T).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n            search terms you've entered. Please try different search terms or\n            criteria.",larger:""},{image:b((()=>[ee,te])),_:1},8,["class"]),j("div",ae,[h("Table header"),j("div",{class:["flex-table-header",[0===x(T).length&&"is-hidden"]]},[se,le,ie,oe,re,ne],2),j("div",ue,[j(w,{name:"list",tag:"div"},{default:b((()=>[h("Table item"),(g(!0),_(V,null,C(x(T),(e=>(g(),_("div",{key:e.id,class:"flex-table-item"},[j("div",ce,[j("div",null,[j("span",pe,k(e.id),1)])]),j("div",de,[1===e.status?(g(),_("span",ve,"Active")):h("v-if",!0),0===e.status?(g(),_("span",me,"Close")):h("v-if",!0),2===e.status?(g(),_("span",fe,"Process")):h("v-if",!0)]),j("div",ye,[j("span",ge,k(x(P)(e.created_at).format("dd - DD/MM/YYYY")),1)]),j("div",_e,[e.close?(g(),_("span",be,k(x(P)(e.close).format("dd - DD/MM/YYYY")),1)):(g(),_("span",he,"-"))]),j("div",je,[j("span",xe,k(e.products.length),1)]),j("div",ke,[1==e.status?(g(),_(d,{key:0,color:"success",onClick:t=>{Se.value=!0,Te.value=e.id},raised:"",class:"mr-4"},{default:b((()=>[we])),_:2},1032,["onClick"])):h("v-if",!0),j(d,{to:{name:"settings-inventory-create",query:{id:e.id,locations_id:x(A)}}},{default:b((()=>[Ve])),_:2},1032,["to"])])])))),128))])),_:1})])]),h("Table Pagination"),x(T).length>5?(g(),_(S,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":7})):h("v-if",!0)])])),_:1},8,["active"])])])),_:1})}}});export default Ce;
