import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.58675426.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.70d28890.js";import{_ as a}from"./V-Placeload.afb9bd2e.js";import{d as s,A as n,o as i,h as l,k as r,j as o,N as u,G as m,K as c,D as p,i as d,r as g,B as b,J as v,L as f,z as y,O as S}from"./vendor.aa2dca34.js";import{_ as h}from"./pdf_icon.0444a540.js";import{a as _,A as w}from"./index.14e57547.js";import{_ as j}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.19a19335.js";import{p as x}from"./sidebarLayoutState.eaa315e5.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.1cd4ff14.js";import"./useDropdown.8a4e2fbb.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.70e07ca6.js";import"./V-Dropdown.556667f2.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.4c825d90.js";import"./activePanelState.071bdf3f.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.b4de6d1c.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.66d27984.js";import"./V-Message.vue_vue&type=script&setup=true&lang.61335026.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.c7524e9b.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.63e74cb3.js";import"./navbarLayoutState.aaa0eec7.js";import"./video.4808c90c.js";import"./darkModeState.d7637ae0.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.76922cee.js";import"./AnimatedLogo.174a09f9.js";import"./V-Control.c637213b.js";import"./V-Field.vue_vue&type=script&setup=true&lang.538f95a3.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.04110db4.js";import"./V-Block.vue_vue&type=script&setup=true&lang.6a46b383.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.52e5a39e.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.c75439e9.js";const D=r("table",{border:"1",cellpadding:"0",width:"500"},[r("tr",null,[r("td",{height:"100",width:"500"},[r("canvas",{id:"cnv",name:"cnv",width:"500",height:"100"})])])],-1),I=r("canvas",{name:"SigImg",id:"SigImg",width:"500",height:"100"},null,-1),W=r("p",{id:"sigWebVrsnNote",style:{"font-family":"Arial"}},null,-1),T={action:"#",name:"FORM1"},V=m("     "),C=m("     "),E=m("     "),P=m("SigString: "),k=m("Base64 String: "),B=m("SigString: "),M=m("Base64 String: "),z=r("br",null,null,-1),L=r("br",null,null,-1),N=r("p",{id:"daysUntilExpElement"},null,-1),H=r("p",{id:"SigWebVersion"},null,-1),A=r("p",{id:"SigWebTabletJSVersion"},null,-1),$=r("p",{id:"CertificateExpirationDate"},null,-1);var F=s({expose:[],emits:["onSignYes"],setup(e,{emit:t}){var a,s=!1,m=!1,g=!1;c(),p(),n((()=>{if(IsSigWebInstalled()){var e="";try{e=GetSigWebVersion()}catch(l){console.log("Unable to get SigWeb Version: "+l.message)}if(""!=e){try{g=v(e)}catch(l){console.log(l.message)}if(g){s=!0;try{var t=GetDaysUntilCertificateExpires();document.getElementById("daysUntilExpElement").innerHTML="SigWeb Certificate expires in "+t+" days."}catch(l){console.log(l.message)}(i=document.getElementById("sigWebVrsnNote")).innerHTML="SigWeb 1.7.0 installed"}else{try{m=b(e)}catch(l){console.log(l.message)}if(m)s=!0,(n=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",n.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="SigWeb 1.6.4 is installed. Install the newer version of SigWeb from the following link: ",i.appendChild(n);else(n=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",n.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="A newer version of SigWeb is available. Please uninstall the currently installed version of SigWeb and then install the new version of SigWeb from the following link: ",i.appendChild(n)}}else{var n,i;(n=document.createElement("a")).href="https://www.topazsystems.com/software/sigweb.exe",n.innerHTML="https://www.topazsystems.com/software/sigweb.exe",(i=document.getElementById("sigWebVrsnNote")).innerHTML="A newer version of SigWeb is available. Please uninstall the currently installed version of SigWeb and then install the new version of SigWeb from the following link: ",i.appendChild(n)}}else alert("Unable to communicate with SigWeb. Please confirm that SigWeb is installed and running on this PC.");window.onbeforeunload=function(e){h(),clearInterval(a),e.preventDefault()}}));const b=e=>!f("1.6.4.0",e)||(console.log("SigWeb version 1.6.4.0 or higher not installed."),!1),v=e=>!f("1.7.0.0",e)||(console.log("SigWeb version 1.7.0.0 or higher not installed."),!1),f=(e,t)=>y(e,t),y=(e,t)=>{const a=e.split("."),s=t.split(".");for(var n=0;n<s.length;n++){const e=parseInt(s[n])||0,t=parseInt(a[n])||0;if(e<t)return!0;if(e>t)return!1}return!1},S=e=>{document.FORM1.sigImageData.value=e,console.log("llefig",e),t("onSignYes",e)},h=()=>{s?Reset():(ClearTablet(),SetTabletState(0,a))};return(e,t)=>{const s=d("BR"),n=d("INPUT"),m=d("TEXTAREA");return i(),l(u,null,[D,r(s),I,W,r("form",T,[r("p",null,[r("input",{id:"SignBtn",name:"SignBtn",type:"button",value:"Sign",onClick:t[1]||(t[1]=e=>(()=>{if(IsSigWebInstalled()){var e=document.getElementById("cnv").getContext("2d");SetDisplayXSize(500),console.log("1"),SetDisplayYSize(100),console.log("2"),SetTabletState(0,a),console.log("3"),SetJustifyMode(0),console.log("4"),ClearTablet(),console.log("5"),null==a?(a=SetTabletState(1,e,50),console.log("1",a)):(SetTabletState(0,a),a=null,a=SetTabletState(1,e,50),console.log("2",a))}else alert("Unable to communicate with SigWeb. Please confirm that SigWeb is installed and running on this PC.")})())}),V,r("input",{id:"button1",name:"ClearBtn",type:"button",value:"Clear","on@click":t[2]||(t[2]=e=>{ClearTablet()})},null,32),C,r("input",{id:"button2",name:"DoneBtn",type:"button",value:"Done",onClick:t[3]||(t[3]=e=>{0==NumberOfTabletPoints()?alert("Please sign before continuing"):(console.log("llego al done"),SetTabletState(0,a),SetSigCompressionMode(1),document.FORM1.bioSigData.value=GetSigString(),document.FORM1.sigStringData.value=GetSigString(),SetImageXSize(500),SetImageYSize(100),SetImagePenWidth(5),GetSigImageB64(S))})}),E,r(n,{"t-y-p-e":"HIDDEN","n-a-m-e":"bioSigData"}),r(n,{"t-y-p-e":"HIDDEN","n-a-m-e":"sigImgData"}),r(n,{type:"HIDDEN",name:"bioSigData"}),r(n,{type:"HIDDEN",name:"sigImgData"}),r(s),r(s),r(m,{"n-a-m-e":"sigStringData","r-o-w-s":"20","c-o-l-s":"50"},{default:o((()=>[P])),_:1}),r(m,{"n-a-m-e":"sigImageData","r-o-w-s":"20","c-o-l-s":"50"},{default:o((()=>[k])),_:1}),r(m,{name:"sigStringData",rows:"20",cols:"50"},{default:o((()=>[B])),_:1}),r(m,{name:"sigImageData",rows:"20",cols:"50"},{default:o((()=>[M])),_:1})])]),z,L,N,H,A,$],64)}}});const q={class:"columns is-multiline"},O={key:0,class:"d-flex justify-content-center column is-12 mb-4"},U={class:"text-center mr-6"},R=r("img",{src:h,width:"40",alt:""},null,-1),G=m(" View PDF "),Y={class:"text-center ml-6"},J=r("img",{src:h,width:"40",alt:""},null,-1),X=m(" View PDF "),K={key:2,class:"text-center mb-4 mt-5 mx-auto"},Q=r("p",{class:"mb-4 title is-5"},"Saved signature",-1);var Z=s({expose:[],props:{member:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(s){const u=s;n((()=>{}));const m=g(!1),c=g(!1),p=g(null);g();const d=async e=>(p.value=e,m.value=!0,w.post(`sign/${u.member.membership_members.id}`,{sign:e}).then((e=>{c.value=!0,m.value=!1})));return(n,u)=>{const g=t,y=a,S=F,h=e;return i(),l(h,{radius:"small"},{default:o((()=>[r("div",q,[s.loading?f("",!0):(i(),l("div",O,[r("div",U,[r("a",{target:"_blank",href:`${b(_)}generateContract/${s.member.id}`},[R,r("p",null," contract_"+v(s.member.id)+"_"+v(s.member.membership_members.id)+"_"+v(s.member.personal_identifications)+".pdf ",1),r(g,{color:"success",outlined:"",class:"mt-4 py-1"},{default:o((()=>[G])),_:1})],8,["href"])]),r("div",Y,[r("a",{target:"_blank",href:`${b(_)}generateWeiver/${s.member.id}`},[J,r("p",null," weiver_"+v(s.member.id)+"_"+v(s.member.membership_members.id)+"_"+v(s.member.personal_identifications)+".pdf ",1),r(g,{color:"success",outlined:"",class:"mt-4 py-1"},{default:o((()=>[X])),_:1})],8,["href"])])])),m.value&&!c.value?(i(),l(y,{key:1,width:"400px",height:"135px",style:{"margin-top":"10px"},class:"mx-auto"})):f("",!0),r(S,{onOnSignYes:d}),c.value?(i(),l("div",K,[Q,r("img",{src:p.value,width:"400",height:"135",alt:""},null,8,["src"])])):f("",!0)])])),_:1})}}});const ee={class:"page-content-inner"},te=r("h1",{class:"title is-4"},"Successful Payment",-1),ae={class:"title is-3"},se={key:0,class:"mt-6"},ne={class:"title is-3"},ie=m(" View and sign: Family ");var le=s({expose:[],setup(a){x.value="Add New members",y({title:"Members"});const s=c();p();const m=g([]),d=g(null),h=g(null),_=g(!0);let D=g([]);n((()=>{w.post(`payment/${s.query.id}`,{payment_intent_client_secret:s.query.payment_intent_client_secret,redirect_status:s.query.redirect_status}).then((e=>{e.data.status&&(d.value=s.query.redirect_status,h.value=e.data.urlPDF,m.value=e.data.member,D.value=e.data.familiares,_.value=!1)}))}));return(a,n)=>{const c=e,p=Z,d=t,g=j;return i(),l(g,null,{default:o((()=>[r("div",ee,[r("div",null,[r(c,{class:"mb-4",radius:"small",color:"success"},{default:o((()=>[te])),_:1}),r("h2",ae," Sign "+v(m.value.name)+" "+v(m.value.second_name)+" "+v(m.value.last_name),1),r(p,{loading:_.value,member:m.value},null,8,["loading","member"]),b(D).length>0?(i(),l("div",se,[(i(!0),l(u,null,S(b(D),((e,t)=>(i(),l("div",{key:`familu${t}`},[r(c,{class:"mb-4",radius:"small"},{default:o((()=>[r("h2",ne," Sign Family: "+v(e.name)+" "+v(e.second_name)+" "+v(e.last_name),1),r(d,{color:"warning",class:"text-center mx-auto",onClick:t=>(e=>{window.location.href=`https://dev-frontend.ushuaiacreative.com/members/process?id=${e.id}&payment_intent=${s.query.payment_intent}&payment_intent_client_secret=${s.query.payment_intent_client_secret}&redirect_status=${s.query.redirect_status}`})(e)},{default:o((()=>[ie])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])):f("",!0)])])])),_:1})}}});export default le;
