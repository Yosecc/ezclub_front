import{A as e,n as a,g as s,s as t,a as l,c as i,p as r,d as n}from"./index.5656e9e1.js";import{v as d}from"./Discounts.a5034b37.js";import{g as o}from"./Memberships.6a9ba12a.js";import{r as p,b as c,z as m,y as u}from"./vendor.a238d640.js";const y=p([]),h=p([]),b=p(null),I=p(null);p(null),p(!1);const v=p(!1);p(null);const _=p(null),f=p(null),L=p(null),g=p(null),M=p({name:"category",values:["Adult","Minor","Prospect"],model:"Adult",required:!0}),A=c((()=>M.value.model)),C=p([{typeInput:"switchEventChangeInput",name:"mismatarjeta",values:["","Pay with the same card"],model:!0,required:!1,class:"is-12",isLabel:!0}]),q=p([{typeInput:"switchEventChange",name:"select_type",values:["Individual","Company"],model:!1,required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual","Company"]},{typeInput:"file",name:"photo",placeholder:"Member Picture",model:"",required:!1,class:"is-12 d-flex justify-content-end",isLabel:!0,categories:["Adult","Minor"],typeMember:["Individual","Company"],camera:!0,modalName:"Miembro"},{typeInput:"text",name:"company_name",placeholder:"Company Name",model:"",class:"is-12",isLabel:!0,categories:["Adult"],typeMember:["Company"]},{typeInput:"text",name:"name",placeholder:"First Name",model:"",required:!0,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"second_name",placeholder:"Middle Name",model:"",required:!1,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"last_name",placeholder:"Last Name",model:"",required:!0,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"bar_code",placeholder:"Client ID Card",model:"",required:!0,class:"is-6",isLabel:!0,categories:["Adult","Minor"],typeMember:["Individual","Company"],hasError:!1,keyUp:async(s,t)=>{t.model.length>=9&&await e.get(`searchmember/${t.model}`).then((e=>{e.data.status?(t.hasError=!0,a.error("Barcode already exists")):t.hasError=!1})).catch((e=>{t.hasError=!1}))}},{typeInput:"date",name:"date_birth",placeholder:"Date of Birth",model:"",required:!0,class:"Prospect"==A.value?"is-6":"is-3",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"],maxLength:10,maxDate:m().subtract(2,"years").format("YYYY-MM-DD"),keyUp:(e,s)=>{const t=["YYYY-MM-DD","YYYY/MM/DD"];s.model.length>=10&&(m(s.model,t,!0).isValid()?s.hasError=!1:(a.error("Date invalid"),s.hasError=!0))}},{typeInput:"select",name:"gender",placeholder:"Gender",values:["Male","Female"],model:"",required:!0,class:"Prospect"==A.value?"is-6":"is-3",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"select",name:"goverment_id",placeholder:"Goverment ID Type",values:["Florida Driver License","Other State ID","Florida ID Card","Passport","Foreing Country ID","Florida Personal Identification Card","Florida Learner License"],model:"",required:!1,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"personal_identifications",placeholder:"ID #",model:"",required:!1,class:"is-8",isLabel:!0,categories:["Adult","Prospect","Minor"],typeMember:["Individual","Company"]},{typeInput:"text",name:"address",placeholder:"Address",model:"",required:!0,class:"is-12",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"city_id",placeholder:"City",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"selectData",name:"state_id",placeholder:"State",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"number",name:"postal_code",placeholder:"Postal Code",required:!0,model:"",class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"country_id",placeholder:"Country",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"email",name:"email",placeholder:"Email",model:"",required:!0,class:"is-6",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"number",name:"phone",placeholder:"Phone Number",model:"",required:!0,class:"is-6",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"checkbox",name:"leo_vet_fr",placeholder:"LEO / VET / FR",model:[],required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual"]},{typeInput:"number",name:"id_leo_vet_fr",placeholder:"LEO / VET / FR ID#",model:"",required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual"]},{typeInput:"hidden",name:"is_family",placeholder:"",model:0,class:"is-6",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"hidden",name:"principal_family",placeholder:"LEO / VET / FR ID#",model:0,class:"is-6",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]}]),D=p([{typeInput:"switchEventChange",name:"category",values:["Adult","Minor"],class:"is-6",isLabel:!0,model:!1,category:["Adult","Minor"]},{typeInput:"file",name:"photo",placeholder:"Member Picture",class:"is-6 d-flex justify-content-end",isLabel:!0,model:"",required:!1,category:["Adult","Minor"],camera:!0,modalName:"Familiar"},{typeInput:"select",name:"relationships",placeholder:"Relationship",values:["Son","Daughter","Wife","Husband","Father","Mother","Brother","Sister","Other"],model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"text",name:"bar_code",placeholder:"Client ID Card",model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"date",name:"date_birth",placeholder:"Date of Birth",model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult","Minor"],maxDate:m().subtract(2,"years").format("YYYY-MM-DD")},{typeInput:"select",name:"gender",placeholder:"Gender",values:["Male","Female","Binario"],model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"text",name:"name",placeholder:"First Name",model:"",class:"is-4",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"text",name:"second_name",placeholder:"Middle Name",model:"",class:"is-4",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"text",name:"last_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"select",name:"goverment_id",placeholder:"Goverment ID Type",values:["Florida Driver License","Other State ID","Florida ID Card","Passport","Foreing Country ID","Florida Personal Identification Card","Florida Learner License"],model:"",class:"is-4",isLabel:!0,required:!1,category:["Adult"]},{typeInput:"number",name:"personal_identifications",placeholder:"ID #",model:"",class:"is-8",isLabel:!0,required:!1,category:["Adult"]},{typeInput:"switchEventChangeInput",name:"misma_direccion",values:["","Use the same address as the parent member"],model:!1,required:!1,class:"is-12",isLabel:!0},{typeInput:"text",name:"address",placeholder:"Address",model:"",class:"is-12",isLabel:!0,required:!1,category:["Adult","Prospect"]},{typeInput:"selectData",name:"city_id",placeholder:"City",model:"",values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"state_id",placeholder:"State",model:"",values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"number",name:"postal_code",placeholder:"Postal Code",model:"",class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"country_id",placeholder:"Country",model:"",values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"email",name:"email",placeholder:"Email",model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult"]},{typeInput:"number",name:"phone",placeholder:"Phone Number",model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult"]},{typeInput:"checkbox",name:"leo_vet_fr",placeholder:"LEO / VET / FR",model:[],required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual"]},{typeInput:"number",name:"id_leo_vet_fr",placeholder:"LEO / VET / FR ID#",model:"",required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual"]},{typeInput:"hidden",name:"is_family",placeholder:"",model:1,class:"is-6",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"hidden",name:"principal_family",placeholder:"",model:0,class:"is-6",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]}]),P=c((()=>D.value)),x=p([{typeInput:"checkboxGroup",name:"notifications",text:"When you ask clients to opt in, remind them that we'll still send receipts and anything critical",values:[{name:"notifications_types_id",value:1,placeholder:"Account Information",values:[{placeholder:"Email",name:"email",model:["email"]},{placeholder:"SMS",name:"sms",model:["sms"]}]},{name:"notifications_types_id",value:2,placeholder:"Reminders and schedule changes",values:[{placeholder:"Email",name:"email",model:["email"]},{placeholder:"SMS",name:"sms",model:["sms"]}]},{name:"notifications_types_id",value:3,placeholder:"News and promos",values:[{placeholder:"Email",name:"email",model:["email"]},{placeholder:"SMS",name:"sms",model:["sms"]}]}]}]),E=u([{typeInput:"switch",name:"recurrence",values:["","Recurrence"],placeholder:"Recurrence",model:!0,disabled:!1,class:"is-12",isLabel:!0},{typeInput:"selectDataActionChangeInput",name:"memberships_id",placeholder:"Membership Type",values:[],model:"",disabled:!1,required:!0,class:"is-12",isLabel:!0},{typeInput:"radioBoxsInput",name:"recurrences_id",placeholder:"Recurrence & Amount",values:[],model:"",disabled:!1,required:!0,class:"is-12",isLabel:!0,filterName:"descriptions",otros:"amount"},{typeInput:"hidden",name:"amount",placeholder:"Amount",required:!0,model:"",disabled:!1,class:"is-12",isLabel:!0},{typeInput:"selectDataActionChangeInput",name:"locations_id",placeholder:"Locations Sale",required:!0,values:[],model:"",disabled:!1,class:"is-4",isLabel:!0},{typeInput:"checkboxGroupSimpleEventInput",name:"diciplines",text:"Disciplines",required:!0,model:[],values:[],disabled:!1,class:"is-12",isLabel:!0},{typeInput:"number",name:"initiation_fee",required:!0,placeholder:"Initiation fee",model:[],disabled:!0,class:"is-4",isLabel:!0},{typeInput:"checkbox",name:"is_initiation_fee",placeholder:"No initiation fee",model:[],disabled:!1,class:"is-4"},{typeInput:"selectDataActionChangeInput",name:"discount",placeholder:"Discount",values:[],data:null,model:"",disabled:!1,class:"is-6",isLabel:!0},{typeInput:"selectData",name:"staff_id",placeholder:"Trainer",values:[],model:"",disabled:!1,required:!1,class:"is-6"}]),F=p([{typeInput:"textarea",name:"notes",placeholder:"Notes",model:"",disabled:!1,class:"is-12",isLabel:!0}]),w=p([{typeInput:"file",name:"parent_photo",placeholder:"Parent/Guardian Picture",model:"",class:"is-12 d-flex justify-content-end",isLabel:!0,required:!0},{typeInput:"select",name:"parent_relationships",placeholder:"Parent Relationships",values:["Sand","Dother","Wife","Girlfriend","Boyfriend","Father","Mother"],model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"parent_name",placeholder:"First Name",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"parent_second_name",placeholder:"Middle Name",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"parent_last_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"select",name:"parent_goverment_id",placeholder:"Goverment ID Type",values:["Florida Driver License","Other State ID","Florida ID Card","Passport","Foreing Country ID","Florida Personal Identification Card","Florida Learner License"],model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"number",name:"parent_personal_identifications",placeholder:"ID #",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"address",placeholder:"Address",model:"",required:!0,class:"is-12",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"city_id",placeholder:"City",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"selectData",name:"state_id",placeholder:"State",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"number",name:"postal_code",placeholder:"Postal Code",required:!0,model:"",class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"country_id",placeholder:"Country",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"email",name:"parent_email",placeholder:"Email",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"number",name:"parent_phone",placeholder:"Phone Number",model:"",class:"is-4",isLabel:!0,required:!0}]),N=p([{typeInput:"text",name:"first_name",placeholder:"First Name",model:"",class:"is-4",isLabel:!0},{typeInput:"text",name:"middle_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0},{typeInput:"text",name:"last_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0},{typeInput:"email",name:"email",placeholder:"Email",model:"",class:"is-8",isLabel:!0},{typeInput:"number",name:"phone_number",placeholder:"Phone",model:"",class:"is-4",isLabel:!0},{typeInput:"text",name:"address",placeholder:"Address",model:"",class:"is-8",isLabel:!0},{typeInput:"select",name:"relationship",placeholder:"Relationship",values:["Sand","Dother","Wife","Girlfriend","Boyfriend","Father","Mother"],model:"",class:"is-4",isLabel:!0,required:!1}]),$=u([]),S=p(),O=async a=>e.post("getPresupuesto",a),T=async a=>{const s=await e.get(`members/${a}/edit`);return S.value=s.data,s},Y=async a=>await e.post(`members/updatePersonalInformation/${S.value.id}`,a),R=async a=>await e.get(`members/pause_membership/${J.value.id}`),G=async a=>e.get(`searchmember/${a}`),k=async()=>await e.post(`members/cancelMembershipMember/${J.value.id}`),j=async a=>await e.post(`members/contactEmergencystore/${S.value.id}`,a),B=async(a,s)=>await e.post(`paymentCash/${a}`,s),V=async a=>await e.put(`members/guardian/${S.value.id}`,a),W=async a=>await e.post("newMembershipMember",a),U=async(a,s)=>await e.post(`sign/${s}`,{sign:a}),z=async a=>await e.get(`members/cards/${a}`),H=async a=>{const s=await e.get(`members/list_invoices/${a}`);return S.value.invoices=s.data,s},J=c((()=>S.value.membership_members)),K=c((()=>S.value.membership_members_history)),Q=c((()=>S.value.families_children)),X=c((()=>S.value.family_parent?S.value.family_parent.pincipal_family:null));c((()=>S.value.emergency));const Z=c((()=>S.value.access_day)),ee=c((()=>J.value.payments));c((()=>{let e=J.value.created_at;return ee.value[0].status&&(e=ee.value[0].created_at),m(e).add(J.value.recurrence.recurrence,"d")}));const ae=c((()=>S.value.isSolvente)),se=c((()=>S.value.sinMembresia)),te=function(a){const i=this.values.find((e=>e.id==this.model));t(a,"initiation_fee",i.initiation_fee);const r=[];i.locations.forEach((e=>{1==e.sale&&r.push(e.company_locations)})),l(a,"locations_id",r),(async a=>e.post("recurrences_select",{memberships_id:a}))(this.model).then((e=>{s(a,"recurrences_id").values=e.data})),o(this.model).then((e=>{l(a,"diciplines",e.data),s(a,"diciplines").values.push({id:0,name:"All"});const t=this.values.find((e=>e.id==this.model)).diciplines_number;s(a,"diciplines").required=0!=t,re(a)}))},le=function(e){t(e,"amount",this.values.find((e=>e.id==this.model)).amount)},ie=function(e){},re=e=>{1==i(e,"memberships_id").all_diciplines?s(e,"diciplines").values.forEach((a=>{s(e,"diciplines").model.push(a.id)})):s(e,"diciplines").model=[]},ne=function(e){""!=this.model?d(this.values.find((e=>e.id==this.model)).code,"membership").then((e=>{this.data=e.data,a.success("Discuount valid")})).catch((e=>{a.error(e.response.data),this.model=""})):this.data=null},de=function(e){return`${e.name}`},oe=function(e){return e.second_name?`${e.name} ${e.second_name} ${e.last_name}`:`${e.name}  ${e.last_name}`},pe=function(e,s,t){const l=i(s,"memberships_id").diciplines_number;if(l>0&&(l<=this.model.length&&(e.returnValue=!1),l==this.model.length))if(this.model.includes(t)){const e=this.model.findIndex((e=>e==t)),a=[];this.model.forEach(((s,t)=>{e!=t&&a.push(s)})),this.model=a}else a.error("You must select a limit of "+l+" diciplines")},ce=e=>{s(e,"memberships_id").change=te,s(e,"recurrences_id").change=le,s(e,"locations_id").change=ie,s(e,"discount").change=ne,s(e,"discount").filter=de,s(e,"staff_id").filterOptionText=oe,s(e,"diciplines").change=function(e,a){},s(e,"diciplines").click=pe},me=async t=>{const l=new FormData,i=r(t.member);n(l,i);for(let e=0;e<t.contact.length;e++){const a=t.contact[e];for(const s in a)l.append(`notifications[${e}][${s}]`,a[s])}const d=r(t.membresia);for(const e in d)if("diciplines"==e){const a=d[e];for(let e=0;e<a.length;++e)l.append("diciplines[]",a[e])}else l.append(e,d[e]);l.append("total",t.total),l.append("payment_type_id",3);const o=r(t.categoriesMembers,{array:!1});for(const e in o)l.append(e,o[e]);const p=r(t.notasInput);for(const e in p)l.append(e,p[e]);l.append("presupuesto_id",t.presupuesto_id),g.value&&l.append("id_principal",g.value);return await(async a=>{const s=await e.post("members",a);return a.value=s.data.member,s})(l).then((e=>(b.value=e.data.id,I.value=e.data.membership_members_id,0==s(t.member,"is_family").model&&(g.value=b.value),e))).catch((e=>{for(const s in e.response.data.errores)e.response.data.errores[s].forEach((e=>{a.error(`${s}: ${e}`)}));return e}))};export{se as A,y as B,h as C,_ as D,f as E,$ as F,L as G,g as H,me as I,C as J,M as K,F as L,b as M,I as N,x as O,G as P,J as a,E as b,q as c,v as d,ce as e,k as f,z as g,O as h,ae as i,W as j,U as k,R as l,S as m,X as n,Q as o,Y as p,w as q,V as r,B as s,N as t,j as u,Z as v,H as w,K as x,P as y,T as z};
