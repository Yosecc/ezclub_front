import{_ as e}from"./V-Placeload.ba28fd33.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.e8b89c92.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.3e73d9de.js";import{m as l,i as s,a as n,b as r,s as i,c as u,p as o,d as c,e as m,f as d,h as p,j as v,k as f,l as b,n as h,o as y,q as _,r as g,t as k,u as j,v as x,w as M,x as C,y as w,z as P,A as D}from"./Members.8cde6448.js";import{b as S,P as $,A as Y,F as E,c as A,v as I,g as V,m as F,n as z,p as T,a as L,s as N}from"./index.8e1175a7.js";import{d as q,w as W,G as H,b as O,r as B,D as R,o as U,h as G,J,O as Q,j as K,k as X,F as Z,Q as ee,R as te,S as ae,U as le,a8 as se,E as ne,z as re,Y as ie,L as ue}from"./vendor.d0c8bc4f.js";import{_ as oe}from"./V-Button.vue_vue&type=script&setup=true&lang.19e0de69.js";import{_ as ce}from"./V-Loader.vue_vue&type=script&setup=true&lang.ee9a9239.js";import{_ as me}from"./V-Control.46cc2837.js";import{_ as de}from"./V-Field.vue_vue&type=script&setup=true&lang.5cab5a8d.js";import{_ as pe}from"./V-Modal.vue_vue&type=script&setup=true&lang.b53d2d79.js";import{_ as ve}from"./V-Tag.vue_vue&type=script&setup=true&lang.39ace96b.js";import{_ as fe}from"./inputsLayaut.vue_vue&type=style&index=0&lang.7f55e2b2.js";import{_ as be}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.6ebe6131.js";import{_ as he}from"./V-AvatarStack.vue_vue&type=script&setup=true&lang.38d4d5c1.js";import{_ as ye,a as _e}from"./Presupuesto.vue_vue&type=script&setup=true&lang.28dace5e.js";import{_ as ge}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.8a14b49c.js";import{_ as ke}from"./V-Block.vue_vue&type=script&setup=true&lang.e2962b14.js";import{_ as je}from"./MemberCards.vue_vue&type=script&setup=true&lang.d9638379.js";import{_ as xe}from"./pdf_icon.d44191be.js";import{_ as Me}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.3d1329ae.js";import{p as Ce}from"./sidebarLayoutState.24ad74be.js";import{g as we}from"./Discounts.0ab65dca.js";import{a as Pe}from"./Memberships.1a2a63df.js";import{g as De}from"./Recurrences.d5451bf0.js";import{h as Se}from"./Staffs.b0f4daed.js";import{g as $e}from"./Diciplines.953cf753.js";import{e as Ye}from"./config.dfc9355a.js";import{b as Ee,d as Ae}from"./Companies.8be077da.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.438fd8f7.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.3464e18c.js";import"./signComponent.vue_vue&type=script&setup=true&lang.9e07ebd1.js";import"./V-Dropdown.7e196bf4.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.84f721dd.js";import"./useDropdown.6d34f9a4.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.b43c3499.js";import"./activePanelState.b9e0947e.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.aece0df6.js";import"./V-Message.vue_vue&type=script&setup=true&lang.9d01539d.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.12102989.js";import"./navbarLayoutState.13ef676b.js";import"./video.6d0592c0.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.bd4b68fd.js";import"./darkModeState.2cf6bce9.js";import"./AnimatedLogo.7babd236.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.e23c671a.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.67afcfe6.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.ff5e9d07.js";const Ie={class:"d-flex justify-content-center align-items-center flex-column mb-4"},Ve={class:"mt-5 text-center"},Fe={class:"title is-5 is-narrow"},ze={class:"w-100 mt-5"},Te=X("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var Le=q({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:n}){const r=e,i=Q();W((()=>i.hash),(e=>{m.value=u.findIndex((e=>e.component==i.hash.slice(1)))})),H((()=>{""!=i.hash&&(m.value=u.findIndex((e=>e.component==i.hash.slice(1))))}));const u=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"}],o=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],c=O((()=>["Adult","Minor"].includes(r.category)?u:o)),m=B(0),d=B(null),p=O((()=>null!=c.value[m.value]?c.value[m.value].component:d.value));return(e,r)=>{const i=t,u=a;return R(l)?(U(),G(u,{key:0,color:R(s)?void 0:"danger"},{default:K((()=>[X("div",Ie,[X(i,{picture:R(l).photo?`${R(S)}storage/${R(l).photo}`:"",size:"xl"},null,8,["picture"]),X("div",Ve,[X("h2",Fe,Z(R(l).name)+" "+Z(R(l).second_name)+" "+Z(R(l).last_name),1)])]),X("div",ze,[X("ul",null,[(U(!0),G(ee,null,te(R(c),((e,t)=>(U(),G("li",{key:`item-${t}`},[X(u,{class:["\n              mb-3\n              item_menu\n              d-flex\n              justify-content-between\n              align-items-center\n            ",m.value==t?"active":""],color:m.value==t?"warning":void 0,elevated:m.value==t,onClick:e=>(e=>{m.value=e,n("changeMenu",p)})(t)},{default:K((()=>[X("p",null,Z(e.name),1),Te])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1},8,["color"])):J("",!0)}}});const Ne=X("div",{id:"payment-element"},null,-1),qe=ne(" Pay now "),We=X("div",{id:"payment-message",class:"hidden"},null,-1);var He=q({expose:[],props:{amount:{type:Number,required:!0},id:{type:Number,required:!0},url:{type:String,default:"stripe"},member_membership:{type:Number,default:0}},setup(t){const l=t,s=Stripe($.value);W((()=>l.id),(e=>{console.log("cambio"),n.value=!0,m()}));const n=B(!0);B({id:l.id,amount:l.amount});const r=B(),i=O((()=>"stripe"!=l.url?{payment_type_id:3,amount:l.amount}:{id:l.id,member_mermship_id:l.member_membership,amount:l.amount,payment_type_id:1})),u=B(null),o=B(null),c=B(!1),m=async()=>{let e=await Y.post(l.url,i.value).then((e=>{u.value=e.data.clientSecret,r.value=s.elements({clientSecret:u.value}),o.value=r.value.create("payment"),o.value.mount("#payment-element")})).catch((e=>{}));return n.value=!1,e},d=async e=>{e.preventDefault(),c.value=!0,await s.confirmPayment({elements:r.value,confirmParams:{return_url:`${E.value}members/process?payment_type=3&id=`+l.id+`&membership=${l.member_membership}`}}),c.value=!1};return H((()=>{m()})),(t,l)=>{const s=e,r=oe,i=ce,u=a;return U(),G(ee,null,[n.value?(U(),G(s,{key:0,height:"500px"})):J("",!0),ae(X(u,{class:"mt-6"},{default:K((()=>[X("form",{onSubmit:se(d,["prevent"]),id:"payment-form"},[Ne,X(i,{size:"small",active:c.value},{default:K((()=>[X(r,{id:"submit",class:"mt-4",color:"success"},{default:K((()=>[qe])),_:1})])),_:1},8,["active"]),We],40,["onSubmit"])])),_:1},512),[[le,!n.value]])],64)}}});const Oe={class:"table is-hoverable is-striped is-fullwidth"},Be=X("th",{scope:"col"},"Members",-1),Re=X("th",{scope:"col"},"Membership Name",-1),Ue=X("th",{scope:"col"},"Recurrence",-1),Ge=X("th",{scope:"col"},"Prorated",-1),Je=X("th",{scope:"col"},"Membership Cost",-1),Qe=X("th",{scope:"col"},"Initiation Fee",-1),Ke=X("th",{scope:"col"},"Discount",-1),Xe=X("th",{scope:"col"},"Taxes",-1),Ze={key:0,scope:"col"},et=X("th",{scope:"col"},"Sub Total",-1),tt={key:0},at={key:0},lt={key:1},st={key:2},nt={key:0},rt=X("br",null,null,-1),it={key:1},ut={key:0},ot={key:1},ct={key:0},mt={key:0},dt={key:1},pt={key:1},vt={key:3},ft={class:"is-end"},bt={class:"d-flex justify-content-between"},ht=ne(" Card Payment "),yt=ne(" Cash Payment "),_t={class:"d-flex mb-4 justify-content-between"},gt={class:"title is-5"},kt=ne(" Total: "),jt={class:"title is-5"},xt=ne(" Cash Total: "),Mt={class:"\n            d-flex\n            justify-content-center\n            align-items-center\n            flex-column\n            mb-4\n          "},Ct=X("p",{class:"title is-5 mb-4"},"Change Back:",-1),wt={class:"title is-3 mb-0"},Pt={class:"d-flex justify-content-center flex-wrap mb-4"},Dt=X("div",{class:"w-100"},null,-1),St={class:"d-flex justify-content-center"},$t=ne("Reset"),Yt=ne("Confirm");var Et=q({expose:[],setup(e){B(!1);const t=B(!1);H((()=>{console.log("se monto el payment")}));const s=O((()=>{let e=A(r,"memberships_id");return null!=e?e:[]})),u=O((()=>{let e=A(r,"recurrences_id");return null!=e?e:[]})),o=O((()=>{let e=I(r,"initiation_fee");return null!=e?e:[]})),c=O((()=>{let e=V(r,"discount");return null!=e?e:[]})),m=O((()=>{let e=parseFloat(re().format("DD")),t=0,a=0;return u.value.days>=30&&(a=e-u.value.payday,t=u.value.amount/u.value.days*a),{days:a,amount:Math.abs(Math.round(t))}})),d=O((()=>(e=>{if(""!=I(r,"memberships_id"))return"percentaje"==(e=e.value?e.value:e).tax.type?{text:`${e.tax.value}%`,value:e.tax.value,type:"procentaje"}:{text:F(e.tax.value),value:e.tax.value}})(s))),p=B(null),v=O((()=>{let e=0;return e+=u.value.amount,I(r,"is_initiation_fee").length||(e+=o.value),e-=m.value.amount,c.value.data&&("dolar"==c.value.data.type?e-=c.value.data.value:"percentaje"==c.value.data.type&&(e-=e/100*c.value.data.value)),e+=e/100*d.value.value,l.value.penalty&&(p.value=s.value.penalty,e+=p.value),l.value.leo_vet_fr&&(e-=e/100*s.value.descuento_vet),e})),f=O((()=>{let e=0;return e+=v.value,e})),b=B(!1),h=B(0),y=O((()=>{const e=parseFloat(h.value)-parseFloat(f.value);return e>0?e:0}));B(1);const _=async()=>{await i(n.value.id,{total:f.value,payment_type_id:1,cash:h.value,cash_back:y.value}).then((e=>{z.success("Payment Success"),window.location.reload()})).catch((e=>{}))};return(e,i)=>{const g=oe,k=a,j=He,x=me,M=de,C=pe;return U(),G("div",null,[X(k,{class:""},{default:K((()=>{return[X("table",Oe,[X("thead",null,[X("tr",null,[Be,Re,Ue,Ge,Je,Qe,Ke,Xe,p.value?(U(),G("th",Ze,"Penalty")):J("",!0),et])]),0!=R(s).length?(U(),G("tbody",tt,[X("tr",null,[X("td",null,[X("p",null,[X("b",null,Z(R(l).name)+" "+Z(R(l).second_name)+" "+Z(R(l).last_name),1)])]),0!=R(s).legnth?(U(),G("td",at,Z(R(s).name),1)):J("",!0),0!=R(u).length?(U(),G("td",lt,Z(R(u).descriptions),1)):J("",!0),0!=R(u).length?(U(),G("td",st,[R(u).days>=30?(U(),G("span",nt,[ne(Z(R(m).days)+" days : ",1),rt,ne(" - "+Z(R(F)(R(m).amount)),1)])):(U(),G("span",it,"-"))])):J("",!0),X("td",null,Z(R(F)((e=R(u),e.amount))),1),X("td",null,[R(I)(R(r),"is_initiation_fee").length?(U(),G("span",ot,Z(R(F)(0)),1)):(U(),G("span",ut,Z(R(F)(R(o))),1))]),X("td",null,[null!=R(c).data?(U(),G("span",ct,["dolar"==R(c).data.type?(U(),G("span",mt," - "+Z(R(F)(R(c).data.value)),1)):J("",!0),"percentaje"==R(c).data.type?(U(),G("span",dt,Z(R(c).data.value)+"%",1)):J("",!0)])):(U(),G("span",pt,"-"))]),X("td",null,Z(R(d).text),1),p.value?(U(),G("td",vt,Z(R(F)(p.value)),1)):J("",!0),X("td",null,Z(R(F)(R(v))),1)]),X("tr",null,[X("td",{style:{"text-align":"right"},colspan:p.value?"9":"8"}," Total ",8,["colspan"]),X("td",ft,Z(R(F)(R(f))),1)])])):J("",!0)]),X("div",bt,[X(g,{color:"success",disabled:0==R(s).length||isNaN(R(f)),onClick:i[1]||(i[1]=e=>t.value=!0)},{default:K((()=>[ht])),_:1},8,["disabled"]),X(g,{disabled:0==R(s).length||isNaN(R(f)),color:"warning",onClick:i[2]||(i[2]=e=>b.value=!0)},{default:K((()=>[yt])),_:1},8,["disabled"])])];var e})),_:1}),t.value?(U(),G(j,{key:0,class:"",url:`new_payment/${R(n).id}`,amount:R(f),id:R(l).id,member_membership:R(n).id},null,8,["url","amount","id","member_membership"])):J("",!0),X(C,{open:b.value,actions:"center",onClose:i[6]||(i[6]=e=>b.value=!1)},{content:K((()=>[X("div",_t,[X("p",gt,[kt,X("b",null,Z(R(F)(R(f))),1)]),X("p",jt,[xt,X("b",null,Z(R(F)(h.value)),1)])]),X("div",Mt,[Ct,X("p",wt,[X("b",null,Z(R(F)(R(y))),1)])]),X("div",Pt,[X(g,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:i[3]||(i[3]=e=>h.value=R(f))},{default:K((()=>[ne(" Full Payment "+Z(R(F)(R(f))),1)])),_:1}),Dt,(U(),G(ee,null,te([5,10,20,50,100],((e,t)=>X(g,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>h.value+=e},{default:K((()=>[ne(" $"+Z(e),1)])),_:2},1032,["onClick"]))),64))]),X("div",St,[X(M,null,{default:K((()=>[X(x,null,{default:K((()=>[ae(X("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>h.value=e),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[ie,h.value]])])),_:1})])),_:1})])])),action:K((()=>[X(g,{onClick:i[5]||(i[5]=e=>h.value=0),class:"d-flex justify-content-center",raised:""},{default:K((()=>[$t])),_:1}),X(g,{color:"success",onClick:_,disabled:R(f)>h.value,class:"d-flex justify-content-center",raised:""},{default:K((()=>[Yt])),_:1},8,["disabled"])])),_:1},8,["open"])])}}});const At=X("div",null,[X("h1",{class:"title is-4 mb-0"},"Personal Information"),X("p",null,"Edit member's personal information")],-1),It=ne(" Save Changes "),Vt=ne(" Convert to Members ");var Ft=q({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;O((()=>"Prospect"==t.category));const a=B(!1),l=()=>{a.value=!0;let e=T(u.value),t=new FormData;for(var l in e)"id_leo_vet_fr"==l?null==e[l]&&t.append(l,0):t.append(l,e[l]);o(t).then((e=>{z.success("Edit Success"),a.value=!1})).catch((e=>{a.value=!1}))};return(e,s)=>{const n=oe,r=ce,i=fe,o=be;return U(),G(o,null,{"header-left":K((()=>[At])),"header-right":K((()=>[X(r,{size:"small",active:a.value},{default:K((()=>[X(n,{onClick:l,color:"primary"},{default:K((()=>[It])),_:1}),"Prospect"==t.category?(U(),G(n,{key:0,color:"info",class:"ml-3"},{default:K((()=>[Vt])),_:1})):J("",!0)])),_:1},8,["active"])])),content:K((()=>[X(i,{"inputs-step":R(u)},null,8,["inputs-step"])])),_:1})}}});const zt=X("div",null,[X("h1",{class:"title is-4 mb-0"},"Membership / Contract"),X("p",null,"Edit member's membership and contract information")],-1),Tt={class:"columns is-multiline justify-content-center"},Lt={key:0,class:"column is-12"},Nt=X("p",null,[X("small",null,"Membership")],-1),qt={class:"title is-4"},Wt={key:1,class:"column is-4 mb-6 mt-4"},Ht=X("p",null,[X("b",null,"HOLD Membership")],-1),Ot={key:0},Bt={key:2,class:"column is-4 mb-6 mt-4"},Rt=X("p",null,[X("b",null,"Cancel Membership")],-1),Ut=ne("Save Changes"),Gt=ne(" New Membership "),Jt={key:4,class:"column is-12 mb-6 mt-4"},Qt={key:1},Kt={class:"d-flex justify-content-end w-100"},Xt=ne("Cancel");var Zt=q({expose:[],props:{},setup(t){H((()=>{c(r)})),B(null),B(null),B(null),B(null),B(null);const s=B(!1);B(null);const i=O((()=>{if(l.value&&n.value){let e=["locations_id","diciplines","staff_id"];return r.filter((t=>e.includes(t.name)))}return r})),o=()=>{const e=T(r);v(e).then((e=>{z.success("Success"),s.value=!1}))},y=async()=>{s.value=!0,await f(r,u.value),s.value=!1},_=()=>{confirm("Are you sure you want to perform this action?")&&(s.value=!0,b().then((e=>{z.success("Memberships Cancel"),window.location.reload(),s.value=!1})))},g=e=>{},k=()=>{confirm("Are you sure you want to perform this action?")&&(s.value=!0,h(n.value.id).then((e=>{z.success("Success Pause"),s.value=!1,window.location.reload()})).catch((e=>{for(var t in s.value=!1,e.response.data.errores)e.response.data.errores[t].forEach((e=>{z.error(`${t}: ${e}`)}))})))};return(t,r)=>{const u=a,c=ce,v=fe,f=he,b=oe,h=e,j=ye,x=_e,M=be;return U(),G(M,null,{"header-left":K((()=>[zt])),content:K((()=>[X("div",Tt,[R(l)&&R(n)?(U(),G("div",Lt,[X(u,{color:"info"},{default:K((()=>[Nt,X("p",qt,Z(R(n).membership.name),1)])),_:1})])):J("",!0),R(l)&&R(n)?(U(),G("div",Wt,[R(l).membership_members.is_recurrence?(U(),G(c,{key:0,size:"small",active:s.value},{default:K((()=>[R(n)&&R(l).subscription?(U(),G(u,{key:0,color:"info",outlined:null==R(l).subscription.pause_collection,onClick:k,class:"mr-4 btn-card text-center"},{default:K((()=>[Ht,null!=R(l).subscription.pause_collection?(U(),G("span",Ot,"Active until: "+Z(R(l).subscription.pause_collection.resumes_at),1)):J("",!0)])),_:1},8,["outlined"])):J("",!0)])),_:1},8,["active"])):J("",!0)])):J("",!0),R(l)&&R(n)?(U(),G("div",Bt,[R(l).membership_members.is_recurrence?(U(),G(c,{key:0,size:"small",active:s.value},{default:K((()=>[R(n)?(U(),G(u,{key:0,color:"danger",outlined:"",onClick:_,class:"mr-4 btn-card text-center"},{default:K((()=>[Rt])),_:1})):J("",!0)])),_:1},8,["active"])):J("",!0)])):J("",!0),R(m).length?J("",!0):(U(),G(u,{key:3,class:"mb-4 column is-12"},{default:K((()=>[X(v,{"inputs-step":R(i)},null,8,["inputs-step"]),R(l).trainers?(U(),G(f,{key:0,avatars:R(d)(R(l).trainers),size:"small"},null,8,["avatars"])):J("",!0),R(l)&&R(n)?(U(),G(c,{key:1,size:"small",active:s.value},{default:K((()=>[X(b,{class:"mt-5",onClick:o,color:"primary"},{default:K((()=>[Ut])),_:1})])),_:1},8,["active"])):J("",!0),R(p)?J("",!0):(U(),G(c,{key:2,size:"small",active:s.value},{default:K((()=>[R(n)?J("",!0):(U(),G(b,{key:0,class:"mt-5",onClick:y,color:"primary"},{default:K((()=>[Gt])),_:1}))])),_:1},8,["active"]))])),_:1})),R(n)?J("",!0):(U(),G("div",Jt,[s.value?(U(),G(h,{key:0,height:"300px",class:"mb-4"})):J("",!0),R(m).length?(U(),G("div",Qt,[(U(!0),G(ee,null,te(R(m),((e,a)=>(U(),G(x,{key:`presupuesto-${a}`,class:"mb-4",presupuesto:e},{default:K((()=>[X("div",Kt,[X(j,{member:e.member,member_id:R(l).id,membresia:e.membresia,contact:t.dataContact,presupuesto_id:e.presupuesto_id,"categories-members":t.categoriesMembers,"notas-input":t.notasInput,total:e.totales.upfront.amount_total,onPaymentAction:g,type:"edit"},null,8,["member","member_id","membresia","contact","presupuesto_id","categories-members","notas-input","total"])])])),_:2},1032,["presupuesto"])))),128)),X(b,{onClick:r[1]||(r[1]=e=>m.value=[]),color:"danger"},{default:K((()=>[Xt])),_:1})])):J("",!0)]))])])),_:1})}}});const ea=X("div",null,[X("h1",{class:"title is-4 mb-0"},"Family Members"),X("p",null,"Edit member's family members")],-1),ta={class:"columns is-multiline"},aa={key:0,class:"column is-4 mb-4"},la=X("div",null,[X("h1",{class:"title is-4 mb-0"},"Parent"),X("p",null,"Edit parent contact")],-1),sa=ne(" Save Changes "),na={class:""},ra=X("h1",{class:"title is-5"},"Parent Contact Information",-1),ia={class:"d-flex justify-content-end mr-6"};var ua=q({expose:[],setup(e){B([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]);const a=()=>{const e=perpareDataInputs(g.value);k(e).then((e=>{z.success("Success")}))};return(e,s)=>{const n=t,r=ge,i=ke,u=be,o=oe,c=fe;return U(),G("div",null,[R(l)&&"Adult"==R(l).category?(U(),G(u,{key:0},{"header-left":K((()=>[ea])),"header-right":K((()=>[])),content:K((()=>[X("div",ta,[R(y)?(U(),G("div",aa,[X(i,{title:`${R(y).name} ${R(y).second_name} ${R(y).last_name}`,class:"border-1 p-4 radius-small"},{icon:K((()=>[X(n,{size:"medium",picture:`${R(S)}storage/${R(y).photo}`,subtitle:"Principal Family"},null,8,["picture"])])),action:K((()=>[X(r,{"id-member":R(y).id},null,8,["id-member"])])),_:1},8,["title"])])):J("",!0),(U(!0),G(ee,null,te(R(_),((e,t)=>(U(),G("div",{class:"column is-4 mb-4",key:`family-${t}`},[X(i,{title:`${e.member.name} ${e.member.second_name} ${R(l).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:K((()=>[X(n,{size:"medium",picture:`${R(S)}storage/${e.member.photo}`},null,8,["picture"])])),action:K((()=>[X(r,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):J("",!0),R(l)&&"Minor"==R(l).category?(U(),G(u,{key:1},{"header-left":K((()=>[la])),"header-right":K((()=>[X(o,{onClick:a,color:"primary"},{default:K((()=>[sa])),_:1})])),content:K((()=>[X("div",na,[ra,X("div",ia,[X(n,{picture:`${R(S)}storage/${R(I)(R(g),"parent_photo")}`,size:"large"},null,8,["picture"])]),X(c,{"inputs-step":R(g)},null,8,["inputs-step"])])])),_:1})):J("",!0)])}}});const oa=X("div",null,[X("h1",{class:"title is-4 mb-0"},"Emergency Contact"),X("p",null,"Edit member's emergency contact")],-1),ca=ne(" Save Changes "),ma={class:""},da=X("h1",{class:"title is-5"},"Emergency Contact Information",-1);var pa=q({expose:[],setup(e){const t=()=>{const e=T(j.value);console.log(e),x(e).then((e=>{z.success("Success")}))};return(e,a)=>{const l=oe,s=fe,n=be;return U(),G(n,null,{"header-left":K((()=>[oa])),"header-right":K((()=>[X(l,{onClick:t,color:"primary"},{default:K((()=>[ca])),_:1})])),content:K((()=>[X("div",ma,[da,X(s,{"inputs-step":R(j)},null,8,["inputs-step"])])])),_:1})}}});const va=X("div",null,[X("h1",{class:"title is-4 mb-0"},"Check-ins History"),X("p",null,"Edit member's check-ins history")],-1),fa={class:"p-6"},ba={class:"d-flex"},ha=X("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),ya=X("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),_a=ne(" Export "),ga={class:"mt-4"},ka={class:"table is-hoverable is-fullwidth"},ja=X("thead",null,[X("tr",null,[X("th",{scope:"col"},"DATE"),X("th",{scope:"col"},"TIME"),X("th",{scope:"col"},"STAFF")])],-1);var xa=q({expose:[],setup:e=>(e,t)=>{const a=me,s=de,n=oe,r=be;return R(l)?(U(),G(r,{key:0},{"header-left":K((()=>[va])),"header-right":K((()=>[])),content:K((()=>[X("div",fa,[X("div",ba,[X(s,{class:"field mr-3"},{default:K((()=>[X(a,null,{default:K((()=>[ha])),_:1})])),_:1}),X(s,{class:"field mr-3"},{default:K((()=>[X(a,null,{default:K((()=>[ya])),_:1})])),_:1}),X(n,{color:"primary"},{default:K((()=>[_a])),_:1})]),X("div",ga,[X("table",ka,[ja,X("tbody",null,[(U(!0),G(ee,null,te(R(M),((e,t)=>(U(),G("tr",{key:`access-${t}`},[X("td",null,Z(R(re)(e.created_at).format("DD/MM/YYYY")),1),X("td",null,Z(R(re)(e.created_at).format("HH:mm:ss")),1),X("td",null,Z(e.user.name),1)])))),128))])])])])])),_:1})):J("",!0)}});const Ma=X("div",null,[X("h1",{class:"title is-4 mb-0"},"Purchases History"),X("p",null,"Edit member's purchases history")],-1),Ca=X("p",{class:"title is-5"},"Card List",-1),wa={class:"mt-4"},Pa={class:"table is-hoverable is-fullwidth"},Da=X("thead",null,[X("tr",null,[X("th",{scope:"col"},"Description"),X("th",{scope:"col"},"Created"),X("th",{scope:"col"},"Start Period"),X("th",{scope:"col"},"End Period"),X("th",{scope:"col"},"Mount"),X("th",{scope:"col"},"Download"),X("th",{scope:"col"},"Status")])],-1),Sa={key:0},$a=X("i",{class:"fas fa-download","aria-hidden":"true"},null,-1);var Ya=q({expose:[],setup(e){O((()=>n.value.payments)),O((()=>{let e=[];return w.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e})),H((async()=>{await C(l.value.id)}));const t=e=>{};return(e,s)=>{const r=je,i=a,u=oe,o=be;return R(l)?(U(),G(o,{key:0},{"header-left":K((()=>[Ma])),"header-right":K((()=>[])),content:K((()=>[X(i,{class:"mb-4"},{default:K((()=>[Ca,R(l).user?(U(),G(r,{key:0,onOnMethodPayment:t,method_default:R(l).user.pm_last_four,"show-new-card":!1},null,8,["method_default"])):J("",!0)])),_:1}),X(i,{class:"p-"},{default:K((()=>[X("div",wa,[X("table",Pa,[Da,R(n)?(U(),G("tbody",Sa,[(U(!0),G(ee,null,te(R(l).invoices,((e,t)=>{var a;return U(),G("tr",{key:`invoice-${t}`},[X("td",null,Z(null!=(a=e.subscription)?a:"Others"),1),X("td",null,Z(R(re)(e.created).format("MM/DD/YYYY")),1),X("td",null,Z(R(re)(e.period_start).format("MM/DD/YYYY")),1),X("td",null,Z(R(re)(e.period_end).format("MM/DD/YYYY")),1),X("td",null,Z(R(F)(e.total/100)),1),X("td",null,[X("a",{href:e.invoice_pdf,download:""},[X(u,null,{default:K((()=>[$a])),_:1})],8,["href"])]),X("td",null,Z("paid"==e.status?"Paid":"error"),1)])})),128))])):J("",!0)])])])),_:1})])),_:1})):J("",!0)}}});const Ea=X("div",null,[X("h1",{class:"title is-4 mb-0"}," Waiver "),X("p",null,"Edit member's waiver information")],-1),Aa=ne(" Convert to Members "),Ia={class:"columns is-multiline"},Va={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},Fa={href:"234",class:"text-center"},za=X("img",{style:{width:"70px"},src:xe,alt:""},null,-1);var Ta=q({expose:[],setup(e){const t=B([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,a)=>{const l=oe,s=be;return U(),G(s,null,{"header-left":K((()=>[Ea])),"header-right":K((()=>[X(l,{color:"info"},{default:K((()=>[Aa])),_:1})])),content:K((()=>[X("div",Ia,[(U(!0),G(ee,null,te(t.value,((e,t)=>(U(),G("div",{class:"column is-2 mb-4",key:`family-${t}`},[X("div",Va,[X("a",Fa,[za,X("p",null,Z(e.name),1)])])])))),128))])])),_:1})}}});const La={key:0,class:"columns is-multiline"},Na={class:"column is-3"},qa={class:"column is-9"},Wa={class:"columns is-multiline column is-12"},Ha={class:"columns is-multiline column is-12"},Oa={key:1,class:"columns is-multiline"},Ba={class:"column is-3"},Ra={class:"column is-9"},Ua={class:"title is-5 mb-0"},Ga=X("div",null,null,-1),Ja={class:"d-flex justify-content-between"},Qa=X("b",null,"Member since.",-1),Ka=X("b",null,"Membership Active:",-1),Xa={key:0},Za=X("b",null,"Due Date: ",-1),el={key:0};var tl=q({expose:[],setup(t){const i=Q();Ce.value="Member Profile",ue({title:"Members"});const o=B(!1),c=B("personalInformation"),m=e=>{c.value=e.value};W((()=>i.query),((e,t)=>{Object.keys(e).length>0&&(b(),f())}));const d=B("FAILED PAYMENT"),p=B("");W((()=>i.hash),(e=>{c.value=i.hash.slice(1)})),W((()=>i.query.id),(e=>{c.value="personalInformation"}));const v=B(!0),f=()=>{v.value=!0,setTimeout((()=>{v.value=!1}),500)};H((()=>{""!=i.hash&&(c.value=i.hash.slice(1)),Ee().then((e=>{L(r,"locations_id",Ae.value)})),Ye().then((e=>{L(u,"country_id",e.contries),L(u,"city_id",e.cities),L(u,"state_id",e.states),L(P,"city_id",e.cities),L(P,"state_id",e.states),L(P,"country_id",e.contries)})),Pe().then((e=>{L(r,"memberships_id",e.data.memberships)})),we().then((e=>{L(r,"discount",e.data.discounts)})),De().then((e=>{L(r,"recurrences_id",e.data)})),Se().then((e=>{L(r,"staff_id",e.data)})),b()}));const b=async()=>{await D(i.query.id).then((e=>{for(var t in console.log("response.data",e.data),e.data)if("select_type"==t)"Individual"==e.data[t]?V(u.value,"select_type").model=!1:V(u.value,"select_type").model=!0;else if("membership_members"==t)for(var a in e.data[t]||(d.value="Does not have a membership",p.value="Does not have a membership go to the Membership/Contract section and create a new membership and press New Membership",console.error("no posee una membresia :(")),e.data[t])"memberships_location"==a?e.data[t][a]?(V(r,"locations_id").model=e.data[t][a].companies_locations_id,$e([e.data[t][a].companies_locations_id]).then((e=>{L(r,"diciplines",e.data)}))):console.error("no posee una locacion :("):"diciplines"==a?(V(r,"diciplines").model=[],e.data[t][a].forEach((e=>{V(r,"diciplines").model.push(e.diciplines_id)}))):null!=V(r,a)&&N(r,a,e.data[t][a]);else if("trainers"==t){let a=[];e.data[t].forEach((e=>{a.push(e.id)})),N(r,"staff_id",a)}else if("emergency"==t)for(a in e.data[t])N(j,a,e.data[t][a]);else if("guardian"==t)for(a in e.data[t])N(g,a,e.data[t][a]);else N(u,t,"leo_vet_fr"==t?1==e.data[t]:e.data[t]);v.value=!1}))};return(t,r)=>{const u=e,f=Le,b=a,h=Et,y=ve,_=Ft,g=Zt,k=ua,j=pa,x=xa,M=Ya,C=Ta,w=Me;return U(),G(w,null,{default:K((()=>[v.value?(U(),G("div",La,[X("div",Na,[X(u,{height:"700px"})]),X("div",qa,[X("div",Wa,[X(u,{height:"150px"})]),X("div",Ha,[X(u,{height:"420px"})])])])):J("",!0),!v.value&&R(l)?(U(),G("div",Oa,[X("div",Ba,[X(f,{category:R(i).query.category,onChangeMenu:m},null,8,["category"])]),X("div",Ra,[R(s)?J("",!0):(U(),G(b,{key:0,class:"mb-4 d-flex justify-content-between align-items-center",color:"danger"},{default:K((()=>[X("div",null,[X("h3",Ua,Z(d.value),1),X("p",null,Z(p.value),1)]),Ga])),_:1})),o.value?(U(),G(h,{key:1,class:"mb-4"})):J("",!0),null!=R(l).membership_members?(U(),G(b,{key:2,class:"mb-4"},{default:K((()=>[X("div",Ja,[X("div",null,[X("p",null,[X("b",null,"Member #"+Z(R(l).id),1)]),X("p",null,[X("small",null,[Qa,ne(" "+Z(R(re)(R(l).created_at).format("ddd - DD MMM YYYY")),1)])]),X("p",null,[Ka,ne(" "+Z(R(n).membership.name),1)]),R(l).subscription&&R(l).membership_members.is_recurrence?(U(),G("p",Xa,[Za,ne(" "+Z(R(re)(R(l).subscription.proxima_factura).format("ddd - DD MMM YYYY")),1)])):J("",!0)]),R(l).subscription?(U(),G("div",el,[X(y,{color:"info",label:R(l).subscription.status,rounded:""},null,8,["label"])])):J("",!0)])])),_:1})):J("",!0),ae(X(_,{category:R(i).query.category},null,8,["category"]),[[le,"personalInformation"==c.value]]),ae(X(g,null,null,512),[[le,"memberMembership"==c.value]]),ae(X(k,null,null,512),[[le,"memberFamily"==c.value]]),ae(X(j,null,null,512),[[le,"memberEmergency"==c.value]]),ae(X(x,null,null,512),[[le,"memberCheckins"==c.value]]),ae(X(M,null,null,512),[[le,"memberPurchases"==c.value]]),ae(X(C,null,null,512),[[le,"memberWaiver"==c.value]])])])):J("",!0)])),_:1})}}});export default tl;
