import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.ef82cbbe.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.e24b863c.js";import{_ as l}from"./V-Control.fd746f55.js";import{_ as s}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.1bcde3bd.js";import{_ as a}from"./V-Button.vue_vue&type=script&setup=true&lang.d3c931ae.js";import{r as n,b as u,d as o,A as c,o as i,h as r,k as d,D as p,J as m,j as f,a4 as v,B as b,G as h,I as y,L as g,N as _,F as x,R as j,X as k,K as C,z as w,a8 as V}from"./vendor.eb57aacd.js";import{A as S,a as P}from"./index.86279b2e.js";import{m as $}from"./Mixin.cdfef6ee.js";import{_ as T}from"./V-Tag.vue_vue&type=script&setup=true&lang.091565db.js";import{_ as z}from"./V-Field.vue_vue&type=script&setup=true&lang.4ddc63d2.js";import{_ as A}from"./V-Modal.vue_vue&type=script&setup=true&lang.afde1f4e.js";import{_ as B}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.f68710aa.js";import{_ as D,a as L}from"./search-4-dark.12f0bf0d.js";import{p as R}from"./sidebarLayoutState.854f6bf1.js";import{g as U,i as E}from"./Inventory.e41de3ef.js";import{g as I,a as M,p as O,d as F}from"./Products.4b734fc6.js";import"./V-Placeload.c6d3ce72.js";import"./moment.08a7f518.js";import"./notyf.es.f84e4201.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.1284fa7a.js";import"./useDropdown.95668737.js";import"./V-Dropdown.a6217aee.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.407b0470.js";import"./activePanelState.dd6309d6.js";import"./fastpizza.c9124eb0.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.72074133.js";import"./V-Message.vue_vue&type=script&setup=true&lang.607b67b4.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.6b692137.js";import"./navbarLayoutState.aa42df06.js";import"./video.3ff6aecb.js";import"./darkModeState.62a6b645.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.24b43449.js";import"./AnimatedLogo.bf038341.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.f60ee0a8.js";import"./V-Block.vue_vue&type=script&setup=true&lang.c6aac4f1.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.bd95a3d2.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.41901023.js";const G=n([]),J=n(!1),K=e=>{-1==G.value.findIndex((t=>t.product_id==e.id))?G.value.push({product_id:e.id,count:1,products_amount:e.price,name:e.name}):G.value.find((t=>t.product_id==e.id)).count++},N=u((()=>{let e=0;return G.value.forEach((t=>{e+=t.products_amount*t.count})),e})),W=u((()=>N.value/100*7)),X=u((()=>N.value+W.value)),q=(e,t,l)=>{"minus"==e?(t.count>0&&t.count--,0==t.count&&G.value.splice(l,1)):t.count++},H=n(0),Q=u((()=>{const e=H.value-X.value;return e>0?e:0})),Y=e=>{console.log(e),H.value+=e},Z=n(null),ee=n({email:null,phone:null,barcode:null}),te=()=>{const e={total:X.value,tax_id:1,payment_type_id:Z.value,email:ee.value.email,phone:ee.value.phone,change_back:Q.value,products:G.value};ae(e).then((e=>{console.log(e.data),Z.value=null,ee.value.email=null,ee.value.phone=null,ee.value.barcode=null,H.value=0,G.value=[],se.value=1,le.value=!1}))},le=n(!1),se=n(1),ae=async e=>await S.post("orders",e),ne={class:"card-grid-item-content"},ue={class:"dark-inverted text-center"},oe={class:"title is-6"},ce={class:"title is-3"},ie={key:0,class:"is-7 title"},re={key:1,class:"is-7 title"},de={class:"card-grid-item-footer"},pe=h(" ADD ");var me=o({expose:[],props:{product:{type:Object,default:{}}},setup:e=>(b(),c((()=>{})),(t,l)=>{const s=a;return i(),r("a",{href:"#",onClick:l[2]||(l[2]=v((t=>p(K)(e.product)),["prevent"])),class:"card-grid-item"},[d("img",{src:`${p(P)}storage/${e.product.photo}`,alt:"",onErrorOnce:l[1]||(l[1]=e=>e.target.src="https://via.placeholder.com/400x300")},null,40,["src"]),d("div",ne,[d("h3",ue,[d("h2",oe,m(e.product.name),1),d("h2",ce,m(p($)(e.product.price)),1),e.product.stock?(i(),r("p",ie," Stock: "+m(e.product.stock.current_stock),1)):(i(),r("p",re,"Stock: 0"))])]),d("div",de,[d(s,{color:"white",class:"w-100 justify-content-center"},{default:f((()=>[pe])),_:1})])])})});const fe={class:"table is-striped is-fullwidth"},ve=d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Description"),d("th",{scope:"col"},"Cuantity"),d("th",{scope:"col"},"Value")])],-1),be={class:"d-flex"},he={class:""},ye=d("hr",null,null,-1),ge={class:"table is-striped is-fullwidth"},_e=d("td",null,"SubTotal",-1),xe={class:"text-right"},je=d("td",null,"Tax",-1),ke={class:"text-right"},Ce=d("td",null,[d("b",null,"Total")],-1),we={class:"text-right"},Ve=h(" Checkout ");var Se=o({expose:[],props:{},emits:["proccessCheckout"],setup:(t,{emit:l})=>(b(),c((()=>{})),(t,l)=>{const s=T,n=a,u=e;return i(),r(u,{class:"d-flex flex-column justify-content-between",style:{"min-height":"500px"}},{default:f((()=>[d("div",null,[y(t.$slots,"default"),d("table",fe,[ve,d("tbody",null,[(i(!0),r(g,null,_(p(G),((e,t)=>(i(),r("tr",{key:`cart-${t}`},[d("td",null,m(e.name),1),d("td",null,[d("div",be,[d(s,{color:"white",onClick:l=>p(q)("minus",e,t),label:"-"},null,8,["onClick"]),d(s,{color:"white",label:e.count},null,8,["label"]),d(s,{color:"white",onClick:l=>p(q)("plus",e,t),label:"+"},null,8,["onClick"])])]),d("td",null,m(p($)(e.products_amount*e.count)),1)])))),128))])])]),d("div",he,[ye,d("table",ge,[d("tbody",null,[d("tr",null,[_e,d("td",xe,m(p($)(p(N))),1)]),d("tr",null,[je,d("td",ke,m(p($)(p(W))),1)]),d("tr",null,[Ce,d("td",we,m(p($)(p(X))),1)])])]),d(n,{color:"success",disabled:0==p(G).length,onClick:l[1]||(l[1]=e=>t.$emit("proccessCheckout")),class:"w-100 justify-content-center"},{default:f((()=>[Ve])),_:1},8,["disabled"])])])),_:3})})});const Pe={class:"table is-striped is-fullwidth"},$e=d("td",null,[d("p",{class:"title is-4"},[d("b",null,"Total")])],-1),Te={class:"text-right"},ze={class:"title is-4"},Ae=h(" Card "),Be=h(" Cash "),De={class:"d-flex mb-4 justify-content-between"},Le={class:"title is-5"},Re=h(" Total: "),Ue={class:"title is-5"},Ee=h(" Cash Total: "),Ie={class:"\n            d-flex\n            justify-content-center\n            align-items-center\n            flex-column\n            mb-4\n          "},Me=d("p",{class:"title is-5 mb-4"},"Change Back:",-1),Oe={class:"title is-3 mb-0"},Fe={class:"d-flex justify-content-center flex-wrap mb-4"},Ge=d("div",{class:"w-100"},null,-1),Je={class:"d-flex justify-content-center"},Ke=h("Reset"),Ne=h("Confirm");var We=o({expose:[],props:{},emits:["proccessCheckout"],setup:(t,{emit:s})=>(b(),c((()=>{})),(t,s)=>{const n=l,u=z,o=a,c=A,v=e;return i(),r(v,{class:"d-flex flex-column justify-content-between",style:{"min-height":"500px"}},{default:f((()=>[d("div",null,[y(t.$slots,"default"),d("table",Pe,[d("tbody",null,[d("tr",null,[$e,d("td",Te,[d("p",ze,m(p($)(p(X))),1)])])])]),d(u,null,{default:f((()=>[d(n,null,{default:f((()=>[x(d("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>p(ee).email=e),class:"input",placeholder:"Email"},null,512),[[j,p(ee).email]])])),_:1})])),_:1}),d(u,null,{default:f((()=>[d(n,null,{default:f((()=>[x(d("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>p(ee).phone=e),class:"input",placeholder:"Phone"},null,512),[[j,p(ee).phone]])])),_:1})])),_:1}),d(u,null,{default:f((()=>[d(n,null,{default:f((()=>[x(d("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=e=>p(ee).barcode=e),class:"input",placeholder:"Barcode"},null,512),[[j,p(ee).barcode]])])),_:1})])),_:1})]),d("div",null,[d(o,{color:"success",disabled:0==p(G).length,onClick:s[4]||(s[4]=e=>{le.value=!0,Z.value=2}),class:"w-100 justify-content-center mb-4"},{default:f((()=>[Ae])),_:1},8,["disabled"]),d(o,{color:"warning",disabled:0==p(G).length,onClick:s[5]||(s[5]=e=>{le.value=!0,Z.value=1}),class:"w-100 justify-content-center mb-4"},{default:f((()=>[Be])),_:1},8,["disabled"])]),d(c,{open:p(le),actions:"center",onClose:s[9]||(s[9]=e=>le.value=!1)},{content:f((()=>[d("div",De,[d("p",Le,[Re,d("b",null,m(p($)(p(X))),1)]),d("p",Ue,[Ee,d("b",null,m(p($)(p(H))),1)])]),d("div",Ie,[Me,d("p",Oe,[d("b",null,m(p($)(p(Q))),1)])]),d("div",Fe,[d(o,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:s[6]||(s[6]=e=>H.value=p(X))},{default:f((()=>[h(" Full Payment "+m(p($)(p(X))),1)])),_:1}),Ge,(i(),r(g,null,_([5,10,20,50,100],((e,t)=>d(o,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>p(Y)(e)},{default:f((()=>[h(" $"+m(e),1)])),_:2},1032,["onClick"]))),64))]),d("div",Je,[d(u,null,{default:f((()=>[d(n,null,{default:f((()=>[x(d("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>k(H)?H.value=e:null),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[j,p(H)]])])),_:1})])),_:1})])])),action:f((()=>[d(o,{color:"",onClick:s[8]||(s[8]=e=>H.value=0),class:"d-flex justify-content-center",raised:""},{default:f((()=>[Ke])),_:1}),d(o,{color:"success",onClick:p(te),disabled:p(X)>p(H),class:"d-flex justify-content-center",raised:""},{default:f((()=>[Ne])),_:1},8,["onClick","disabled"])])),_:1},8,["open"])])),_:3})})});const Xe={style:{"min-height":"400px"}},qe={class:"d-flex justify-content-between mb-4"},He=d("h3",{class:"title is-5 mb-2"},"Order",-1),Qe={class:"d-flex justify-content-between mb-4"},Ye=d("h3",{class:"title is-5 mb-2"},"Order",-1);var Ze=o({expose:[],props:{},setup(t){b(),c((()=>{}));const l=n([{step:1,name:"Shopping",icon:"fa-shopping-cart"},{step:2,name:"Receipt",icon:"fa-money-check"},{step:3,name:"Receipt",icon:"fa-receipt"}]);return(t,s)=>{const a=e,n=T,u=Se,o=We;return i(),r("div",Xe,[d(a,{class:"mb-4 d-flex justify-content-around"},{default:f((()=>[(i(!0),r(g,null,_(l.value,((e,t)=>(i(),r("p",{key:`sterpmenu-${t}`,style:{"font-size":"20px"},title:e.name,class:e.step==p(se)?"text-primary":"",onClick:t=>se.value=e.step},[d("i",{class:["fas",e.icon],"aria-hidden":"true"},null,2)],10,["title","onClick"])))),128))])),_:1}),1==p(se)?(i(),r(u,{key:0,onProccessCheckout:s[1]||(s[1]=e=>se.value=2)},{default:f((()=>[d("div",qe,[He,p(G)?(i(),r(n,{key:0,color:"info",label:`${p(G).length} products`,rounded:"",elevated:""},null,8,["label"])):C("",!0)])])),_:1})):C("",!0),2==p(se)?(i(),r(o,{key:1},{default:f((()=>[d("div",Qe,[Ye,p(G)?(i(),r(n,{key:0,color:"info",label:`${p(G).length} products`,rounded:"",elevated:""},null,8,["label"])):C("",!0)])])),_:1})):C("",!0)])}}});const et={key:0,class:"page-content-inner columns is-multiline"},tt={class:"column is-8"},lt={class:"card-grid-toolbar"},st={key:0,class:"columns is-multiline w-100"},at=d("p",null,"View All",-1),nt={class:"card-grid card-grid-v4"},ut=d("img",{class:"light-image",src:D,alt:""},null,-1),ot=d("img",{class:"dark-image",src:L,alt:""},null,-1),ct={class:"column is-4 card_counte"},it={key:1},rt=d("h3",{class:"title is-5 mb-2"},"Sorry",-1),dt=d("p",null,"Sale not available: an inventory is open",-1);var pt=o({expose:[],setup(a){R.value="Store",w({title:"Store"}),b(),c((()=>{U().then((e=>{E.value.length>0&&(1==E.value[0].status?J.value=!0:J.value=!1)})),I().then((e=>{console.log(e.data)})),M().then((e=>{console.log(e.data)}))}));const o=n("");n(null);const v=u((()=>o.value?O.value.filter((e=>e.name.match(new RegExp(o.value,"i"))||e.category.name.match(new RegExp(o.value,"i"))||e.product_categories_id==o.value||e.vard_code==o.value)):O.value));return n(0),(a,n)=>{const u=e,c=t,b=l,h=s,y=me,k=Ze,w=B;return i(),r(w,null,{default:f((()=>[p(J)?(i(),r("div",it,[d(u,{radius:"large",color:"danger"},{default:f((()=>[rt,dt])),_:1})])):(i(),r("div",et,[d("div",tt,[d("div",lt,[p(F)?(i(),r("div",st,[d(u,{onClick:n[1]||(n[1]=e=>o.value=""),class:"\n                column\n                is-2\n                d-flex\n                flex-column\n                align-items-center\n                justify-content-center\n                text-center\n                cursor-pointer\n              "},{default:f((()=>[at])),_:1}),(i(!0),r(g,null,_(p(F),((e,t)=>(i(),r(u,{onClick:t=>o.value=e.id,key:`categorie-${t}`,class:"\n                column\n                is-2\n                d-flex\n                flex-column\n                align-items-center\n                justify-content-center\n                text-center\n                cursor-pointer\n              "},{default:f((()=>[d(c,{size:"medium",picture:`${p(P)}storage/${e.image}`},null,8,["picture"]),d("p",null,m(e.name),1)])),_:2},1032,["onClick"])))),128))])):C("",!0),d(b,{icon:"feather:search"},{default:f((()=>[x(d("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>o.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[j,o.value]])])),_:1})]),d("div",nt,[d(h,{class:[0!==p(v).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n              search terms you've entered. Please try different search terms or\n              criteria.",larger:""},{image:f((()=>[ut,ot])),_:1},8,["class"]),d(V,{name:"list",tag:"div",class:"columns is-multiline"},{default:f((()=>[(i(!0),r(g,null,_(p(v),(e=>(i(),r("div",{key:e.id,class:"column is-3"},[d(y,{product:e},null,8,["product"])])))),128))])),_:1})])]),d("div",ct,[d(k)])]))])),_:1})}}});export default pt;
