import{b as e,l as t,p as s,_ as a}from"./V-BillboardJS.vue_vue&type=style&index=0&lang.e1ae18bf.js";import{_ as n}from"./V-Card.vue_vue&type=script&setup=true&lang.d3d76712.js";import{_ as l}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.0f2f174e.js";import{A as i,r as o,d as p,P as u,O as r,w as c,o as d,c as m,i as v,j as f,k as g,I as y,l as b,F as h,S as _,U as j,H as x}from"./vendor.b96c0b62.js";import{p as S}from"./sidebarLayoutState.a7097173.js";import{A as O}from"./index.bff4cc89.js";import{q as A}from"./Subscriptions.ceae96c5.js";import{t as V}from"./themeColors.4f0e93f3.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.f66e3794.js";import"./useDropdown.51b21268.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.78d7227b.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.082bb801.js";import"./V-Button.vue_vue&type=script&setup=true&lang.940c9f5e.js";import"./V-Placeload.43c61814.js";import"./V-Control.9f6b030b.js";import"./V-Field.vue_vue&type=script&setup=true&lang.9839f63b.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.55f1942d.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.793fc7c9.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.7d0df25a.js";import"./V-Dropdown.5a213405.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.0b7fcd84.js";import"./Companies.f56345b4.js";import"./activePanelState.a3a15c4d.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.cf9fc2aa.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.42120ae5.js";import"./video.19485659.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.3bd9126b.js";import"./darkModeState.1cad08fb.js";import"./AnimatedLogo.3baf4ecb.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.31d8f19f.js";import"./V-Block.vue_vue&type=script&setup=true&lang.96a9aa0d.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.0dc1dec1.js";import"./userPopovers.f4b9fc60.js";import"./Discounts.69f6e8d1.js";const C=i({data1:[],data2:[],x:[]}),k=i({data:{type:e(),types:{data1:t(),data2:e()},x:"x",columns:[],names:{data1:"Subscription",data2:"Amount"},colors:{data1:V.accent,data2:V.primary,data3:V.orange,data4:V.purple}},bar:{width:{ratio:.5}},axis:{x:{type:"category",tick:{rotate:90,multiline:!1,tooltip:!0},height:100}},size:{height:500},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}});var P=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dataNew:C,options:k,onReady:e=>{e.load({columns:[C.x,C.data1,C.data2]})}});const N=e=>{const t=[];for(const s in e){let a=s;""==a&&(a="n/a"),t.push([a,e[s]])}return t},E=e=>{let t=[];const s=["x"],a=["age"];for(const n in e){let t=n;""==t&&(t=0),s.push(t),a.push(e[n].count)}return t=[s,a],t},D=e=>{const t=[];for(const s in e){const a=e[s].min,n=e[s].max,l=e[s].count_members,i=a+"-"+n;t.push([i,l])}return t};o([["Male",30],["Female",28]]);const R={data:{columns:[],colors:{data1:V.accent,data2:V.primary,data3:V.orange,data4:V.purple,setosa:V.orange,versicolor:V.purple,virginica:V.success},type:s(),onclick:(e,t)=>{console.log("[pieSimple] onclick",e,t)},onover:(e,t)=>{console.log("[pieSimple] onover",e,t)},onout:(e,t)=>{console.log("[pieSimple] onout",e,t)}},size:{height:280},padding:{bottom:20},title:{text:"Pie Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},w={data:{x:"x",type:e(),columns:[],colors:{data1:V.accent,data2:V.primary,data3:V.orange,data4:V.purple}},bar:{width:{ratio:.5}},size:{height:280},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},I={class:"page-content-inner"},J={class:"mb-5 columns is-multiline"},G={class:"column columns is-multiline is-12 mb-4"},B={class:"column is-12 d-flex justify-content-between"},X={class:"title is-5"},F={class:"title is-5"},L={class:"column is-4"},z={class:"column is-4"},M={class:"column is-4"},T={key:0,class:"column is-12"},q=b("p",{class:"title is-6 text-center"},"Diciplines",-1),$={class:"columns is-multiline"},H={class:"column is-12 d-flex justify-content-between"},U={class:"title is-6"},Y={class:"title is-6"},W={class:"column is-6"},K={class:"column is-6"};var Q=p({expose:[],setup(e){S.value="Suscriptions",u({title:"List Suscriptions"});const t=r(),s=o(""),i=o("all");o([]);const p=o(!0);o("all"),c((()=>t.query.page),(()=>{V("all",s.value,t.query.page,k.value,!1,Z.value)})),c((()=>s.value),(()=>{}));const V=async(e,t="",s=1,a=null,n=!0,l=null,o=null)=>{i.value=e,p.value=!0,await O.get("v2/suscripcion/reports",{params:{[i.value]:!0,filter:t,page:s,category:a,estado:l,fecha_pago:o}}).then((e=>{A.value=e.data.suscripcionesXpayment,ee.value=e.data.suscripcionesXmembresias;let t=["data1"].concat(A.value.cantidad),s=["data2"].concat(A.value.montos),a=["x"].concat(A.value.fechas);C.data1=t,C.data2=s,C.x=a,n&&Q()})).catch((e=>{p.value=!1,console.log(e)}))},k=o("All");d((()=>{V("all",s.value,t.query.page,"All",Z.value)}));const Q=()=>{p.value=!0,setTimeout((()=>{p.value=!1}),500)},Z=o(null);o("All"),o([{value:"All",name:"All"},{value:"COBRAR HOY",name:"COBRAR HOY"},{value:"PENDIENTE",name:"PENDIENTE"},{value:"VENCIDO",name:"VENCIDO"},{value:"PAGADO",name:"PAGADO"},{value:"CANCELADO",name:"CANCELADO"},{value:"EXPIRADO",name:"EXPIRADO"},{value:"PROX. EXPIRADO",name:"PROX. EXPIRADO"}]);const ee=o(null),te=m((()=>{for(var e in ee.value){const t=ee.value[e],s=JSON.parse(JSON.stringify(R));s.title.text="Gender",s.data.columns=N(t.members),ee.value[e].optionsGender=s;const a=JSON.parse(JSON.stringify(w));a.title.text="Ages",a.data.columns=E(t.edades),ee.value[e].optionsEdades=a;const n=JSON.parse(JSON.stringify(R));if(n.title.text="Ages Ranges",n.data.columns=D(t.edades_rango),ee.value[e].optionsRangos=n,Object.keys(t.diciplines).length)for(const l in ee.value[e].diciplines){let t=JSON.parse(JSON.stringify(R));t.title.text="Gender",t.data.columns=N(ee.value[e].diciplines[l].members),ee.value[e].diciplines[l].optionsGenders=t;let s=JSON.parse(JSON.stringify(w));s.title.text="Age",s.data.columns=E(ee.value[e].diciplines[l].edades),ee.value[e].diciplines[l].optionsEdades=s}}return ee.value}));return m((()=>{let e=[];const t=ee.value;for(const s in t)e.push({label:t[s].membership_name,value:t[s].membership_name});return e})),o(null),(e,t)=>{const s=a,i=n,o=l;return v(),f(o,null,{default:g((()=>[y(" Content Wrapper "),b("div",I,[b("div",J,[y(' <div class="is-2 column">\n          <V-Field class="w-100">\n            <V-Control class="input-select">\n              <label for="fecha_pago">\n                <p><small>Status</small></p>\n              </label>\n              <div class="select">\n                <select v-model="statusSelect" @change="changeStado">\n                  <option\n                    v-for="(item, key) in estados"\n                    :key="`estados-${key}`"\n                    :value="item.value"\n                  >\n                    {{ item.name }}\n                  </option>\n                </select>\n              </div>\n            </V-Control>\n          </V-Field>\n        </div> '),y(' <V-Field class="is-6 column">\n          <label for="fecha_pago">\n            <p><small>Por definir</small></p>\n          </label>\n          <V-Control icon="feather:search">\n            <input\n              v-model="filters"\n              class="input custom-text-filter"\n              placeholder="Search..."\n              @keyup.enter="filtersSearch"\n            />\n          </V-Control>\n        </V-Field> '),y(' <div class="is-2 column">\n          \n        </div> '),y(' <div class="column is-4">\n          <label for="fecha_pago">\n            <p><small>Payment Date</small></p>\n          </label>\n          <input\n            type="date"\n            @change="changeStado"\n            id="fecha_pago"\n            class="input custom-text-filter"\n            v-model="fecha_pago"\n          />\n        </div> '),h(P).dataNew.data1.length?(v(),f(i,{key:0,class:"column is-12 mb-4"},{default:g((()=>[b(s,{options:h(P).options,onReady:h(P).onReady},null,8,["options","onReady"])])),_:1})):y("v-if",!0),y(' <div class="column columns is-12 mb-4" style="overflow: scroll">\n          <div\n            class="column is-4 mb-4"\n            v-for="(item, key) in membresiasGraficas"\n            :key="`ii-${key}`"\n          >\n            <VCard\n              @click="selectMembresia = item.membership_name"\n              :color="\n                item.membership_name == selectMembresia ? \'info\' : undefined\n              "\n            >\n              <p class="title is-5">{{ item.membership_name }}</p>\n            </VCard>\n          </div>\n        </div> '),(v(!0),f(_,null,j(h(te),((e,t)=>(v(),f(i,{class:"column columns is-multiline is-12 mb-6",key:`ii-${t}`},{default:g((()=>[b("div",G,[b("div",B,[b("p",X,x(e.membership_name),1),b("p",F,x(e.conteo_suscripciones),1)]),b("div",L,[b(i,null,{default:g((()=>[b(s,{options:e.optionsGender},null,8,["options"])])),_:2},1024)]),b("div",z,[b(i,null,{default:g((()=>[b(s,{options:e.optionsEdades},null,8,["options"])])),_:2},1024)]),b("div",M,[b(i,null,{default:g((()=>[b(s,{options:e.optionsRangos},null,8,["options"])])),_:2},1024)]),Object.keys(e.diciplines).length?(v(),f("div",T,[q,b(i,null,{default:g((()=>[b("div",$,[(v(!0),f(_,null,j(e.diciplines,((e,t)=>(v(),f("div",{class:"column is-4",key:`iy-${t}`},[b(i,{class:"columns is-multiline mb-4"},{default:g((()=>[b("div",H,[b("p",U,x(e.dicipline_name),1),b("p",Y,x(e.numero_miembros),1)]),b("div",W,[b(s,{options:e.optionsGenders},null,8,["options"])]),b("div",K,[b(s,{options:e.optionsEdades},null,8,["options"])])])),_:2},1024)])))),128))])])),_:2},1024)])):y("v-if",!0)])])),_:2},1024)))),128))])])])),_:1})}}});export default Q;
