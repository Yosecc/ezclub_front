import{_ as e}from"./V-Control.b8a16a92.js";import{_ as a}from"./V-Field.vue_vue&type=script&setup=true&lang.5a5e683f.js";import{_ as s}from"./V-Placeload.8fe4e440.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.115c9f56.js";import{_ as l}from"./V-Loader.vue_vue&type=script&setup=true&lang.a67ef8b7.js";import{_ as u}from"./V-Dropdown.7cdac118.js";import{d as r,ad as o,r as i,o as n,w as p,i as c,j as m,k as v,l as d,a2 as f,F as b,P as g,O as y,I as _,W as j,Z as h,S as V,U as x,H as A,_ as k,a0 as S,G as P}from"./vendor.84e48f7c.js";import{$ as C,a0 as M,a1 as w}from"./Members.d4dea0ab.js";import{n as L,A as q}from"./index.8a348250.js";import{_ as D}from"./MembersListV2.vue_vue&type=style&index=0&lang.ec9bda4c.js";import{_ as $}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.0baad8e9.js";import{p as B}from"./sidebarLayoutState.bceb862d.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.1503437d.js";import"./useDropdown.3858e0aa.js";import"./Diciplines.472d0ab4.js";import"./Discounts.a88e7bd5.js";import"./Memberships.d99b77ef.js";import"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.3f0a1890.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.b74dc949.js";import"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.7c52ce45.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.43768b74.js";import"./V-FlexPagination.vue_vue&type=script&setup=true&lang.8a37085a.js";import"./search-4-dark.12f0bf0d.js";import"./Subscriptions.43f386c3.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.5739c56d.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.9a5f1b2d.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.8a41fb82.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.f91cc122.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.3090aa96.js";import"./V-Card.vue_vue&type=script&setup=true&lang.b57414a9.js";import"./Companies.08f8191d.js";import"./activePanelState.de92bd5f.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.1c78e14a.js";import"./video.f5cea5d5.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.f7104d79.js";import"./darkModeState.0452d175.js";import"./AnimatedLogo.2dcbd823.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.051c3ce8.js";import"./V-Block.vue_vue&type=script&setup=true&lang.d16ae397.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.e7d23443.js";import"./userPopovers.f4b9fc60.js";const F=d("div",{class:"icon"},[d("i",{class:"lnir lnir-round-box-check","aria-hidden":"true"})],-1),T=d("div",{class:"meta"},[d("span",null,"Process Subscriptions"),d("span",null,"Subscriptions automatic")],-1);var z=r({expose:[],props:{},setup(e){o();const a=i(!1),s=i(!1);n((()=>{})),p((()=>s.value),(e=>{e&&new Pusher("2cd5b586808b2f41f8e6",{cluster:"us2"}).subscribe("process_subscription_channel").bind("process_subscription_event",(function(e){let a=`${e.message.member.id}: ${e.message.member.name} ${e.message.member.last_name} <br> ${e.message.message}`;e.message.status?(C.value.find((a=>a.id==e.message.member.id)).isSolvente=!0,L.success(a)):L.error(a)}))}));const t=()=>{M.value.length&&(s.value=!0,a.value=!0,w().then((e=>{L.success("Finalizado"),M.value=[],a.value=!1})).catch((e=>{a.value=!1,L.error(e.response.data)})))};return(e,s)=>{const r=l,o=u;return c(),m(o,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:v((()=>[d(r,{size:"small",active:a.value},{default:v((()=>[d("a",{onClick:f(t,["prevent"]),role:"menuitem",class:"dropdown-item is-media",disabled:0==b(M).length},[F,T],8,["onClick","disabled"])])),_:1},8,["active"])])),_:1})}}});const U={class:"page-content-inner"},I={class:"mb-5 columns is-multiline"},N={class:"is-2 column"},O={class:"select"},W={key:0,class:"columns is-multiline"},K={key:1},E={class:"d-flex justify-content-center mb-5"},G=P(" All "),H=P(" Adult "),Z=P(" Minor "),J=P(" Temporary Members "),Q={class:"w-100 d-flex justify-content-end mb-4"};var R=r({expose:[],setup(l){B.value="Members",g({title:"List Members"});const u=y(),r=i(""),o=i("all"),f=i([]),P=i(!0);i("all"),p((()=>u.query.page),(()=>{M("all",r.value,u.query.page,w.value,!1)})),p((()=>r.value),(()=>{}));const M=async(e,a="",s=1,t=null,l=!0,u=null)=>{o.value=e,P.value=!0,await q.get("members",{params:{[o.value]:!0,filter:a,page:s,category:t,estado:u}}).then((e=>{C.value=e.data.members,f.value=e.data.pagination,P.value=!1,l&&F()})).catch((e=>{P.value=!1,console.log(e)}))},w=i("All");n((()=>{M("all",r.value,u.query.page,"All")}));const L=()=>{M("all",r.value,1,w.value,!1)},F=()=>{P.value=!0,setTimeout((()=>{P.value=!1}),500)},T=i("All"),R=i([{value:"All",name:"All"},{value:"active",name:"Active"},{value:"due",name:"Due"},{value:"expired",name:"Expired"},{value:"sincard",name:"No card"},{value:"sin_factura",name:"No invoice"},{value:"nomembershipcontarjeta",name:"Without membership, with card"},{value:"cancel",name:"Cancel"},{value:"nomembership",name:"No membership"},{value:"schedules",name:"Schedules"}]),X=()=>{M("all",r.value,1,w.value,!1,T.value)};return(l,o)=>{const i=e,n=a,p=s,g=t,y=z,q=D,B=$;return c(),m(B,null,{default:v((()=>[_(" Content Wrapper "),d("div",U,[d("div",I,[d("div",N,[d(n,{class:"w-100"},{default:v((()=>[d(i,{class:"input-select"},{default:v((()=>[d("div",O,[j(d("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>T.value=e),onChange:X},[(c(!0),m(V,null,x(R.value,((e,a)=>(c(),m("option",{key:`estados-${a}`,value:e.value},A(e.name),9,["value"])))),128))],544),[[h,T.value]])])])),_:1})])),_:1})]),d(n,{class:"is-8 column"},{default:v((()=>[d(i,{icon:"feather:search"},{default:v((()=>[j(d("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>r.value=e),class:"input custom-text-filter",placeholder:"Search...",onKeyup:S(L,["enter"])},null,40,["onKeyup"]),[[k,r.value]])])),_:1})])),_:1}),_(' <div class="is-2 column">\n          <V-Button\n            :to="{ name: \'members-create\' }"\n            color="primary"\n            icon="fas fa-plus"\n            elevated\n            class="w-100"\n          >\n            Add Members\n          </V-Button>\n        </div> ')]),P.value?(c(),m("div",W,[(c(),m(V,null,x(12,(e=>d("div",{class:"mb-2 column is-4",key:e},[d(p,{height:"120px"})]))),64))])):(c(),m("div",K,[d("div",E,[d(n,{addons:""},{default:v((()=>[d(i,null,{default:v((()=>[d(g,{color:"All"==w.value?"primary":void 0,onClick:o[3]||(o[3]=e=>(M("all"),w.value="All")),rounded:""},{default:v((()=>[G])),_:1},8,["color"])])),_:1}),d(i,null,{default:v((()=>[d(g,{color:"Adult"==w.value?"primary":void 0,onClick:o[4]||(o[4]=e=>(M("all",r.value.value,b(u).query.page,"Adult",!1),w.value="Adult")),rounded:""},{default:v((()=>[H])),_:1},8,["color"])])),_:1}),d(i,null,{default:v((()=>[d(g,{color:"Minor"==w.value?"primary":void 0,onClick:o[5]||(o[5]=e=>(M("all",r.value.value,b(u).query.page,"Minor",!1),w.value="Minor")),rounded:""},{default:v((()=>[Z])),_:1},8,["color"])])),_:1}),d(i,null,{default:v((()=>[d(g,{color:"Prospect"==w.value?"primary":void 0,onClick:o[6]||(o[6]=e=>(M("all",r.value.value,b(u).query.page,"Prospect",!1),w.value="Prospect")),rounded:""},{default:v((()=>[J])),_:1},8,["color"])])),_:1})])),_:1})]),d("div",Q,[d(y)]),d(q,{members:b(C),"pagination-data":f.value,filters:r.value,onOnSearch:l.onSearch},null,8,["members","pagination-data","filters","onOnSearch"])]))])])),_:1})}}});export default R;
