import{_ as e}from"./V-Control.63a8a239.js";import{_ as t}from"./V-Field.vue_vue&type=script&setup=true&lang.b3ed284d.js";import{b as l,l as s,_ as a,p as o}from"./V-BillboardJS.vue_vue&type=style&index=0&lang.35289fbf.js";import{_ as n}from"./V-Card.vue_vue&type=script&setup=true&lang.e9e64dc2.js";import{_ as i}from"./V-Button.vue_vue&type=script&setup=true&lang.cc6d2b95.js";import{_ as u}from"./V-Loader.vue_vue&type=script&setup=true&lang.069747cb.js";import{_ as c}from"./subscriptionIndex.vue_vue&type=script&setup=true&lang.25dad2bb.js";import{_ as r}from"./V-Modal.vue_vue&type=script&setup=true&lang.ef7028a7.js";import{m as p,A as d}from"./index.68722e81.js";import{d as m,o as v,b,r as f,w as y,A as h,h as _,i as g,l as k,R as x,S as j,F as S,k as C,H as A,K as w,G as O,B as D,O as V,P as N,j as P,W as E,Z as Y,_ as M,a0 as I}from"./vendor.4454b83d.js";import{_ as R}from"./subscription-list.vue_vue&type=style&index=0&lang.7926c852.js";import{_ as $}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.24ff9d06.js";import{p as J}from"./sidebarLayoutState.66d5e66f.js";import{v as B}from"./subscription-method-stripe-checkout.vue_vue&type=script&setup=true&lang.2022616c.js";import{t as L}from"./themeColors.4f0e93f3.js";import"./V-Placeload.28979271.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.d100ee36.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.fe67fad1.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.260ce9ba.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.1df2020f.js";import"./Discounts.a6167618.js";import"./Staffs.4c01d517.js";import"./Companies.362f7d4e.js";import"./Diciplines.98cd297b.js";import"./V-SwitchBlock.vue_vue&type=script&setup=true&lang.32bcd9b0.js";import"./Presupuesto.vue_vue&type=script&setup=true&lang.137ae8e3.js";import"./MemberCards.9f2fafd2.js";import"./Members.1c575bf9.js";import"./Memberships.f8850bd4.js";import"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.9cf4b304.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.f1d0c6ac.js";import"./V-FlexPagination.vue_vue&type=script&setup=true&lang.2b60651d.js";import"./search-4-dark.12f0bf0d.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.cc601d86.js";import"./useDropdown.659338b4.js";import"./V-Dropdown.f5015e73.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.62703a94.js";import"./activePanelState.06305d42.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.f6cfe36b.js";import"./video.803b5c5c.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.54bec82d.js";import"./darkModeState.f2041097.js";import"./AnimatedLogo.42cb9b3a.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.0069c349.js";import"./V-Block.vue_vue&type=script&setup=true&lang.9d0ef40a.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.1cee2a1e.js";import"./userPopovers.f4b9fc60.js";const T={class:"table is-hoverable is-fullwidth"},G=k("thead",null,[k("tr",{style:{"border-bottom":"1px solid rgba(255, 255, 255, 0.2)"}},[k("th",{colspan:"6",class:"text-center",scope:"col"},[k("p",{class:"text-center title is-6"},[k("b",null,"SUBSCRIPTIONS")])])])],-1),z=k("thead",null,[k("tr",null,[k("th",{scope:"col"},"Info"),k("th",{scope:"col"},"Next payment date."),k("th",{scope:"col"},"Discount."),k("th",{scope:"col"},"Amount"),k("th",{scope:"col"},"Status"),k("th",{scope:"col"},"View Invoices")])],-1),X={class:"p-4"},U={key:0},F={key:0,class:"p-4"},q={class:"p-4"},H={key:0},K={key:1,class:"p-4"},W={class:"p-4"},Z={key:0,class:"fa fa-solid fa-eye-slash"},Q={key:1,class:"fa fa-solid fa-eye"},ee=k("i",{class:"fa fa-id-card"},null,-1),te={key:0},le={colspan:"6"},se={class:"table is-hoverable is-fullwidth"},ae=k("thead",null,[k("tr",{style:{"border-bottom":"1px solid rgba(255, 255, 255, 0.2)"}},[k("th",{colspan:"4",class:"text-center",scope:"col"},[k("p",{class:"text-center title is-6"},[k("b",null,"INVOICES")])])])],-1),oe=k("thead",null,[k("tr",null,[k("th",{scope:"col"},"ID"),k("th",{scope:"col"},"PAID"),k("th",{scope:"col"},"status"),k("th",{scope:"col"},"Amount")])],-1),ne={colspan:"4"},ie={class:"table is-hoverable is-fullwidth"},ue=k("thead",null,[k("tr",{style:{"border-bottom":"1px solid"}},[k("th",{colspan:"4",class:"text-center",scope:"col"},[k("p",{class:"text-center title is-6"},[k("b",null,"ITEMS")])])])],-1),ce=k("thead",null,[k("tr",null,[k("th",{scope:"col"},"description"),k("th",{scope:"col"},"amount")])],-1),re={colspan:"4"},pe={class:"table is-hoverable is-fullwidth"},de=k("thead",null,[k("tr",{style:{"border-bottom":"1px solid"}},[k("th",{colspan:"6",class:"text-center",scope:"col"},[k("p",{class:"text-center title is-6"},[k("b",null,"PAYMENTS")])])])],-1),me=k("thead",null,[k("tr",null,[k("th",{scope:"col"},"ID"),k("th",{scope:"col"},"date"),k("th",{scope:"col"},"description"),k("th",{scope:"col"},"status"),k("th",{scope:"col"},"last payment error"),k("th",{scope:"col"},"amount")])],-1),ve={key:0},be={key:1};var fe=m({expose:[],props:{subscriptions:{type:Array,default:[]}},setup(e){const t=e;v((()=>{}));const l=b((()=>t.subscriptions)),s=f(null),a=f(null);y((()=>t.subscriptions),(e=>{s.value=null,a.value=null}));const o=h({modal:!1,data:null,suscripcion_id:null}),u=()=>{o.modal=!1};return(e,t)=>{const d=i,m=n,v=c,b=r;return _(),g("div",null,[k("table",T,[G,z,(_(!0),g(x,null,j(S(l),((e,t)=>(_(),g("tbody",{key:`subs-${t}`},[k("tr",{id:`subs-${t}`,class:t==a.value?"bg-info":""},[k("td",X,[k("p",null,[k("small",null,A(e.data.id),1)]),k("p",null,[k("small",null,A(e.data.customer),1)]),e.data.upComing?(_(),g("p",U,A(e.data.upComing.customer_email),1)):w("",!0)]),e.data.upComing?(_(),g("td",F,A(e.data.upComing.next_payment_attempt),1)):w("",!0),k("td",q,[e.data.discount?(_(),g("p",H,[O(A(e.data.discount.coupon.name),1),k("small",null," - "+A(e.data.discount.coupon.percent_off)+" %",1)])):w("",!0)]),e.data.upComing?(_(),g("td",K,A(S(p)(e.data.upComing.total/100)),1)):w("",!0),k("td",W,A(e.data.status),1),k("td",null,[k(d,{color:t==a.value?void 0:"info",outlined:"",onClick:l=>(({data:e,key:t})=>{s.value=e,t!=a.value?(a.value=t,setTimeout((()=>{document.getElementById(`subs-${t}`).scrollIntoView({behavior:"smooth",block:"start"})}),100)):a.value=null})({data:e.data.invoicess,key:t})},{default:C((()=>[t==a.value?(_(),g("i",Z)):(_(),g("i",Q))])),_:2},1032,["color","onClick"]),k(d,{color:"success",outlined:"",onClick:t=>(e=>{console.log("viewSuscripcion",e.suscripcion_id),e.suscripcion_id&&(o.suscripcion_id=e.suscripcion_id),o.modal=!0})(e)},{default:C((()=>[ee])),_:2},1032,["onClick"])])],10,["id"]),t==a.value?(_(),g("tr",te,[k("td",le,[s.value?(_(),g(m,{key:0},{default:C((()=>[k("table",se,[ae,oe,(_(!0),g(x,null,j(s.value,((e,t)=>(_(),g("tbody",{style:{border:"1px solid rgba(255, 255, 255, 0.2)"},class:"mb-4",key:`invoide-${t}`},[k("tr",null,[k("td",null,[k("p",null,A(e.id),1)]),k("td",null,[k("p",null,A(e.paid),1)]),k("td",null,[k("p",null,A(e.status),1)]),k("td",null,[k("p",null,A(S(p)(e.total/100)),1)])]),k("tr",null,[k("td",ne,[e.lines?(_(),g(m,{key:0},{default:C((()=>[k("table",ie,[ue,ce,(_(!0),g(x,null,j(e.lines,((e,t)=>(_(),g("tbody",{key:`lines-${t}`},[k("tr",null,[k("td",null,[k("p",null,A(e.description),1)]),k("td",null,[k("p",null,A(S(p)(e.amount/100)),1)])])])))),128))])])),_:2},1024)):w("",!0)])]),k("tr",null,[k("td",re,[null!=e.payment_intent_data?(_(),g(m,{key:0},{default:C((()=>[k("table",pe,[de,me,k("tbody",null,[k("tr",null,[k("td",null,[k("p",null,A(e.payment_intent_data.id),1)]),k("td",null,[k("p",null,A(S(D)(e.payment_intent_data.created,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),k("td",null,[k("p",null,A(e.payment_intent_data.description),1)]),k("td",null,[k("p",null,A(e.payment_intent_data.status),1)]),k("td",null,[e.payment_intent_data.last_payment_error?(_(),g("p",ve,A(e.payment_intent_data.last_payment_error.message),1)):w("",!0)]),k("td",null,[k("p",null,A(S(p)(e.payment_intent_data.amount/100)),1)])])])])])),_:2},1024)):w("",!0)])])])))),128))])])),_:1})):w("",!0)])])):w("",!0)])))),128))]),k(b,{open:S(o).modal,size:"big",actions:"center",onClose:u},{content:C((()=>[S(o).modal&&S(o).suscripcion_id?(_(),g(v,{key:0,suscripcion_id:S(o).suscripcion_id},null,8,["suscripcion_id"])):(_(),g("p",be,"Not subscription"))])),action:C((()=>[])),_:1},8,["open"])])}}});h({data:{},count:null,amount:null});const ye=e=>{const t=[];for(const l in e){let e=l;""==l&&(e="n/a"),t.push(e)}return t},he=e=>{const t=[];for(const l in e)t.push(e[l].amount/100);return t},_e=e=>{const t=[];for(const l in e)t.push(e[l].count);return t},ge={data:{type:"bar",types:{data2:l(),data1:s()},x:"x",columns:[],names:{data2:"Subscriptions",data1:"Amount"},labels:{format:{data1:function(e){return d3.format("$")(e)}}}},bar:{width:{ratio:.5}},axis:{rotated:!0,x:{type:"category",tick:{rotate:75,multiline:!1,tooltip:!0},height:130}},title:{text:"Subscriptions to next payment",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{}},ke={class:"w-100"},xe={class:"columns is-multiline"},je={class:"column is-6"},Se={class:"title is-5"},Ce=k("b",null,"Subscriptions Stripe:",-1),Ae={class:"column is-6"},we={class:"title is-5"},Oe=k("b",null," Amount:",-1),De={class:"columns is-multiline column is-12"},Ve={class:"columns is-multiline"},Ne={class:"column is-6"},Pe={class:"title is-6"},Ee={class:"column is-6"},Ye={class:"title is-6"},Me=k("b",null," Amount:",-1),Ie={class:"column is-12"},Re={class:"column is-12"},$e=O("View List Subscriptions"),Je={class:"table is-hoverable is-fullwidth"},Be=k("thead",null,[k("tr",null,[k("th",{scope:"col"},"Date next Payment"),k("th",{scope:"col"},"Count."),k("th",{scope:"col"},"Amount sum."),k("th",{scope:"col"},"View lists")])],-1),Le={class:"p-4"},Te=k("i",{class:"fa fa-solid fa-eye"},null,-1),Ge=O("All Subscriptions"),ze=O("Group by membership"),Xe={class:"table is-hoverable is-fullwidth"},Ue=k("thead",null,[k("tr",null,[k("th",{scope:"col"},"Membership"),k("th",{scope:"col"},"Count."),k("th",{scope:"col"},"Amount"),k("th",{scope:"col"},"View Subscription")])],-1),Fe={class:"p-4"},qe={class:"p-4"},He={class:"p-4"},Ke=k("i",{class:"fa fa-solid fa-eye"},null,-1),We={key:0},Ze={colspan:"4"};var Qe=m({expose:[],props:{dataStripe:{type:Object,default:{data:{},count:null,amount:null}}},setup(e){const t=e;f(!1),v((()=>{})),f(""),f("all");const l=b((()=>{let e=t.dataStripe;for(let t in e.data){e.data[t].options=JSON.parse(JSON.stringify(ge));let l=["x"].concat(ye(e.data[t].data));e.data[t].options.data.columns.push(l);let s=["data1"].concat(he(e.data[t].data));e.data[t].options.data.columns.push(s);let a=["data2"].concat(_e(e.data[t].data));e.data[t].options.data.columns.push(a),e.data[t].options.data.labels.format.data2=function(e){return d3.format("$")(e)}}return console.log("datafinal",e),e})),s=h({key:null,data:null,suscripciones:null,suscripciones_ids:null});y(s.key,(e=>{s.data=null,s.suscripciones_ids=null,o.key=null}));const o=h({key:null,subscriptions:null,memberships:null}),c=f(!1);y((()=>o.key),(e=>{console.log(e),r.key=null,c.value=!0,setTimeout((()=>{c.value=!1}),1e3)}));const r=h({key:null,dat:null}),d=f("subscriptions");return(e,t)=>{const m=n,v=a,b=i,f=u,y=fe;return _(),g("div",ke,[k(m,{class:"column is-12 mb-4"},{default:C((()=>[k("div",xe,[k("div",je,[k(m,{color:"peimary"},{default:C((()=>[k("p",Se,[Ce,O(" "+A(S(l).count),1)])])),_:1})]),k("div",Ae,[k(m,{color:"primary"},{default:C((()=>[k("p",we,[Oe,O(" "+A(S(p)(S(l).amount/100)),1)])])),_:1})]),k("div",De,[(_(!0),g(x,null,j(S(l).data,((e,t)=>(_(),g("div",{class:"column is-6",key:`status-${t}`},[k(m,null,{default:C((()=>[k("div",Ve,[k("div",Ne,[k(m,{color:""},{default:C((()=>[k("p",Pe,A(e.count)+" "+A(t),1)])),_:2},1024)]),k("div",Ee,[k(m,{color:"info"},{default:C((()=>[k("p",Ye,[Me,O(" "+A(S(p)(e.amount/100)),1)])])),_:2},1024)]),k("div",Ie,[k(m,null,{default:C((()=>{return[k(v,{ref:`chart-estado-${t}`,id:`chart-estado-${t}`,options:(l=e.options,JSON.parse(JSON.stringify(l)))},null,8,["id","options"])];var l})),_:2},1024)]),k("div",Re,[k(b,{class:"w-100",color:S(s).key==t?"info":"",onClick:l=>(({estado:e,key:t})=>{if(console.log("viewListEstados",e),s.key==t)return s.key=null,s.data=null,void(s.suscripciones_ids=null);s.key=t,s.data=e})({estado:e,key:t})},{default:C((()=>[$e])),_:2},1032,["color","onClick"])])])])),_:2},1024)])))),128))])])])),_:1}),S(s).data?(_(),g(m,{key:0,class:"column is-12 mb-4"},{default:C((()=>[k("table",Je,[Be,(_(!0),g(x,null,j(S(s).data.data,((e,t)=>(_(),g("tbody",{key:`estado-${t}`,class:t==S(o).key?"bg-info":""},[k("tr",null,[k("td",Le,A(""==t?"N/A":S(D)(t,"YYYY-MM-DD").format("MM-DD-YYYY")),1),k("td",null,A(e.count),1),k("td",null,A(S(p)(e.amount/100)),1),k("td",null,[k(b,{color:"info",onClick:l=>(({data:e,key:t})=>{if(console.log("viewListSubscriptions",e),o.key==t)return o.key=null,o.subscriptions=null,void(o.memberships=null);o.key=t,o.subscriptions=e,o.memberships=e.membresias,setTimeout((()=>{document.getElementById("subscriptionsList").scrollIntoView({behavior:"smooth"})}),100)})({data:e,key:t})},{default:C((()=>[Te])),_:2},1032,["onClick"])])])],2)))),128))])])),_:1})):w("",!0),S(o).subscriptions?(_(),g(m,{key:1,id:"subscriptionsList",class:"column is-12 mb-4"},{default:C((()=>[k(m,{class:"d-flex justify-content-between mb-4"},{default:C((()=>[k(f,{size:"small",active:c.value},{default:C((()=>[k("div",null,[k("p",null," Payment next date: "+A(S(D)(S(o).key,"YYYY-MM-DD").format("MM-DD-YYYY")),1),k("p",null,"Count: "+A(S(o).subscriptions.count),1),k("p",null," Amount: "+A(S(p)(S(o).subscriptions.amount/100)),1)])])),_:1},8,["active"]),k("div",null,[k(b,{color:"subscriptions"==d.value?"info":void 0,class:"mr-4",onClick:t[1]||(t[1]=e=>d.value="subscriptions")},{default:C((()=>[Ge])),_:1},8,["color"]),k(b,{color:"membresias"==d.value?"info":void 0,onClick:t[2]||(t[2]=e=>d.value="membresias")},{default:C((()=>[ze])),_:1},8,["color"])])])),_:1}),"subscriptions"==d.value&&S(o).subscriptions?(_(),g(m,{key:0},{default:C((()=>[k(y,{subscriptions:S(o).subscriptions.data},null,8,["subscriptions"])])),_:1})):w("",!0),"membresias"==d.value&&S(o).memberships?(_(),g(m,{key:1},{default:C((()=>[k("table",Xe,[Ue,(_(!0),g(x,null,j(S(o).memberships,((e,t)=>(_(),g("tbody",{key:`member-${t}`,class:t==S(r).key?"bg-info":""},[k("tr",null,[k("td",Fe,[k("p",null,A(e.membership.name),1)]),k("td",qe,[k("p",null,A(e.count),1)]),k("td",He,A(S(p)(e.amount/100)),1),k("td",null,[k(b,{color:"info",outlined:"",onClick:l=>(({data:e,key:t})=>{if(r.key==t)return r.key=null,void(r.data=null);r.key=t,r.data=e})({data:e.data,key:t})},{default:C((()=>[Ke])),_:2},1032,["onClick"])])]),t==S(r).key?(_(),g("tr",We,[k("td",Ze,[S(r).data?(_(),g(m,{key:0},{default:C((()=>[k(y,{subscriptions:S(r).data},null,8,["subscriptions"])])),_:1})):w("",!0)])])):w("",!0)],2)))),128))])])),_:1})):w("",!0)])),_:1})):w("",!0)])}}});const et=h({data1:[],data2:[],x:[]}),tt=h({data:{type:l(),types:{data1:s(),data2:l()},x:"x",columns:[],names:{data1:"Subscription",data2:"Amount"},colors:{data1:L.accent,data2:L.primary,data3:L.orange,data4:L.purple}},bar:{width:{ratio:.5}},axis:{x:{type:"category",tick:{rotate:90,multiline:!1,tooltip:!0},height:100}},size:{height:500},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}});var lt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dataNew:et,options:tt,onReady:e=>{e.load({columns:[et.x,et.data1,et.data2]})}});const st=e=>{const t=[];for(const l in e){let s=l;""==s&&(s="n/a"),t.push([s,e[l]])}return t},at=e=>{let t=[];const l=["x"],s=["age"];for(const a in e){let t=a;""==t&&(t=0),l.push(t),s.push(e[a].count)}return t=[l,s],t},ot=e=>{const t=[];for(const l in e){const s=e[l].min,a=e[l].max,o=e[l].count_members,n=s+"-"+a;t.push([n,o])}return t};f([["Male",30],["Female",28]]);const nt={data:{columns:[],colors:{data1:L.accent,data2:L.primary,data3:L.orange,data4:L.purple,setosa:L.orange,versicolor:L.purple,virginica:L.success},type:o(),onclick:(e,t)=>{console.log("[pieSimple] onclick",e,t)},onover:(e,t)=>{console.log("[pieSimple] onover",e,t)},onout:(e,t)=>{console.log("[pieSimple] onout",e,t)}},size:{height:280},padding:{bottom:20},title:{text:"Pie Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},it={data:{x:"x",type:l(),columns:[],colors:{data1:L.accent,data2:L.primary,data3:L.orange,data4:L.purple}},bar:{width:{ratio:.5}},size:{height:280},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},ut={class:"page-content-inner"},ct={class:"mb-5 columns is-multiline"},rt={class:"is-2 column"},pt=k("label",{for:"fecha_pago"},[k("p",null,[k("small",null,"Status")])],-1),dt={class:"select"},mt=k("label",{for:"fecha_pago"},[k("p",null,[k("small",null,"Por definir")])],-1),vt=k("div",{class:"is-2 column"},null,-1),bt={class:"column is-4"},ft=k("label",{for:"fecha_pago"},[k("p",null,[k("small",null,"Payment Date")])],-1),yt={class:"column columns is-12 mb-4",style:{overflow:"scroll"}},ht={class:"title is-5"},_t={key:1,class:"column is-12 columns is-multiline"},gt={class:"w-100 d-flex",style:{"overflow-y":"scroll"}},kt=k("p",null,null,-1),xt={class:"title is-6"},jt={class:"title is-5"},St={class:"column columns is-multiline is-12 mb-4"},Ct={class:"column is-12 d-flex justify-content-between"},At={class:"title is-5"},wt={class:"column is-4"},Ot={class:"column is-4"},Dt={key:0,class:"column is-12"},Vt=k("p",{class:"title is-6 text-center"},"Diciplines",-1),Nt={class:"columns is-multiline"},Pt={class:"table is-hoverable is-fullwidth"},Et=k("thead",null,[k("tr",null,[k("th",{scope:"col"},"Dicipline"),k("th",{scope:"col"},"Members count"),k("th",{scope:"col"},"Male"),k("th",{scope:"col"},"Female")])],-1);var Yt=m({expose:[],setup(l){J.value="Suscriptions",V({title:"List Suscriptions"});const s=N(),o=f(""),i=f("all");f([]);const u=f(!0);f("all"),y((()=>s.query.page),(()=>{c("all",o.value,s.query.page,r.value,!1,L.value)})),y((()=>o.value),(()=>{c("all",o.value,1,r.value,!1)}));const c=async(e,t="",l=1,s=null,a=!0,o=null,n=null)=>{i.value=e,u.value=!0,await d.get("v2/suscripcion/reports",{params:{[i.value]:!0,filter:t,page:l,category:s,estado:o,fecha_pago:n}}).then((e=>{B.value=e.data.suscripcionesXpayment,X.value=e.data.suscripcionesXmembresias;let t=["data1"].concat(B.value.cantidad),l=["data2"].concat(B.value.montos),s=["x"].concat(B.value.fechas);et.data1=t,et.data2=l,et.x=s,a&&D()})).catch((e=>{u.value=!1,console.log(e)}))},r=f("All"),p=h({});h({});const m=h({});v((()=>{c("all",o.value,s.query.page,"All",L.value)}));const O=()=>{c("all",o.value,1,r.value,!1,L.value)},D=()=>{u.value=!0,setTimeout((()=>{u.value=!1}),500)},L=f(null),T=f("All"),G=f([{value:"All",name:"All"},{value:"COBRAR HOY",name:"COBRAR HOY"},{value:"PENDIENTE",name:"PENDIENTE"},{value:"VENCIDO",name:"VENCIDO"},{value:"PAGADO",name:"PAGADO"},{value:"CANCELADO",name:"CANCELADO"},{value:"EXPIRADO",name:"EXPIRADO"},{value:"PROX. EXPIRADO",name:"PROX. EXPIRADO"}]),z=()=>{c("all",o.value,1,r.value,!1,T.value,L.value)},X=f(null),U=b((()=>{for(var e in X.value){const t=X.value[e],l=JSON.parse(JSON.stringify(nt));l.title.text="Gender",l.data.columns=st(t.members),X.value[e].optionsGender=l;const s=JSON.parse(JSON.stringify(it));s.title.text="Ages",s.data.columns=at(t.edades),X.value[e].optionsEdades=s;const a=JSON.parse(JSON.stringify(nt));if(a.title.text="Ages Ranges",a.data.columns=ot(t.edades_rango),X.value[e].optionsRangos=a,Object.keys(t.diciplines).length)for(const o in X.value[e].diciplines){let t=JSON.parse(JSON.stringify(nt));t.title.text="Gender",t.data.columns=st(X.value[e].diciplines[o].members),X.value[e].diciplines[o].optionsGenders=t;let l=JSON.parse(JSON.stringify(it));l.title.text="Age",l.data.columns=at(X.value[e].diciplines[o].edades),X.value[e].diciplines[o].optionsEdades=l}}return X.value})),F=b((()=>p.segunMembresia));b((()=>{let e=[];const t=X.value;for(const l in t)e.push({label:t[l].membership_name,value:t[l].membership_name});return e}));const q=b((()=>{let e=0;const t=U.value;for(const l in t)e+=t[l].conteo_suscripciones;return e})),H=f(null);f(!0);const K=(e,t)=>{let l=[];return e.forEach((e=>{l.push(e.data)})),l.filter((e=>e?e.user.name.match(new RegExp(t,"i"))||e.user.email.match(new RegExp(t,"i"))||e.fecha_vencimiento.match(new RegExp(t,"i"))||e.membership.name.match(new RegExp(t,"i")):e))},W=f(null),Z=f(1);return(l,s)=>{const i=e,u=t,c=a,r=n,d=Qe,v=P("Vcard"),b=R,f=$;return _(),g(f,null,{default:C((()=>[k("div",ut,[k("div",ct,[k("div",rt,[k(u,{class:"w-100"},{default:C((()=>[k(i,{class:"input-select"},{default:C((()=>[pt,k("div",dt,[E(k("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>T.value=e),onChange:z},[(_(!0),g(x,null,j(G.value,((e,t)=>(_(),g("option",{key:`estados-${t}`,value:e.value},A(e.name),9,["value"])))),128))],544),[[Y,T.value]])])])),_:1})])),_:1})]),k(u,{class:"is-6 column"},{default:C((()=>[mt,k(i,{icon:"feather:search"},{default:C((()=>[E(k("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>o.value=e),class:"input custom-text-filter",placeholder:"Search...",onKeyup:I(O,["enter"])},null,40,["onKeyup"]),[[M,o.value]])])),_:1})])),_:1}),vt,k("div",bt,[ft,E(k("input",{type:"date",onChange:z,id:"fecha_pago",class:"input custom-text-filter","onUpdate:modelValue":s[3]||(s[3]=e=>L.value=e)},null,544),[[M,L.value]])]),S(lt).dataNew.data1.length?(_(),g(r,{key:0,class:"column is-12 mb-4"},{default:C((()=>[k(c,{options:S(lt).options,onReady:S(lt).onReady},null,8,["options","onReady"])])),_:1})):w("",!0),k("div",yt,[(_(!0),g(x,null,j(S(U),((e,t)=>(_(),g("div",{class:"column is-4 mb-4",key:`ii-${t}`},[k(r,{onClick:t=>H.value=e.membership_name,color:e.membership_name==H.value?"info":void 0},{default:C((()=>[k("p",ht,A(e.membership_name),1)])),_:2},1032,["onClick","color"])])))),128))]),2==Z.value?(_(),g("div",_t,[Object.keys(S(p)).length>0?(_(),g(d,{key:0,"data-stripe":S(p),defer:!S(p)},null,8,["data-stripe","defer"])):w("",!0),k("div",gt,[(_(!0),g(x,null,j(S(F),((e,t)=>(_(),g("div",{key:`segunmenrecvia${t}`},[k(r,{class:"h-100 btn-card",onClick:e=>{return l=t,void(W.value=F.value[l]);var l}},{default:C((()=>[k("p",null,A(e.membership.name),1)])),_:2},1032,["onClick"])])))),128))]),W.value?(_(),g(v,{key:1,class:"column is-12"},{default:C((()=>[k("p",null,A(W.value.membership.name),1),k("p",null,A(W.value.count),1),kt])),_:1})):w("",!0),(_(!0),g(x,null,j(S(m),((e,t)=>(_(),g("div",{key:`suscripcion-${t}`,class:"column is-6"},[k(r,null,{default:C((()=>[k("p",xt,A(t),1),E(k("input",{type:"text","onUpdate:modelValue":t=>e.search=t,class:"input mb-4",placeholder:"Search"},null,8,["onUpdate:modelValue"]),[[M,e.search]]),k(b,{colgrid:"is-6",suscripciones:K(e.data,e.search),"filter-local":!0},null,8,["suscripciones"])])),_:2},1024)])))),128))])):w("",!0),k(r,{class:"mb-4"},{default:C((()=>[k("p",jt,A(S(q))+" Subscriptions",1)])),_:1}),(_(!0),g(x,null,j(S(U),((e,t)=>(_(),g(r,{class:"column columns is-multiline is-12 mb-6",key:`ii-${t}`},{default:C((()=>[k("div",St,[k("div",Ct,[k("p",At,A(e.membership_name)+" ("+A(e.conteo_suscripciones)+" subscriptions) ",1)]),k("div",wt,[k(r,null,{default:C((()=>[k(c,{options:e.optionsGender},null,8,["options"])])),_:2},1024)]),k("div",Ot,[k(r,null,{default:C((()=>[k(c,{options:e.optionsRangos},null,8,["options"])])),_:2},1024)]),Object.keys(e.diciplines).length?(_(),g("div",Dt,[Vt,k(r,null,{default:C((()=>[k("div",Nt,[k("table",Pt,[Et,k("tbody",null,[(_(!0),g(x,null,j(e.diciplines,((e,t)=>(_(),g("tr",{key:`iy-${t}`},[k("td",null,A(e.dicipline_name),1),k("td",null,A(e.numero_miembros),1),k("td",null,A(e.members.Male),1),k("td",null,A(e.members.Female),1)])))),128))])])])])),_:2},1024)])):w("",!0)])])),_:2},1024)))),128))])])])),_:1})}}});export default Yt;
