import{_ as y}from"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import{_ as v}from"./formLayaut.vue_vue_type_style_index_0_lang.2638a67d.js";import{d as b,c as g,m as r,j as h,o as D,e as k,w,u as p,k as x,a8 as L,n as $,f as A,D as B,a7 as E,q as u}from"./index.4457215e.js";import{i as t,s as I,e as q}from"./Diciplines.164662a5.js";import{c}from"./Companies.4f645ec0.js";import{t as l}from"./Staffs.ad83113a.js";var j=b({expose:[],props:{type:{type:String,default:"create"},buttons:{type:Array,default:["save","back"]},step:{type:Number,default:1},isLoading:{type:Boolean,default:!1}},setup(i){const o=i,d=B(),f=E(),m=g(()=>o.type=="create"?{title:"Add a new discipline",subtitle:"Add information for a new discipline"}:{title:"Edit discipline",subtitle:"Edit information for a discipline"});r(c,()=>{u(t,"locations",c.value.locations)}),r(l,()=>{u(t,"trainers",l.value)}),h(()=>{});const _=()=>{const a=x(t.value);console.log(a),o.type=="create"?I(a).then(e=>{L(t.value),f.back()}).catch(e=>{for(var s in e.response.data.errores)e.response.data.errores[s].forEach(n=>{$.error(`${s}: ${n}`)})}):q(d.query.id,a).then(e=>{})};return(a,e)=>{const s=y,n=v;return D(),k(n,{buttons:o.buttons,titles:p(m),"is-loading":i.isLoading,onSaveData:_},{default:w(()=>[A(s,{"inputs-step":p(t)},null,8,["inputs-step"])]),_:1},8,["buttons","titles","is-loading"])}}});export{j as _};
