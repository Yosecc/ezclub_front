import{_ as R}from"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import{_ as b}from"./V-Button.vue_vue_type_script_setup_true_lang.72d178c7.js";import{a as C,b as V}from"./Reports.4712ad31.js";import{d as x,o as p,e as u,f as e,u as P,w as d,F as k,k as D,i as $,r as v,m as S,j as w,n as N,G as T,t as h,h as Y,y,Q as j,B as A}from"./index.4457215e.js";import{_ as F}from"./V-Card.vue_vue_type_script_setup_true_lang.f80f1beb.js";import{_ as L}from"./V-Loader.vue_vue_type_script_setup_true_lang.f82321d3.js";import{_ as M}from"./SidebarLayout.vue_vue_type_script_setup_true_lang.a7af6f4a.js";import{p as I}from"./sidebarLayoutState.d2b676a9.js";import"./V-Control.92200beb.js";import"./V-Field.vue_vue_type_script_setup_true_lang.33752939.js";import"./V-SwitchSegment.vue_vue_type_script_setup_true_lang.96e64ac9.js";import"./V-Modal.vue_vue_type_script_setup_true_lang.f0368080.js";import"./V-Checkbox.vue_vue_type_script_setup_true_lang.70a8d51f.js";import"./V-Placeload.9684d098.js";import"./ActivityPanel.vue_vue_type_style_index_0_lang.8acd0baa.js";import"./useDropdown.d2881c63.js";import"./V-Avatar.vue_vue_type_script_setup_true_lang.b4183814.js";import"./V-Dropdown.c58eb584.js";import"./V-Icon.vue_vue_type_script_setup_true_lang.a0e27302.js";import"./Companies.4f645ec0.js";import"./activePanelState.d3359fb3.js";import"./fastpizza.70124fcb.js";import"./TaskPanel.vue_vue_type_style_index_0_lang.50493a6a.js";import"./V-Tag.vue_vue_type_script_setup_true_lang.0d8ff65f.js";import"./video.d6dbc99d.js";import"./SearchPanel.vue_vue_type_style_index_0_lang.63cec0b9.js";import"./darkModeState.1f6503fc.js";import"./AnimatedLogo.d670690a.js";import"./V-IconBox.vue_vue_type_script_setup_true_lang.772b752f.js";import"./V-Block.vue_vue_type_script_setup_true_lang.00657afe.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang.5fb53f85.js";import"./userPopovers.f4b9fc60.js";const q={class:"is-12 d-flex justify-content-end"},z=$(" Search Transactions ");var G=x({expose:[],props:{loading:{type:Boolean}},emits:{search(s){return s},download(s){return s}},setup(s,{emit:n}){const t=s,a=()=>{const l=D(C.value);n("search",l)};return(l,_)=>{const o=R,i=b;return p(),u(k,null,[e(o,{"inputs-step":P(C)},null,8,["inputs-step"]),e("div",q,[e(i,{color:"primary",loading:t.loading,onClick:a},{default:d(()=>[z]),_:1},8,["loading"])])],64)}}});const H=$("Previus"),O=$("Next");var Q=x({expose:[],props:{reports:{type:Object}},emits:{changePage(s){return s}},setup(s,{emit:n}){const t=s,a=v(null),l=v(null),_=v(null),o=v([]),i=v(!1);S(()=>t.reports,()=>{i.value||(o.value.push({index:t.reports.next_page,value:a.value}),i.value=!0),i.value&&o.value.push({index:_.value,value:a.value}),console.log(o.value)}),S(()=>t.reports,()=>{if(t.reports&&t.reports.transactions.length>0){const m=o.value.filter(r=>r.index==a.value);l.value=m.length>0?m[0].value:null,_.value=t.reports.next_page}});const f=m=>{const r={page:m==="next"?_.value:l.value};a.value=r.page,n("changePage",r)};return(m,r)=>{const g=b;return p(),u(k,null,[e(g,{disabled:!l.value,onClick:r[1]||(r[1]=c=>f("prev"))},{default:d(()=>[H]),_:1},8,["disabled"]),e(g,{disabled:!s.reports.has_more,onClick:r[2]||(r[2]=c=>f("next"))},{default:d(()=>[O]),_:1},8,["disabled"])],64)}}});const E={class:"mt-4"},J={class:"table is-hoverable is-fullwidth"},K=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Description"),e("th",{scope:"col"},"Amount"),e("th",{scope:"col"},"Customer"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Created At"),e("th",{scope:"col"},"Action")])],-1),U={key:0},W=$(" Profile "),X={key:1},Z=e("tr",null,[e("td"),e("td",null,"No transactions"),e("td")],-1);var ee=x({expose:[],setup(s){const n=v([]),t=v(!1);w(async()=>{_()});const a=async o=>{_(o)},l=o=>{_({next_page:o.page})},_=async(o={})=>{t.value=!0;try{const i=await V(o);n.value=i.data}catch(i){N.error(i.message)}finally{t.value=!1}};return(o,i)=>{const f=G,m=j("router-link"),r=Q,g=F;return p(),u(g,null,{default:d(()=>[e("div",null,[e(f,{onSearch:a,loading:t.value},null,8,["loading"])]),e("div",E,[e(L,{class:"is-12",center:"",size:"small",active:t.value},{default:d(()=>[e("table",J,[K,n.value&&!t.value?(p(),u("tbody",U,[(p(!0),u(k,null,T(n.value.transactions,(c,B)=>(p(),u("tr",{key:`transaction-${B}`},[e("td",null,h(c.description),1),e("td",null,h(c.amount/100),1),e("td",null,h(c.customer),1),e("td",null,h(c.status),1),e("td",null,h(P(Y)(c.created_at).format("MM/DD/YYYY")),1),e("td",null,[c.customer?(p(),u(m,{key:0,to:{name:"members-profile",query:{id:c.customer}},class:"btn btn-primary"},{default:d(()=>[e(b,{color:"primary",outlined:""},{default:d(()=>[W]),_:1})]),_:2},1032,["to"])):y("",!0)])]))),128))])):y("",!0),n.value.length<1&&!t.value?(p(),u("tbody",X,[Z])):y("",!0),n.value?(p(),u(r,{key:2,reports:n.value,onChangePage:l},null,8,["reports"])):y("",!0)])]),_:1},8,["active"])])]),_:1})}}});const te={class:"page-content-inner"},oe={class:"columns is-multiline"};var je=x({expose:[],setup(s){return I.value="Stripe Transaction Reports",A({title:"Stripe Transaction Reports"}),w(()=>{}),(n,t)=>{const a=ee,l=M;return p(),u(l,null,{default:d(()=>[e("div",te,[e("div",oe,[e(a)])])]),_:1})}}});export{je as default};
