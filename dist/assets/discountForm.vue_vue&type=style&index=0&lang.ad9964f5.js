import{c as e,p as t,n as s,_ as a}from"./Companies.f20c2d70.js";import{_ as r}from"./formLayaut.vue_vue&type=style&index=0&lang.efe54a19.js";import{d as o,z as n,b as u,o as i,h as d,D as p,B as c,A as f,j as l,k as m}from"./vendor.685e53b0.js";import{i as b,s as v,p as y}from"./Discounts.be9aa749.js";var j=o({expose:[],props:{type:{type:String,default:"create"},buttons:{type:Array,default:["save","back"]},step:{type:Number,default:1}},setup(o){const j=o,h=c(),_=f();n((()=>{e(b.value)}));const k=u((()=>"create"==j.type?{title:"Add a new discount",subtitle:"Add information for a new discount"}:{title:"Edit discount",subtitle:"Edit information for a discount"})),A=()=>{const a=t(b.value);"create"==j.type?v(a).then((t=>{if(t.data.status)s.success("Success"),e(b.value),h.back();else for(var a in s.error(t.data.mensaje),t.data.errores)t.data.errores[a].forEach((e=>{s.error(`${a} : ${e}`)}))})):"edit"==j.type&&y(_.query.id,a).then((t=>{if(t.data.status)s.success("Success"),e(b.value),h.back();else for(var a in s.error(t.data.mensaje),t.data.errores)t.data.errores[a].forEach((e=>{s.error(`${a} : ${e}`)}))}))};return(e,t)=>{const s=a,o=r;return i(),d(o,{buttons:j.buttons,step:j.step,titles:p(k),onSaveData:A},{default:l((()=>[m(s,{"inputs-step":p(b)},null,8,["inputs-step"])])),_:1},8,["buttons","step","titles"])}}});export{j as _};
