import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.d3d76712.js";import{_ as t}from"./V-Loader.vue_vue&type=script&setup=true&lang.72c1da57.js";import{_ as s}from"./inputsLayaut.vue_vue&type=style&index=0&lang.082bb801.js";import{_ as a}from"./V-SwitchBlock.vue_vue&type=script&setup=true&lang.3ea5d316.js";import{_ as l}from"./V-Control.9f6b030b.js";import{_ as i}from"./V-Field.vue_vue&type=script&setup=true&lang.9839f63b.js";import{_ as n}from"./V-Button.vue_vue&type=script&setup=true&lang.940c9f5e.js";import{_ as o}from"./Presupuesto.vue_vue&type=script&setup=true&lang.21cb3b08.js";import{_ as u}from"./SearchBar.vue_vue&type=style&index=0&lang.538b6e0a.js";import{d as r,e as c,i as p,f as m,s as d,j as v,w as f,o as y,_,b}from"./subscription-method-stripe-checkout.vue_vue&type=script&setup=true&lang.2c18c4c3.js";import{_ as h}from"./V-Tag.vue_vue&type=script&setup=true&lang.42120ae5.js";import{_ as g}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.e5760cf1.js";import{d as j,P as x,O as V,ab as w,r as k,A as C,c as z,w as S,o as L,R as P,i as T,j as B,k as A,l as I,S as M,U as E,F as O,H as U,I as Y,W as D,G as H}from"./vendor.b96c0b62.js";import{p as R}from"./sidebarLayoutState.a7097173.js";import{e as F,c as G,s as $,d as q}from"./config.5855a188.js";import{a as N,g as W,e as J,m as K,n as Q,s as X}from"./index.91b9a95b.js";import{i as Z}from"./Members.8f5f7ff9.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.55f1942d.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.793fc7c9.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.7d0df25a.js";import"./V-Placeload.43c61814.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.78d7227b.js";import"./Discounts.1bbc894e.js";import"./MemberCards.48f6817a.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.43133d8a.js";import"./useDropdown.51b21268.js";import"./V-Dropdown.5a213405.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.0b7fcd84.js";import"./Companies.bc4f6887.js";import"./activePanelState.a3a15c4d.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.cf9fc2aa.js";import"./video.19485659.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.3bd9126b.js";import"./darkModeState.1cad08fb.js";import"./AnimatedLogo.3baf4ecb.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.31d8f19f.js";import"./V-Block.vue_vue&type=script&setup=true&lang.96a9aa0d.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.0dc1dec1.js";import"./userPopovers.f4b9fc60.js";import"./Diciplines.7c6ff6a4.js";import"./Memberships.9cf94ff4.js";const ee={class:"columns is-multiline"},te={class:"column is-9"},se=I("h1",{class:"title is-4"},"1. Select a membership",-1),ae={class:"columns is-multiline"},le={class:"title is-4"},ie={class:"column is-3"},ne={class:"title is-5 text-left mt-2"},oe={key:0},ue={key:1},re={key:0,class:"column is-12"},ce=I("h1",{class:"title is-4"},"2. Approve the budget",-1),pe=H("Accept and continue "),me={key:1,class:"column is-12"},de=I("h1",{class:"title is-4"},[H(" 3. Enter the member's email. "),Y(' <br />\n          <small style="font-size: 12px"\n            >* Then select a match if possible...otherwise press ENTER</small\n          >\n          <br />\n          <small style="font-size: 12px"\n            >* If you want to register a minor, please enter the email of the\n            family member to register</small\n          > ')],-1),ve={class:"columns is-multiline"},fe={class:"column is-4"},ye=I("p",{class:"title is-6 mb-1"},[I("b",null,"Total")],-1),_e={class:"title is-3 mb-0"},be={class:"is-4 column"},he={key:0,class:"column is-2"},ge=I("p",{style:{"font-size":"9px",margin:"0px",padding:"0px"}},null,-1);var je=j({expose:[],setup(j){R.value="Subscriptions",x({title:"Subscriptions"}),V(),w();const H=k([]),je=k(!0),xe=k(!1),Ve=k(null),we=k(null);C({number:5,status:!1,time:5e3});const ke=z((()=>{const e=H.value.find((e=>e.id==d.memberships_id));return null==e?void 0:e.amounts.filter((e=>e.is_recurrence==je.value&&null!=e.recurrencia))})),Ce=z((()=>{for(var e in d)null!=W(p.value,e)&&(d[e]=W(p.value,e).model);return d}));S((()=>d.memberships_id),(e=>{d.recurrences_id=null,m.value=null,xe.value=!1})),L((()=>{Be(),r().then((e=>{H.value=e.data})),c(1,"membership").then((e=>{N(p,"discount",e.data.discounts)})),W(p,"payment_type_id").model=3,F().then((e=>{N(Z,"city_id",G.value),N(Z,"state_id",$.value),N(Z,"country_id",q.value),W(Z.value,"country_id").model=34}))}));const ze=()=>{xe.value=!0,setTimeout((()=>{window.scrollTo(0,window.scrollY+500)}),300)},Se=()=>{m.value=null,xe.value=!1,Le.value=!0,v(Ce.value).then((e=>{m.value=e.data,setTimeout((()=>{window.scrollTo(0,document.body.scrollHeight||document.documentElement.scrollHeight),Le.value=!1}),300)})).catch((e=>{Le.value=!1}))},Le=k(!1),Pe=async e=>{we.value?(Le.value=!0,d.email=we.value,d.subscription_payment_type_id=W(p,"payment_type_id").model,Object.assign(d,e),console.log(d),await f(d).then((e=>{window.location.href=e.data.url})).catch((e=>{Q.error("Error"),Le.value=!1}))):Q.error("Email is required")},Te=()=>{setTimeout((()=>{if(Ve.value)for(var e in console.log(Ve.value),Ve.value)"photo"!=e&&X(Z,e,Ve.value[e]);else X(Z,"email",we.value);let t=window.scrollY+window.scrollY/4;window.scrollTo(0,t)}),300)},Be=async()=>{J(p.value),J(Z.value),m.value=null,d.memberships_id=null,d.recurrences_id=null,d.is_initiation_fee=!1,d.is_card_price=!1,d.discount=null,d.is_last_month=!1,d.prorrateo=!0,d.schedules="",d.leo_vet_fr=!1,d.multigym=!1},Ae=z((()=>W(p,"payment_type_id").model));z((()=>!W(Z.value,"category").model));const Ie=k(!1),Me=z((()=>!(3!=Ae.value||!Ie.value)||1==Ae.value)),Ee=(e=null)=>{console.log("sjs",e),e&&e.payment_method_id&&(Ie.value=!0)};return(r,c)=>{const v=e,f=t,j=s,x=a,V=l,w=i,k=n,C=o,z=u,S=y,L=_,R=h,F=b,G=g,$=P("tooltip");return T(),B(G,null,{default:A((()=>[I("div",ee,[I("div",te,[se,I(v,{class:"mb-4"},{default:A((()=>[I(f,{size:"large",active:!H.value.length},{default:A((()=>[I("div",ae,[(T(!0),B(M,null,E(H.value,((e,t)=>(T(),B("div",{key:`membership-${t}`,class:"column is-4 btn btn-card",onClick:t=>O(d).memberships_id=e.id},[I(v,{color:O(d).memberships_id==e.id?"primary":void 0,class:"h-100"},{default:A((()=>[I("div",null,[I("h1",le,U(e.name),1),Y(" <p>{{ item }}</p> ")])])),_:2},1032,["color"])],8,["onClick"])))),128))])])),_:1},8,["active"])])),_:1}),I(v,{class:""},{default:A((()=>[I(j,{"inputs-step":O(p)},null,8,["inputs-step"])])),_:1})]),I("div",ie,[I(v,{class:"h-100 d-flex flex-column justify-content-between"},{default:A((()=>[I("div",null,[I(w,null,{default:A((()=>[I(V,null,{default:A((()=>[I(x,{modelValue:je.value,"onUpdate:modelValue":c[1]||(c[1]=e=>je.value=e),label:"Recurring Subscription",color:"primary"},null,8,["modelValue"])])),_:1})])),_:1}),(T(!0),B(M,null,E(O(ke),((e,t)=>(T(),B("div",{key:`membership-precios-${t}`,class:"btn btn-card",onClick:t=>O(d).recurrences_id=e.id},[I(v,{color:O(d).recurrences_id==e.id?"primary":void 0,class:"mb-3 py-4"},{default:A((()=>[I("p",null,U(e.recurrencia.descriptions),1),I("p",ne,U(O(K)(e.amount)),1)])),_:2},1032,["color"])],8,["onClick"])))),128))]),I("div",null,[I(f,{size:"large",active:Le.value},{default:A((()=>[I(k,{onClick:Se,color:O(m)?void 0:"primary",class:"d-flex justify-content-center mt-6 py-5 w-100",style:{"text-align":"center","text-transform":"uppercase","font-size":"20px","font-weight":"900"}},{default:A((()=>[O(m)?(T(),B("span",ue," restart")):(T(),B("span",oe,"start subscription"))])),_:1},8,["color"])])),_:1},8,["active"])])])),_:1})]),O(m)?(T(),B("div",re,[ce,I(v,null,{default:A((()=>[I(C,{presupuesto:O(m)},null,8,["presupuesto"]),xe.value?Y("v-if",!0):(T(),B(k,{key:0,onClick:ze,color:"primary",class:"d-flex justify-content-center py-5 px-6 ml-auto",style:{"text-align":"center","text-transform":"uppercase","font-size":"20px","font-weight":"900"}},{default:A((()=>[pe])),_:1}))])),_:1})])):Y("v-if",!0),O(m)&&xe.value?(T(),B("div",me,[de,I(v,{style:{"margin-bottom":"24px"}},{default:A((()=>[I(z,{dato:"email",valor:we.value,"onUpdate:valor":c[2]||(c[2]=e=>we.value=e),modelValue:Ve.value,"onUpdate:modelValue":c[3]||(c[3]=e=>Ve.value=e),"not-payment-methods":!0,"not-search":!0,onOnSubmit:Te},null,8,["valor","modelValue"])])),_:1}),I(v,{style:{"margin-bottom":"24px"}},{default:A((()=>[I("div",ve,[I("div",fe,[I(f,{size:"small",class:"h-100",active:Le.value},{default:A((()=>[I(v,{class:"mb-4 h-100"},{default:A((()=>[I("div",null,[ye,I("p",_e,U(O(K)(O(m).total)),1)])])),_:1})])),_:1},8,["active"])]),I("div",be,[I(f,{size:"small",active:Le.value},{default:A((()=>[I(S,{total:O(m).total,onOnPayment:Pe},null,8,["total"])])),_:1},8,["active"])]),3==O(Ae)?(T(),B("div",he,[I(f,{size:"small",class:"h-100 mr-0",active:Le.value},{default:A((()=>[I(L,{total:20,card:!0,user:{email:we.value,id:null},"new-user":!0,onOnPayment:Ee},null,8,["user"])])),_:1},8,["active"])])):Y("v-if",!0),I("div",{class:["column",3==O(Ae)?"is-2":"is-4"]},[I(f,{size:"small",active:Le.value},{default:A((()=>[I(F,{total:O(m).total,onOnPayment:Pe,define_status:O(Me)},{default:A((()=>[3!=O(Ae)||Ie.value?Y("v-if",!0):D((T(),B(R,{key:0,color:"solid",label:"?"},null,512)),[[$,"You must load a card to continue. If you do not have a card, define the paymentType option as cash "]]),ge])),_:1},8,["total","define_status"])])),_:1},8,["active"])],2)])])),_:1}),Y(' <VLoader :active="isLoaderActive">\n          <VButton\n            @click="proccessSuscripcion"\n            color="info"\n            class="d-flex justify-content-center py-5 px-6 ml-auto"\n            style="\n              text-align: \'center\';\n              text-transform: uppercase;\n              font-size: 20px;\n              font-weight: 900;\n            "\n          >\n            Process\n          </VButton>\n        </VLoader> '),Y(' <VCard v-if="dato">\n          <inputsLayaut :inputs-step="inputsInformation" />\n          <div v-if="isMinor">\n            <VCard>\n              <p class="title is-5">Guardian Information</p>\n              <inputsLayaut :inputs-step="parentInsputs" />\n            </VCard>\n          </div>\n          <div class="mt-3">\n            <p v-if="tiempo.status">\n              You will be redirected, please wait a moment ...\n              {{ tiempo.number }}\n            </p>\n            <VLoader size="large" :active="isLoaderActive">\n              <VButton\n                @click="proccessMember"\n                color="info"\n                class="d-flex justify-content-center py-5 px-6 ml-auto"\n                style="\n                  text-align: center;\n                  text-transform: uppercase;\n                  font-size: 20px;\n                  font-weight: 900;\n                "\n              >\n                Continue\n              </VButton>\n            </VLoader>\n          </div>\n        </VCard> ')])):Y("v-if",!0)])])),_:1})}}});export default je;
