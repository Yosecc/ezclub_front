import{_ as S,a as b}from"./staffSystemPermitions.vue_vue_type_style_index_0_lang.2d38a8e6.js";import{_ as x}from"./SidebarLayout.vue_vue_type_script_setup_true_lang.a7af6f4a.js";import{d as D,B as I,j as k,a8 as u,q as a,r as l,o as d,e as _,w as $,f as s,y as j,D as w,a7 as C,k as v,l as B,n as c}from"./index.4457215e.js";import{p as N}from"./sidebarLayoutState.d2b676a9.js";import{c as f,f as o,h as n,j as P,l as R}from"./Staffs.ad83113a.js";import{a as V}from"./Companies.4f645ec0.js";import{g as q,c as E,a as M,s as A,b as F,d as H}from"./config.f468f56a.js";import"./V-Avatar.vue_vue_type_script_setup_true_lang.b4183814.js";import"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import"./V-Button.vue_vue_type_script_setup_true_lang.72d178c7.js";import"./V-Placeload.9684d098.js";import"./V-Control.92200beb.js";import"./V-Field.vue_vue_type_script_setup_true_lang.33752939.js";import"./V-SwitchSegment.vue_vue_type_script_setup_true_lang.96e64ac9.js";import"./V-Modal.vue_vue_type_script_setup_true_lang.f0368080.js";import"./V-Checkbox.vue_vue_type_script_setup_true_lang.70a8d51f.js";import"./V-Card.vue_vue_type_script_setup_true_lang.f80f1beb.js";import"./formLayaut.vue_vue_type_style_index_0_lang.2638a67d.js";import"./V-Loader.vue_vue_type_script_setup_true_lang.f82321d3.js";import"./V-CardAdvanced.vue_vue_type_script_setup_true_lang.66aff21d.js";import"./ActivityPanel.vue_vue_type_style_index_0_lang.8acd0baa.js";import"./useDropdown.d2881c63.js";import"./V-Dropdown.c58eb584.js";import"./V-Icon.vue_vue_type_script_setup_true_lang.a0e27302.js";import"./activePanelState.d3359fb3.js";import"./fastpizza.70124fcb.js";import"./TaskPanel.vue_vue_type_style_index_0_lang.50493a6a.js";import"./V-Tag.vue_vue_type_script_setup_true_lang.0d8ff65f.js";import"./video.d6dbc99d.js";import"./SearchPanel.vue_vue_type_style_index_0_lang.63cec0b9.js";import"./darkModeState.1f6503fc.js";import"./AnimatedLogo.d670690a.js";import"./V-IconBox.vue_vue_type_script_setup_true_lang.772b752f.js";import"./V-Block.vue_vue_type_script_setup_true_lang.00657afe.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang.5fb53f85.js";import"./userPopovers.f4b9fc60.js";const L={class:"page-content-inner"},T={class:"columns is-multiline"},U={class:"column is-12"},W={key:0};var wt=D({expose:[],setup(z){w();const h=C();N.value="New Staff",I({title:"Staffs"}),k(()=>{f.value=null,u(o.value),u(n.value),V().then(t=>{a(n,"locations",t.data.locations)}),q().then(t=>{a(o,"city_id",E.value)}),M().then(t=>{a(o,"state_id",A.value)}),F().then(t=>{a(o,"country_id",H.value)}),P().then(t=>{a(n,"staff_roles",t.data.staff_roles)})});const m=l(1);l([{step:1,text:"Staff Information",categories:[]},{step:2,text:"System Permissions",categories:[]},{step:3,text:"Sign Waiver",categories:[]}]);const g=()=>{let t={...v(o.value),...v(n.value)};const p=new FormData;for(var r in t)p.append(r,t[r]);B.value||R(p).then(e=>{if(e.data.status)c.success("Succeeded"),m.value=3,f.value=e.data.staff,h.push({name:"settings-staff-edit",query:{id:f.value.id,sign:!0}});else{c.error(e.data.mensaje);for(var i in e.data.errores)e.data.errores[i].forEach(y=>{c.error(`${i} : ${y}`)})}}).catch(e=>{console.log(e.response.data)})};return(t,p)=>{const r=S,e=b,i=x;return d(),_(i,null,{default:$(()=>[s("div",L,[s("div",T,[s("div",U,[m.value==1||m.value==2?(d(),_("div",W,[s(r,{type:"create",buttons:["back","save"],step:1,class:"mb-3",onSaveData:g}),s(e,{type:"create",buttons:[],step:2,class:"mb-3"})])):j("",!0)])])])]),_:1})}}});export{wt as default};
