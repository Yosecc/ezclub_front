import{_ as e}from"./V-PlaceholderSection.vue_vue&type=script&setup=true&lang.3abc5d60.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.a97a12f7.js";import{_ as a}from"./V-Modal.vue_vue&type=script&setup=true&lang.5145729d.js";import{_ as s}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.814e506a.js";import{_ as l}from"./V-FlexPagination.vue_vue&type=script&setup=true&lang.5556d9f6.js";import{_ as r}from"./V-Loader.vue_vue&type=script&setup=true&lang.22d608b6.js";import{_ as o}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.5cc46d8b.js";import{d as i,r as n,b as u,z as c,A as p,w as d,o as v,h as m,D as f,j as y,k as g,K as h,L as _,E as b,a8 as j,N as x,O as k,H as w}from"./vendor.e3a29b40.js";import{_ as V,a as P}from"./search-4-dark.fb3880a5.js";import{p as C}from"./sidebarLayoutState.436b738a.js";import{g as D,i as I,c as S,s as T}from"./Inventory.2515a52f.js";import{n as A}from"./Mixin.ee770f22.js";import{h as M}from"./moment.08a7f518.js";import{u as Y}from"./index.d9e84969.js";import"./V-Placeload.9d0101ab.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.a2170d68.js";import"./useDropdown.dfad556c.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.acbf948e.js";import"./V-Dropdown.7404a3e2.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.1a89ef3a.js";import"./index.ea4dc01e.js";import"./activePanelState.5a49edcb.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.8482ace6.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.eb96c098.js";import"./V-Message.vue_vue&type=script&setup=true&lang.f3abd056.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.b59ccca7.js";import"./navbarLayoutState.0d75d701.js";import"./video.674f0486.js";import"./darkModeState.a53f3c67.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.2f79059e.js";import"./AnimatedLogo.e43df3fc.js";import"./V-Control.b36667bf.js";import"./V-Field.vue_vue&type=script&setup=true&lang.189c1bf7.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.5e6c3f74.js";import"./V-Block.vue_vue&type=script&setup=true&lang.f5251e79.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.16aa198e.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.c5504f9b.js";import"./notyf.es.f84e4201.js";const E={class:"page-content-inner"},L=w("Confirm"),R=w("Confirm"),z={key:0,class:"title is-4"},B={class:"d-flex justify-content-end mb-6"},O=w("New Inventory"),q={class:"flex-list-wrapper flex-list-v1"},F=g("img",{class:"light-image",src:V,alt:""},null,-1),N=g("img",{class:"dark-image",src:P,alt:""},null,-1),H={class:"flex-table"},K=g("span",{class:""},"ID",-1),U=g("span",null,"Status",-1),W=g("span",null,"Date Open",-1),G=g("span",null,"Date Close",-1),J=g("span",null,"Products Total",-1),Q=g("span",{class:""},"Actions",-1),X={class:"flex-list-inner"},Z={"data-th":"ID",class:"flex-table-cell"},$={class:"item-name dark-inverted"},ee={class:"flex-table-cell","data-th":"Status"},te={key:0,class:"tag is-success is-rounded"},ae={key:1,class:"tag is-rounded"},se={key:2,class:"tag is-info is-rounded"},le={class:"flex-table-cell","data-th":"Date Open"},re={class:"light-text"},oe={class:"flex-table-cell","data-th":"Date Close"},ie={class:"light-text"},ne={class:"flex-table-cell","data-th":"Products Total"},ue={class:"light-text"},ce={class:"flex-table-cell","data-th":"Actions"},pe=w("Close Inventory"),de=w("View");var ve=i({expose:[],setup(i){const w=n(""),V=u((()=>w.value?Y.filter((e=>e.username.match(new RegExp(w.value,"i"))||e.position.match(new RegExp(w.value,"i"))||e.industry.match(new RegExp(w.value,"i"))||e.status.match(new RegExp(w.value,"i"))||e.location.match(new RegExp(w.value,"i")))):I.value));C.value="Inventory",c({title:"Inventory"});const P=f(),ve=n(!1),me=n(!1),fe=n(""),ye=n(null),ge=n(!0);p((()=>{D().then((e=>{console.log(e.data),ge.value=!1}))}));const he=()=>{console.log(ye.value),me.value=!1,ge.value=!0,fe.value="Processing Inventory... Please do not close the browser window until the process is complete",S(ye.value).then((e=>{A.success("Success"),ge.value=!1,fe.value="",D()})).catch((e=>{A.error(e.response.data),ge.value=!1,fe.value=""}))},_e=()=>{ve.value=!1,ge.value=!0,fe.value="wait a moment, you will be redirected",T().then((e=>{P.push({name:"settings-inventory-create",query:{id:e.data.inventory}})})).catch((e=>{A.error(e.response.data.message),ge.value=!1,fe.value=e.response.data.message}))},be=u((()=>{let e=[];return I.value.forEach((t=>{e.push([t.id,t.status,t.created_at,t.updated_at,100,1])})),e}));return d(be,(e=>{ge.value=!0,setTimeout((()=>{ge.value=!1}),500)})),(i,n)=>{const u=e,c=t,p=a,d=s,f=l,w=r,P=o;return v(),m(P,null,{default:y((()=>[g("div",E,[g(p,{open:me.value,actions:"center",onClose:n[1]||(n[1]=e=>me.value=!1)},{content:y((()=>[g(u,{title:" Are you sure you want to close inventory?",subtitle:"This action will modify the stock of all products for sale and cannot be undone"})])),action:y((()=>[g(c,{color:"primary",onClick:he,raised:""},{default:y((()=>[L])),_:1})])),_:1},8,["open"]),g(p,{open:ve.value,actions:"center",onClose:n[2]||(n[2]=e=>ve.value=!1)},{content:y((()=>[g(u,{title:" Are you sure to create a new inventory?",subtitle:"This action blocks all movements related to sales, creation and editing of products in the system until the inventory is closed."})])),action:y((()=>[g(c,{color:"primary",onClick:_e,raised:""},{default:y((()=>[R])),_:1})])),_:1},8,["open"]),ge.value?(v(),m("h1",z,h(fe.value),1)):_("",!0),g("div",B,[ge.value?_("",!0):(v(),m(c,{key:0,color:"primary",onClick:n[3]||(n[3]=e=>ve.value=!0),raised:"",class:"mb-4"},{default:y((()=>[O])),_:1}))]),g(w,{size:"large",active:ge.value},{default:y((()=>[g("div",q,[g(d,{class:[0!==b(V).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\r\n            search terms you've entered. Please try different search terms or\r\n            criteria.",larger:""},{image:y((()=>[F,N])),_:1},8,["class"]),g("div",H,[g("div",{class:["flex-table-header",[0===b(V).length&&"is-hidden"]]},[K,U,W,G,J,Q],2),g("div",X,[g(j,{name:"list",tag:"div"},{default:y((()=>[(v(!0),m(x,null,k(b(V),(e=>(v(),m("div",{key:e.id,class:"flex-table-item"},[g("div",Z,[g("div",null,[g("span",$,h(e.id),1)])]),g("div",ee,[1===e.status?(v(),m("span",te,"Active")):_("",!0),0===e.status?(v(),m("span",ae,"Close")):_("",!0),2===e.status?(v(),m("span",se,"Process")):_("",!0)]),g("div",le,[g("span",re,h(b(M)(e.created_at).format("dd - DD/MM/YYYY")),1)]),g("div",oe,[g("span",ie,h(b(M)(e.updated_at).format("dd - DD/MM/YYYY")),1)]),g("div",ne,[g("span",ue,h(e.products.length),1)]),g("div",ce,[1==e.status?(v(),m(c,{key:0,color:"success",onClick:t=>{me.value=!0,ye.value=e.id},raised:"",class:"mr-4"},{default:y((()=>[pe])),_:2},1032,["onClick"])):_("",!0),g(c,{to:{name:"settings-inventory-create",query:{id:e.id}}},{default:y((()=>[de])),_:2},1032,["to"])])])))),128))])),_:1})])]),b(V).length>5?(v(),m(f,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":7})):_("",!0)])])),_:1},8,["active"])])])),_:1})}}});export default ve;
