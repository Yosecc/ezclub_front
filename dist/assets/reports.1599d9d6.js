import{_ as t}from"./V-Card.vue_vue&type=script&setup=true&lang.d3d76712.js";import{b as e,l as s,_ as l,p as n}from"./V-BillboardJS.vue_vue&type=style&index=0&lang.dec5e3a4.js";import{_ as a}from"./V-Button.vue_vue&type=script&setup=true&lang.940c9f5e.js";import{_ as i}from"./V-Loader.vue_vue&type=script&setup=true&lang.72c1da57.js";import{_ as o}from"./subscriptionIndex.vue_vue&type=script&setup=true&lang.91ea6f22.js";import{_ as c}from"./V-Modal.vue_vue&type=script&setup=true&lang.793fc7c9.js";import{d as u,o as r,c as p,r as d,w as m,A as v,i as f,j as b,l as y,I as h,S as g,U as _,F as k,k as x,H as C,G as S,B as V,P as j,O as w,h as A,W as D,_ as O}from"./vendor.b96c0b62.js";import{m as P,A as N}from"./index.91b9a95b.js";import{_ as I}from"./subscription-list.vue_vue&type=style&index=0&lang.adc5d187.js";import{_ as M}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.e5760cf1.js";import{p as E}from"./sidebarLayoutState.a7097173.js";import{v as Y}from"./subscription-method-stripe-checkout.vue_vue&type=script&setup=true&lang.2c18c4c3.js";import{t as B}from"./themeColors.4f0e93f3.js";import"./V-Placeload.43c61814.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.78d7227b.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.082bb801.js";import"./V-Control.9f6b030b.js";import"./V-Field.vue_vue&type=script&setup=true&lang.9839f63b.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.55f1942d.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.7d0df25a.js";import"./Discounts.1bbc894e.js";import"./Staffs.e739b9e5.js";import"./Companies.bc4f6887.js";import"./Diciplines.7c6ff6a4.js";import"./V-SwitchBlock.vue_vue&type=script&setup=true&lang.3ea5d316.js";import"./Presupuesto.vue_vue&type=script&setup=true&lang.21cb3b08.js";import"./MemberCards.48f6817a.js";import"./Members.8f5f7ff9.js";import"./Memberships.9cf94ff4.js";import"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.26d5e0c0.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.42120ae5.js";import"./V-FlexPagination.vue_vue&type=script&setup=true&lang.c02f90af.js";import"./search-4-dark.12f0bf0d.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.43133d8a.js";import"./useDropdown.51b21268.js";import"./V-Dropdown.5a213405.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.0b7fcd84.js";import"./activePanelState.a3a15c4d.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.cf9fc2aa.js";import"./video.19485659.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.3bd9126b.js";import"./darkModeState.1cad08fb.js";import"./AnimatedLogo.3baf4ecb.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.31d8f19f.js";import"./V-Block.vue_vue&type=script&setup=true&lang.96a9aa0d.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.0dc1dec1.js";import"./userPopovers.f4b9fc60.js";const R={class:"table is-hoverable is-fullwidth"},J=y("thead",null,[y("tr",{style:{"border-bottom":"1px solid rgba(255, 255, 255, 0.2)"}},[y("th",{colspan:"6",class:"text-center",scope:"col"},[y("p",{class:"text-center title is-6"},[y("b",null,"SUBSCRIPTIONS")])])])],-1),$=y("thead",null,[y("tr",null,[y("th",{scope:"col"},"Info"),y("th",{scope:"col"},"Next payment date."),y("th",{scope:"col"},"Discount."),y("th",{scope:"col"},"Amount"),y("th",{scope:"col"},"Status"),y("th",{scope:"col"},"View Invoices")])],-1),L={class:"p-4"},G={key:0},T={key:0,class:"p-4"},F={class:"p-4"},X={key:0},z={key:1,class:"p-4"},U={class:"p-4"},q={key:0,class:"fa fa-solid fa-eye-slash"},H={key:1,class:"fa fa-solid fa-eye"},W=y("i",{class:"fa fa-id-card"},null,-1),K={key:0},Q={colspan:"6"},Z={class:"table is-hoverable is-fullwidth"},tt=y("thead",null,[y("tr",{style:{"border-bottom":"1px solid rgba(255, 255, 255, 0.2)"}},[y("th",{colspan:"4",class:"text-center",scope:"col"},[y("p",{class:"text-center title is-6"},[y("b",null,"INVOICES")])])])],-1),et=y("thead",null,[y("tr",null,[y("th",{scope:"col"},"ID"),y("th",{scope:"col"},"PAID"),y("th",{scope:"col"},"status"),y("th",{scope:"col"},"Amount"),h(' <th scope="col">View Payments</th> ')])],-1),st={colspan:"4"},lt={class:"table is-hoverable is-fullwidth"},nt=y("thead",null,[y("tr",{style:{"border-bottom":"1px solid"}},[y("th",{colspan:"4",class:"text-center",scope:"col"},[y("p",{class:"text-center title is-6"},[y("b",null,"ITEMS")])])])],-1),at=y("thead",null,[y("tr",null,[y("th",{scope:"col"},"description"),y("th",{scope:"col"},"amount")])],-1),it={colspan:"4"},ot={class:"table is-hoverable is-fullwidth"},ct=y("thead",null,[y("tr",{style:{"border-bottom":"1px solid"}},[y("th",{colspan:"6",class:"text-center",scope:"col"},[y("p",{class:"text-center title is-6"},[y("b",null,"PAYMENTS")])])])],-1),ut=y("thead",null,[y("tr",null,[y("th",{scope:"col"},"ID"),y("th",{scope:"col"},"date"),y("th",{scope:"col"},"description"),y("th",{scope:"col"},"status"),y("th",{scope:"col"},"last payment error"),y("th",{scope:"col"},"amount")])],-1),rt={key:0},pt={key:1};var dt=u({expose:[],props:{subscriptions:{type:Array,default:[]}},setup(e){const s=e;r((()=>{}));const l=p((()=>s.subscriptions)),n=d(null),i=d(null);m((()=>s.subscriptions),(t=>{n.value=null,i.value=null}));const u=v({modal:!1,data:null,suscripcion_id:null}),j=()=>{u.modal=!1};return(e,s)=>{const r=a,p=t,d=o,m=c;return f(),b("div",null,[y("table",R,[h(" <p>{{ props.suscripciones }}</p> "),J,$,(f(!0),b(g,null,_(k(l),((t,e)=>(f(),b("tbody",{key:`subs-${e}`},[y("tr",{id:`subs-${e}`,class:e==i.value?"bg-info":""},[y("td",L,[y("p",null,[y("small",null,C(t.data.id),1)]),y("p",null,[y("small",null,C(t.data.customer),1)]),t.data.upComing?(f(),b("p",G,C(t.data.upComing.customer_email),1)):h("v-if",!0)]),t.data.upComing?(f(),b("td",T,C(t.data.upComing.next_payment_attempt),1)):h("v-if",!0),y("td",F,[t.data.discount?(f(),b("p",X,[S(C(t.data.discount.coupon.name),1),y("small",null," - "+C(t.data.discount.coupon.percent_off)+" %",1)])):h("v-if",!0)]),t.data.upComing?(f(),b("td",z,C(k(P)(t.data.upComing.total/100)),1)):h("v-if",!0),y("td",U,C(t.data.status),1),y("td",null,[y(r,{color:e==i.value?void 0:"info",outlined:"",onClick:s=>(({data:t,key:e})=>{n.value=t,e!=i.value?(i.value=e,setTimeout((()=>{document.getElementById(`subs-${e}`).scrollIntoView({behavior:"smooth",block:"start"})}),100)):i.value=null})({data:t.data.invoicess,key:e})},{default:x((()=>[e==i.value?(f(),b("i",q)):(f(),b("i",H))])),_:2},1032,["color","onClick"]),y(r,{color:"success",outlined:"",onClick:e=>(t=>{console.log("viewSuscripcion",t.suscripcion_id),t.suscripcion_id&&(u.suscripcion_id=t.suscripcion_id),u.modal=!0})(t)},{default:x((()=>[W])),_:2},1032,["onClick"])])],10,["id"]),e==i.value?(f(),b("tr",K,[y("td",Q,[n.value?(f(),b(p,{key:0},{default:x((()=>[y("table",Z,[tt,et,(f(!0),b(g,null,_(n.value,((t,e)=>(f(),b("tbody",{style:{border:"1px solid rgba(255, 255, 255, 0.2)"},class:"mb-4",key:`invoide-${e}`},[y("tr",null,[h(" <td>\n                        <p>{{ item_ }}</p>\n                    </td> "),y("td",null,[y("p",null,C(t.id),1)]),y("td",null,[y("p",null,C(t.paid),1)]),y("td",null,[y("p",null,C(t.status),1)]),y("td",null,[y("p",null,C(k(P)(t.total/100)),1)])]),y("tr",null,[y("td",st,[t.lines?(f(),b(p,{key:0},{default:x((()=>[h(" <p>{{ item_.payment_intent_data }}</p> "),y("table",lt,[nt,at,(f(!0),b(g,null,_(t.lines,((t,e)=>(f(),b("tbody",{key:`lines-${e}`},[y("tr",null,[y("td",null,[y("p",null,C(t.description),1)]),y("td",null,[y("p",null,C(k(P)(t.amount/100)),1)])])])))),128))])])),_:2},1024)):h("v-if",!0)])]),y("tr",null,[y("td",it,[null!=t.payment_intent_data?(f(),b(p,{key:0},{default:x((()=>[h(" <p>{{ item_.payment_intent_data }}</p> "),y("table",ot,[ct,ut,y("tbody",null,[y("tr",null,[y("td",null,[y("p",null,C(t.payment_intent_data.id),1)]),y("td",null,[y("p",null,C(k(V)(t.payment_intent_data.created,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),y("td",null,[y("p",null,C(t.payment_intent_data.description),1)]),y("td",null,[y("p",null,C(t.payment_intent_data.status),1)]),y("td",null,[t.payment_intent_data.last_payment_error?(f(),b("p",rt,C(t.payment_intent_data.last_payment_error.message),1)):h("v-if",!0)]),y("td",null,[y("p",null,C(k(P)(t.payment_intent_data.amount/100)),1)])])])])])),_:2},1024)):h("v-if",!0)])])])))),128))])])),_:1})):h("v-if",!0)])])):h("v-if",!0)])))),128))]),y(m,{open:k(u).modal,size:"big",actions:"center",noscroll:"",onClose:j},{content:x((()=>[h(" <p>{{ suscripcion }}</p> "),k(u).modal&&k(u).suscripcion_id?(f(),b(d,{key:0,suscripcion_id:k(u).suscripcion_id},null,8,["suscripcion_id"])):(f(),b("p",pt,"Not subscription"))])),action:x((()=>[h(' <VButton\n          :to="{\n            name: \'members-profile\',\n            query: { id: member_id },\n          }"\n          v-if="member_id"\n          color="info"\n          raised\n          >View member profile {{ code }}\n        </VButton>\n        <VButton\n          :to="{\n            name: \'members-profile\',\n            query: { code: code },\n          }"\n          v-if="code"\n          color="info"\n          raised\n          >View member profile\n        </VButton> ')])),_:1},8,["open"])])}}});v({data:{},count:null,amount:null});const mt=t=>{const e=[];for(const s in t){let t=s;""==s&&(t="n/a"),e.push(t)}return e},vt=t=>{const e=[];for(const s in t)e.push(t[s].amount/100);return e},ft=t=>{const e=[];for(const s in t)e.push(t[s].count);return e},bt={data:{type:"bar",types:{data2:e(),data1:s()},x:"x",columns:[],names:{data2:"Subscriptions",data1:"Amount"},labels:{format:{data1:function(t){return d3.format("$")(t)}}}},bar:{width:{ratio:.5}},axis:{rotated:!0,x:{type:"category",tick:{rotate:75,multiline:!1,tooltip:!0},height:130}},title:{text:"Subscriptions to next payment",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{}},yt={class:"w-100"},ht={class:"columns is-multiline"},gt={class:"column is-6"},_t={class:"title is-5"},kt=y("b",null,"Subscriptions Stripe:",-1),xt={class:"column is-6"},Ct={class:"title is-5"},St=y("b",null," Amount:",-1),Vt={class:"columns is-multiline column is-12"},jt={class:"columns is-multiline"},wt={class:"column is-6"},At={class:"title is-6"},Dt={class:"column is-6"},Ot={class:"title is-6"},Pt=y("b",null," Amount:",-1),Nt={class:"column is-12"},It={class:"column is-12"},Mt=S("View List Subscriptions"),Et={class:"table is-hoverable is-fullwidth"},Yt=y("thead",null,[y("tr",null,[y("th",{scope:"col"},"Date next Payment"),y("th",{scope:"col"},"Count."),y("th",{scope:"col"},"Amount sum."),y("th",{scope:"col"},"View lists")])],-1),Bt={class:"p-4"},Rt=y("i",{class:"fa fa-solid fa-eye"},null,-1),Jt=S("All Subscriptions"),$t=S("Group by membership"),Lt={class:"table is-hoverable is-fullwidth"},Gt=y("thead",null,[y("tr",null,[y("th",{scope:"col"},"Membership"),y("th",{scope:"col"},"Count."),y("th",{scope:"col"},"Amount"),y("th",{scope:"col"},"View Subscription")])],-1),Tt={class:"p-4"},Ft={class:"p-4"},Xt={class:"p-4"},zt=y("i",{class:"fa fa-solid fa-eye"},null,-1),Ut={key:0},qt={colspan:"4"};var Ht=u({expose:[],props:{dataStripe:{type:Object,default:{data:{},count:null,amount:null}}},setup(e){const s=e;d(!1),r((()=>{})),d(""),d("all");const n=p((()=>{let t=s.dataStripe;for(let e in t.data){t.data[e].options=JSON.parse(JSON.stringify(bt));let s=["x"].concat(mt(t.data[e].data));t.data[e].options.data.columns.push(s);let l=["data1"].concat(vt(t.data[e].data));t.data[e].options.data.columns.push(l);let n=["data2"].concat(ft(t.data[e].data));t.data[e].options.data.columns.push(n),t.data[e].options.data.labels.format.data2=function(t){return d3.format("$")(t)}}return console.log("datafinal",t),t})),o=v({key:null,data:null,suscripciones:null,suscripciones_ids:null});m(o.key,(t=>{o.data=null,o.suscripciones_ids=null,c.key=null}));const c=v({key:null,subscriptions:null,memberships:null}),u=d(!1);m((()=>c.key),(t=>{console.log(t),j.key=null,u.value=!0,setTimeout((()=>{u.value=!1}),1e3)}));const j=v({key:null,dat:null}),w=d("subscriptions");return(e,s)=>{const r=t,p=l,d=a,m=i,v=dt;return f(),b("div",yt,[y(r,{class:"column is-12 mb-4"},{default:x((()=>[y("div",ht,[y("div",gt,[y(r,{color:"peimary"},{default:x((()=>[y("p",_t,[kt,S(" "+C(k(n).count),1)])])),_:1})]),y("div",xt,[y(r,{color:"primary"},{default:x((()=>[y("p",Ct,[St,S(" "+C(k(P)(k(n).amount/100)),1)])])),_:1})]),y("div",Vt,[(f(!0),b(g,null,_(k(n).data,((t,e)=>(f(),b("div",{class:"column is-6",key:`status-${e}`},[y(r,null,{default:x((()=>[y("div",jt,[y("div",wt,[y(r,{color:""},{default:x((()=>[y("p",At,C(t.count)+" "+C(e),1)])),_:2},1024)]),y("div",Dt,[y(r,{color:"info"},{default:x((()=>[y("p",Ot,[Pt,S(" "+C(k(P)(t.amount/100)),1)])])),_:2},1024)]),y("div",Nt,[y(r,null,{default:x((()=>{return[y(p,{ref:`chart-estado-${e}`,id:`chart-estado-${e}`,options:(s=t.options,JSON.parse(JSON.stringify(s)))},null,8,["id","options"])];var s})),_:2},1024)]),y("div",It,[y(d,{class:"w-100",color:k(o).key==e?"info":"",onClick:s=>(({estado:t,key:e})=>{if(console.log("viewListEstados",t),o.key==e)return o.key=null,o.data=null,void(o.suscripciones_ids=null);o.key=e,o.data=t})({estado:t,key:e})},{default:x((()=>[Mt])),_:2},1032,["color","onClick"])])])])),_:2},1024)])))),128))])])])),_:1}),k(o).data?(f(),b(r,{key:0,class:"column is-12 mb-4"},{default:x((()=>[y("table",Et,[Yt,(f(!0),b(g,null,_(k(o).data.data,((t,e)=>(f(),b("tbody",{key:`estado-${e}`,class:e==k(c).key?"bg-info":""},[y("tr",null,[y("td",Bt,C(""==e?"N/A":k(V)(e,"YYYY-MM-DD").format("MM-DD-YYYY")),1),y("td",null,C(t.count),1),y("td",null,C(k(P)(t.amount/100)),1),y("td",null,[y(d,{color:"info",onClick:s=>(({data:t,key:e})=>{if(console.log("viewListSubscriptions",t),c.key==e)return c.key=null,c.subscriptions=null,void(c.memberships=null);c.key=e,c.subscriptions=t,c.memberships=t.membresias,setTimeout((()=>{document.getElementById("subscriptionsList").scrollIntoView({behavior:"smooth"})}),100)})({data:t,key:e})},{default:x((()=>[Rt])),_:2},1032,["onClick"])])])],2)))),128))])])),_:1})):h("v-if",!0),k(c).subscriptions?(f(),b(r,{key:1,id:"subscriptionsList",class:"column is-12 mb-4"},{default:x((()=>[y(r,{class:"d-flex justify-content-between mb-4"},{default:x((()=>[y(m,{size:"small",active:u.value},{default:x((()=>[y("div",null,[y("p",null," Payment next date: "+C(k(V)(k(c).key,"YYYY-MM-DD").format("MM-DD-YYYY")),1),y("p",null,"Count: "+C(k(c).subscriptions.count),1),y("p",null," Amount: "+C(k(P)(k(c).subscriptions.amount/100)),1)])])),_:1},8,["active"]),y("div",null,[y(d,{color:"subscriptions"==w.value?"info":void 0,class:"mr-4",onClick:s[1]||(s[1]=t=>w.value="subscriptions")},{default:x((()=>[Jt])),_:1},8,["color"]),y(d,{color:"membresias"==w.value?"info":void 0,onClick:s[2]||(s[2]=t=>w.value="membresias")},{default:x((()=>[$t])),_:1},8,["color"])])])),_:1}),"subscriptions"==w.value&&k(c).subscriptions?(f(),b(r,{key:0},{default:x((()=>[y(v,{subscriptions:k(c).subscriptions.data},null,8,["subscriptions"])])),_:1})):h("v-if",!0),"membresias"==w.value&&k(c).memberships?(f(),b(r,{key:1},{default:x((()=>[y("table",Lt,[Gt,(f(!0),b(g,null,_(k(c).memberships,((t,e)=>(f(),b("tbody",{key:`member-${e}`,class:e==k(j).key?"bg-info":""},[y("tr",null,[y("td",Tt,[y("p",null,C(t.membership.name),1)]),y("td",Ft,[y("p",null,C(t.count),1)]),y("td",Xt,C(k(P)(t.amount/100)),1),y("td",null,[y(d,{color:"info",outlined:"",onClick:s=>(({data:t,key:e})=>{if(j.key==e)return j.key=null,void(j.data=null);j.key=e,j.data=t})({data:t.data,key:e})},{default:x((()=>[zt])),_:2},1032,["onClick"])])]),e==k(j).key?(f(),b("tr",Ut,[y("td",qt,[k(j).data?(f(),b(r,{key:0},{default:x((()=>[y(v,{subscriptions:k(j).data},null,8,["subscriptions"])])),_:1})):h("v-if",!0)])])):h("v-if",!0)],2)))),128))])])),_:1})):h("v-if",!0)])),_:1})):h("v-if",!0)])}}});const Wt=v({data1:[],data2:[],x:[]});v({data:{type:e(),types:{data1:s(),data2:e()},x:"x",columns:[],names:{data1:"Subscription",data2:"Amount"},colors:{data1:B.accent,data2:B.primary,data3:B.orange,data4:B.purple}},bar:{width:{ratio:.5}},axis:{x:{type:"category",tick:{rotate:90,multiline:!1,tooltip:!0},height:100}},size:{height:500},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}});const Kt=t=>{const e=[];for(const s in t){let l=s;""==l&&(l="n/a"),e.push([l,t[s]])}return e},Qt=t=>{let e=[];const s=["x"],l=["age"];for(const n in t){let e=n;""==e&&(e=0),s.push(e),l.push(t[n].count)}return e=[s,l],e},Zt=t=>{const e=[];for(const s in t){const l=t[s].min,n=t[s].max,a=t[s].count_members,i=l+"-"+n;e.push([i,a])}return e};d([["Male",30],["Female",28]]);const te={data:{columns:[],colors:{data1:B.accent,data2:B.primary,data3:B.orange,data4:B.purple,setosa:B.orange,versicolor:B.purple,virginica:B.success},type:n(),onclick:(t,e)=>{console.log("[pieSimple] onclick",t,e)},onover:(t,e)=>{console.log("[pieSimple] onover",t,e)},onout:(t,e)=>{console.log("[pieSimple] onout",t,e)}},size:{height:280},padding:{bottom:20},title:{text:"Pie Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},ee={data:{x:"x",type:e(),columns:[],colors:{data1:B.accent,data2:B.primary,data3:B.orange,data4:B.purple}},bar:{width:{ratio:.5}},size:{height:280},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},se={class:"page-content-inner"},le={class:"mb-5 columns is-multiline"},ne={class:"column is-12 columns is-multiline"},ae={class:"w-100 d-flex",style:{"overflow-y":"scroll"}},ie=y("p",null,null,-1),oe={class:"title is-6"};var ce=u({expose:[],setup(e){E.value="Suscriptions",j({title:"List Suscriptions"});const s=w(),l=d(""),n=d("all");d([]);const a=d(!0);d("all"),m((()=>s.query.page),(()=>{i("all",l.value,s.query.page,o.value,!1,P.value)})),m((()=>l.value),(()=>{}));const i=async(t,e="",s=1,l=null,i=!0,o=null,c=null)=>{n.value=t,a.value=!0,await N.get("v2/suscripcion/reports",{params:{[n.value]:!0,filter:e,page:s,category:l,estado:o,fecha_pago:c}}).then((t=>{Y.value=t.data.suscripcionesXpayment,B.value=t.data.suscripcionesXmembresias;let e=["data1"].concat(Y.value.cantidad),s=["data2"].concat(Y.value.montos),l=["x"].concat(Y.value.fechas);Wt.data1=e,Wt.data2=s,Wt.x=l,i&&V()})).catch((t=>{a.value=!1,console.log(t)}))},o=d("All"),c=v({}),u=v({}),S=v({});r((()=>{N.get("v2/suscripcion/reportStripe").then((t=>{for(const e in t.data.suscripciones_ids)u[e]=t.data.suscripciones_ids[e];for(const e in t.data)c[e]=t.data[e];N.post("v2/suscripcion/reportInUsers",u).then((t=>{const e=t.data.suscripcionesSegunStripe;for(const s in e)S[s]={data:e[s],search:""};console.log(S)})).catch((t=>{console.log("error reportInUsers",t)}))}))}));const V=()=>{a.value=!0,setTimeout((()=>{a.value=!1}),500)},P=d(null);d("All"),d([{value:"All",name:"All"},{value:"COBRAR HOY",name:"COBRAR HOY"},{value:"PENDIENTE",name:"PENDIENTE"},{value:"VENCIDO",name:"VENCIDO"},{value:"PAGADO",name:"PAGADO"},{value:"CANCELADO",name:"CANCELADO"},{value:"EXPIRADO",name:"EXPIRADO"},{value:"PROX. EXPIRADO",name:"PROX. EXPIRADO"}]);const B=d(null),R=p((()=>{for(var t in B.value){const e=B.value[t],s=JSON.parse(JSON.stringify(te));s.title.text="Gender",s.data.columns=Kt(e.members),B.value[t].optionsGender=s;const l=JSON.parse(JSON.stringify(ee));l.title.text="Ages",l.data.columns=Qt(e.edades),B.value[t].optionsEdades=l;const n=JSON.parse(JSON.stringify(te));if(n.title.text="Ages Ranges",n.data.columns=Zt(e.edades_rango),B.value[t].optionsRangos=n,Object.keys(e.diciplines).length)for(const a in B.value[t].diciplines){let e=JSON.parse(JSON.stringify(te));e.title.text="Gender",e.data.columns=Kt(B.value[t].diciplines[a].members),B.value[t].diciplines[a].optionsGenders=e;let s=JSON.parse(JSON.stringify(ee));s.title.text="Age",s.data.columns=Qt(B.value[t].diciplines[a].edades),B.value[t].diciplines[a].optionsEdades=s}}return B.value})),J=p((()=>c.segunMembresia));p((()=>{let t=[];const e=B.value;for(const s in e)t.push({label:e[s].membership_name,value:e[s].membership_name});return t})),p((()=>{let t=0;const e=R.value;for(const s in e)t+=e[s].conteo_suscripciones;return t})),d(null),d(!0);const $=(t,e)=>{let s=[];return t.forEach((t=>{s.push(t.data)})),s.filter((t=>t?t.user.name.match(new RegExp(e,"i"))||t.user.email.match(new RegExp(e,"i"))||t.fecha_vencimiento.match(new RegExp(e,"i"))||t.membership.name.match(new RegExp(e,"i")):t))},L=d(null);return(e,s)=>{const l=Ht,n=t,a=A("Vcard"),i=I,o=M;return f(),b(o,null,{default:x((()=>[h(" Content Wrapper "),y("div",se,[y("div",le,[h(' <div class="is-2 column">\n          <V-Field class="w-100">\n            <V-Control class="input-select">\n              <label for="fecha_pago">\n                <p><small>Status</small></p>\n              </label>\n              <div class="select">\n                <select v-model="statusSelect" @change="changeStado">\n                  <option\n\n                    v-for="(item, key) in estados"\n                    :key="`estados-${key}`"\n                    :value="item.value"\n                  >\n                    {{ item.name }}\n                  </option>\n                </select>\n              </div>\n            </V-Control>\n          </V-Field>\n        </div> '),h(' <V-Field class="is-6 column">\n          <label for="fecha_pago">\n            <p><small>Por definir</small></p>\n          </label>\n          <V-Control icon="feather:search">\n            <input\n              v-model="filters"\n              class="input custom-text-filter"\n              placeholder="Search..."\n              @keyup.enter="filtersSearch"\n            />\n          </V-Control>\n        </V-Field> '),h(' <div class="is-2 column">\n          \n        </div> '),h(' <div class="column is-4">\n          <label for="fecha_pago">\n            <p><small>Payment Date</small></p>\n          </label>\n          <input\n            type="date"\n            @change="changeStado"\n            id="fecha_pago"\n            class="input custom-text-filter"\n            v-model="fecha_pago"\n          />\n        </div> '),h(' <VCard\n          v-if="suscripcionPayment.dataNew.data1.length"\n          class="column is-12 mb-4"\n        >\n          <V-BillboardJS\n            :options="suscripcionPayment.options"\n            @ready="suscripcionPayment.onReady"\n          />\n        </VCard> '),h(' <div class="column columns is-12 mb-4" style="overflow: scroll">\n          <div\n            class="column is-4 mb-4"\n            v-for="(item, key) in membresiasGraficas"\n            :key="`ii-${key}`"\n          >\n            <VCard\n              @click="selectMembresia = item.membership_name"\n              :color="\n                item.membership_name == selectMembresia ? \'info\' : undefined\n              "\n            >\n              <p class="title is-5">{{ item.membership_name }}</p>\n            </VCard>\n          </div>\n        </div> '),y("div",ne,[Object.keys(k(c)).length>0?(f(),b(l,{key:0,"data-stripe":k(c),defer:!k(c)},null,8,["data-stripe","defer"])):h("v-if",!0),y("div",ae,[(f(!0),b(g,null,_(k(J),((t,e)=>(f(),b("div",{key:`segunmenrecvia${e}`},[y(n,{class:"h-100 btn-card",onClick:t=>{return s=e,void(L.value=J.value[s]);var s}},{default:x((()=>[y("p",null,C(t.membership.name),1)])),_:2},1032,["onClick"])])))),128))]),L.value?(f(),b(a,{key:1,class:"column is-12"},{default:x((()=>[y("p",null,C(L.value.membership.name),1),y("p",null,C(L.value.count),1),ie,h(' <subscription-list\n              :colgrid="\'is-6\'"\n              :suscripciones="datosDeMembresia.data"\n              :filter-local="true"\n            /> ')])),_:1})):h("v-if",!0),(f(!0),b(g,null,_(k(S),((t,e)=>(f(),b("div",{key:`suscripcion-${e}`,class:"column is-6"},[y(n,null,{default:x((()=>[y("p",oe,C(e),1),D(y("input",{type:"text","onUpdate:modelValue":e=>t.search=e,class:"input mb-4",placeholder:"Search"},null,8,["onUpdate:modelValue"]),[[O,t.search]]),y(i,{colgrid:"is-6",suscripciones:$(t.data,t.search),"filter-local":!0},null,8,["suscripciones"])])),_:2},1024)])))),128))]),h(' <VCard class="mb-4">\n          <p class="title is-5">{{ conteo }} Subscriptions</p>\n        </VCard>\n        <VCard\n          class="column columns is-multiline is-12 mb-6"\n          v-for="(item, key) in membresiasGraficas"\n          :key="`ii-${key}`"\n        >\n          <div class="column columns is-multiline is-12 mb-4">\n            <div class="column is-12 d-flex justify-content-between">\n              <p class="title is-5">\n                {{ item.membership_name }} ({{ item.conteo_suscripciones }}\n                subscriptions)\n              </p>\n            </div>\n            <div class="column is-4">\n              <VCard>\n                <V-BillboardJS :options="item.optionsGender" />\n              </VCard>\n            </div>\n\n            <div class="column is-4">\n              <VCard>\n                <V-BillboardJS :options="item.optionsRangos" />\n              </VCard>\n            </div>\n            <div\n              class="column is-12"\n              v-if="Object.keys(item.diciplines).length"\n            >\n              <p class="title is-6 text-center">Diciplines</p>\n              <VCard>\n                <div class="columns is-multiline">\n                  <table class="table is-hoverable is-fullwidth">\n                    <thead>\n                      <tr>\n                        <th scope="col">Dicipline</th>\n                        <th scope="col">Members count</th>\n                        <th scope="col">Male</th>\n                        <th scope="col">Female</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr\n                        v-for="(dicipline, e) in item.diciplines"\n                        :key="`iy-${e}`"\n                      >\n                        <td>{{ dicipline.dicipline_name }}</td>\n                        <td>{{ dicipline.numero_miembros }}</td>\n                        <td>{{ dicipline.members.Male }}</td>\n                        <td>{{ dicipline.members.Female }}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </VCard>\n            </div>\n          </div>\n        </VCard> ')])])])),_:1})}}});export default ce;
