import{_ as e}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.63737147.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.471307b0.js";import{_ as a}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.82c0c51e.js";import{_ as s}from"./V-IconButton.vue_vue&type=script&setup=true&lang.943072cb.js";import{_ as l}from"./V-Tag.vue_vue&type=script&setup=true&lang.8ff326ca.js";import{_ as n}from"./V-Button.vue_vue&type=script&setup=true&lang.667d2417.js";import{_ as r}from"./V-Card.vue_vue&type=script&setup=true&lang.1618d39e.js";import{d as i,H as m,c as o,o as c,i as d,z as u,j as p,D as b,k as f,F as h,G as v,T as g,E as y,L as _,a4 as k,r as x,w as V,h as C,ab as w,Q as P,R as j}from"./vendor.512b7acb.js";import{_ as B,a as D}from"./search-4-dark.fb3880a5.js";import{b as T}from"./index.fa2868cb.js";const A={key:0},M={class:"d-flex justify-content-between mb-4"},S={class:"d-flex align-items-center"},F={class:"ml-5"},L={class:"title is-5 is-narrow mb-1"},$=f("p",null,"Member",-1),z={class:"title is-6 is-narrow"},E={key:0,class:"text-center mb-4"},I=f("p",null,"last payment attempt",-1),R={key:0},q={key:1},N={class:"d-flex justify-content-center"},O=y(" Update "),W=y(" Ckeck-in "),G={key:1},H=f("p",null,"No hay miembro seleccionado",-1);var Q=i({expose:[],props:{status:{type:Boolean},member:{type:Object}},emits:["closeMemberCard"],setup(e,{emit:a}){const i=e;m((()=>{}));const y=o((()=>{let e=u(i.member.membership_members.payments[0].created_at),t=u();return u.duration(t.diff(e))._days})),_=o((()=>null==i.member.membership_members?"":null==i.member.membership_members||i.member.membership_members.payments[0].status?"info":"danger"));return(a,m)=>{const o=t,k=s,x=l,V=n,C=r;return c(),d(g,{name:"fade-slow"},{default:p((()=>[e.status?(c(),d(C,{key:0,id:"sidebarMember",color:b(_),class:"column is-6"},{default:p((()=>[e.member?(c(),d("div",A,[f("div",M,[f("div",S,[f(o,{picture:e.member.photo,color:void 0,initials:"AR",size:"sm"},null,8,["picture"]),f("div",F,[f("h1",L,h(e.member.name)+" "+h(e.member.second_name)+" "+h(e.member.last_name),1),$,f("h2",z,"# "+h(e.member.id),1)])]),f("div",null,[f(k,{color:"danger",onClick:m[1]||(m[1]=e=>a.$emit("closeMemberCard")),style:{background:"transparent"},light:"",raised:"",circle:"",icon:"feather:x"})])]),null==e.member.membership_members||e.member.membership_members.payments[0].status?v("v-if",!0):(c(),d("div",E,[f(x,{color:"white",label:"PAYMENT",class:"mb-3"}),I,b(y)>0?(c(),d("p",R,h(b(y))+" days past due",1)):(c(),d("p",q,h(b(u)(i.member.membership_members.payments[0].created_at).format("yy/mm/d hh:mm:ss")),1))])),f("div",N,[f(V,{to:{name:"members-profile",query:{id:e.member.id}},color:"primary",class:"m-3 button-custom",icon:"fas fa-pen"},{default:p((()=>[O])),_:1},8,["to"]),f(V,{color:"warning",class:"m-3 button-custom",icon:"fas fa-clock"},{default:p((()=>[W])),_:1})])])):(c(),d("div",G,[H]))])),_:1},8,["color"])):v("v-if",!0)])),_:1})}}});const U={class:"page-content-inner"},Y={class:"flex-list-wrapper flex-list-v1"},J=f("img",{class:"light-image",src:B,alt:""},null,-1),K=f("img",{class:"dark-image",src:D,alt:""},null,-1),X={class:"flex-table"},Z=f("span",{class:"is-grow"},"Member",-1),ee=f("span",null,"Email",-1),te=f("span",null,"Membership Type",-1),ae=f("span",null,"Trainer",-1),se=f("span",null,"Phone #",-1),le=f("span",null,"Status",-1),ne=f("span",null,"Card Default",-1),re=f("span",{class:"cell-end"},"Actions",-1),ie={class:"flex-list-inner"},me={class:"item-name dark-inverted"},oe={class:"flex-table-cell","data-th":"member-id"},ce={class:"light-text"},de={class:"flex-table-cell","data-th":"Membership Type"},ue={key:0,class:"light-text"},pe={class:"flex-table-cell is-media is-grow","data-th":"Trainer"},be={key:1,class:"light-text dark-inverted ml-2"},fe={class:"flex-table-cell","data-th":"Phone"},he={class:"light-text"},ve={class:"flex-table-cell","data-th":"Status"},ge={key:0,class:"flex-table-cell"},ye={class:"mr-3"},_e={class:"flex-table-cell cell-end","data-th":"Actions"};var ke=i({expose:[],props:{members:{type:Array,required:!0},name:{type:String,default:"Item"},paginationData:{type:Object,default:{itemPerPage:15,totalItems:1,currentPage:1,maxLinksDisplayed:7}},filters:{type:String}},emits:["filterChange"],setup(s,{emit:l}){const n=s;_(),k(),x(""),x("all"),x({});const r=o((()=>n.filters?n.members.filter((e=>e.name.match(new RegExp(n.filters,"i"))||e.last_name.match(new RegExp(n.filters,"i"))||e.id==n.filters||e.phone==n.filters||e.personal_identifications==n.filters)):n.members)),i=x({status:!1,member:null}),m=()=>{i.value.status=!1,i.value.member=null},u=(e,t)=>e.substr(0,1)+t.substr(0,1);return V((()=>n.members),(()=>{})),(s,l)=>{const o=e,g=t,_=C("router-link"),k=a,x=Q;return c(),d("div",null,[f("div",U,[f("div",Y,[v(' <div class="d-flex mb-5 mt-5">\n        <V-Field addons>\n          <V-Control>\n            <V-Button \n              :color="filterDate == \'all\' ? \'primary\':undefined"\n              @click="filterChange(\'all\')" \n              rounded > All </V-Button>\n          </V-Control>\n          <V-Control>\n            <V-Button \n              :color="filterDate == \'today\' ? \'primary\':undefined" \n              @click="filterChange(\'today\')" \n              rounded > Today </V-Button>\n          </V-Control>\n          <V-Control>\n            <V-Button \n              :color="filterDate == \'week\' ? \'primary\':undefined" \n              @click="filterChange(\'week\')"\n              rounded > Last Week </V-Button>\n          </V-Control>\n          <V-Control>\n            <V-Button\n              :color="filterDate == \'month\' ? \'primary\':undefined"\n              @click="filterChange(\'month\')"\n              rounded> Last Month </V-Button>\n          </V-Control>\n        </V-Field> \n        <V-Field class="w-90 mx-6">\n          <V-Control icon="feather:search">\n            <input\n              v-model="filters"\n              class="input custom-text-filter"\n              placeholder="Search..."\n              @keyup="filtersSearch"\n            />\n          </V-Control>\n        </V-Field>\n        <V-Buttons class="ml-0">\n        <V-Button \n            :to="{ name: \'members-create\' }"\n            color="primary" \n            icon="fas fa-plus" \n            elevated>\n            Add Members\n          </V-Button>\n        </V-Buttons>\n      </div> '),v("List Empty Search Placeholder "),f(o,{class:[0!==b(r).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:p((()=>[J,K])),_:1},8,["class"]),f("div",X,[v("Table header"),0!==b(r).length?(c(),d("div",{key:0,class:["flex-table-header",[0===b(r).length&&"is-hidden"]]},[Z,ee,te,ae,se,le,ne,re],2)):v("v-if",!0),f("div",ie,[f(w,{name:"list",tag:"div"},{default:p((()=>[v("Table item"),(c(!0),d(P,null,j(b(r),(e=>(c(),d("div",{key:`${n.name}-${e.id}`,class:["flex-table-item cursor-pointer",e.isSolvente?"":"bg-danger"]},[f("div",{onClick:e=>{},class:"flex-table-cell is-media is-grow"},[f(g,{picture:`${b(T)}storage/${e.photo}`,color:"primary",initials:u(e.name,e.last_name),size:"medium"},null,8,["picture","initials"]),v(' <V-PlaceloadAvatar size="medium" /> '),f("div",null,[f("span",me,[f("h3",null,[f(_,{to:{name:"members-profile",query:{id:e.id}},style:{color:"white"}},{default:p((()=>[y(h(e.name)+" "+h(e.second_name)+" "+h(e.last_name),1)])),_:2},1032,["to"])])]),v(' <span class="item-meta">\n                      <span>{{ item.position }}</span>\n                    </span> ')])],8,["onClick"]),f("div",oe,[f("span",ce,h(e.email),1)]),f("div",de,[e.membership_members?(c(),d("span",ue,h(e.membership_members.membership.name),1)):v("v-if",!0)]),f("div",pe,[null!=e.trainer?(c(),d(g,{key:0,picture:`${b(T)}storage/${e.trainer.photo}`,color:"h-green",initials:u(e.trainer.name,e.trainer.last_name),size:"medium"},null,8,["picture","initials"])):v("v-if",!0),null!=e.trainer?(c(),d("span",be,h(e.trainer.name)+" "+h(e.trainer.second_name)+" "+h(e.trainer.last_name),1)):v("v-if",!0)]),f("div",fe,[f("span",he,h(e.phone),1)]),f("div",ve,[f("span",{class:["tag is-rounded",null!=e.membership_members?"is-success":""]},h(null!=e.membership_members?"Active":"Inactive"),3)]),e.user?(c(),d("div",ge,[f("p",ye,h(e.user.pm_type),1),f("p",null,"****"+h(e.user.pm_last_four),1)])):v("v-if",!0),v(' <div class="flex-table-cell" data-th="Relations">\n                  <V-AvatarStack\n                    :avatars="item.contacts"\n                    size="small"\n                    :limit="3"\n                    class="is-pushed-mobile"\n                  />\n                </div> '),f("div",_e,[f(k,{"id-member":e.id,member:e},null,8,["id-member","member"])])],2)))),128))])),_:1})])]),v("Table Pagination"),v(' <V-FlexPagination\n          v-if="filteredData.length > 0"\n          :item-per-page="props.paginationData.itemPerPage ?? 15"\n          :total-items="props.paginationData.totalItems ?? 0"\n          :current-page="props.paginationData.currentPage"\n          :max-links-displayed="props.paginationData.maxLinksDisplayed"\n        /> ')])]),f(x,{status:i.value.status,member:i.value.member,onCloseMemberCard:m},null,8,["status","member"])])}}});export{ke as _};
