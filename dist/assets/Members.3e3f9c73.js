var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))i.call(a,t)&&r(e,t,a[t]);return e};import{A as d,n as o,g as p,s as c,a as u,c as m,p as y,d as h}from"./index.8fcbf188.js";import{v as b}from"./Discounts.b4f07294.js";import{g as I}from"./Memberships.99ba0cd0.js";import{r as v,b as f,z as _,y as g}from"./vendor.ce9b165f.js";const L=v([]),M=v([]),D=v(null),C=v(null);v(null),v(!1);const q=v(!1);v(null);const A=v(null),P=v(null),x=v(null),E=v(null),w=v([]),F=v({name:"category",values:["Adult","Minor","Prospect"],model:"Adult",required:!0}),O=f((()=>F.value.model)),$=v([{typeInput:"switchEventChangeInput",name:"mismatarjeta",values:["","Pay with the same card"],model:!0,required:!1,class:"is-12",isLabel:!0}]),N=v([{typeInput:"switchEventChange",name:"select_type",values:["Individual","Company"],model:!1,required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual","Company"]},{typeInput:"file",name:"photo",placeholder:"Member Picture",model:"",required:!1,class:"is-12 d-flex justify-content-end",isLabel:!0,categories:["Adult","Minor"],typeMember:["Individual","Company"],camera:!0,modalName:"Miembro"},{typeInput:"text",name:"company_name",placeholder:"Company Name",model:"",class:"is-12",isLabel:!0,categories:["Adult"],typeMember:["Company"]},{typeInput:"text",name:"name",placeholder:"First Name",model:"",required:!0,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"second_name",placeholder:"Middle Name",model:"",required:!1,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"last_name",placeholder:"Last Name",model:"",required:!0,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"bar_code",placeholder:"Client ID Card",model:"",required:!0,class:"is-6",isLabel:!0,categories:["Adult","Minor"],typeMember:["Individual","Company"],hasError:!1,keyUp:async(e,a)=>{a.model.length>=9&&await d.get(`searchmember/${a.model}`).then((e=>{e.data.status?(a.hasError=!0,o.error("Barcode already exists")):a.hasError=!1})).catch((e=>{a.hasError=!1}))}},{typeInput:"date",name:"date_birth",placeholder:"Date of Birth",model:"",required:!0,class:"Prospect"==O.value?"is-6":"is-3",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"],maxLength:10,maxDate:_().subtract(2,"years").format("YYYY-MM-DD"),keyUp:(e,a)=>{const t=["YYYY-MM-DD","YYYY/MM/DD"];a.model.length>=10&&(_(a.model,t,!0).isValid()?a.hasError=!1:(o.error("Date invalid"),a.hasError=!0))}},{typeInput:"select",name:"gender",placeholder:"Gender",values:["Male","Female"],model:"",required:!0,class:"Prospect"==O.value?"is-6":"is-3",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"select",name:"goverment_id",placeholder:"Goverment ID Type",values:["Florida Driver License","Other State ID","Florida ID Card","Passport","Foreing Country ID","Florida Personal Identification Card","Florida Learner License"],model:"",required:!1,class:"is-4",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"text",name:"personal_identifications",placeholder:"ID #",model:"",required:!1,class:"is-8",isLabel:!0,categories:["Adult","Prospect","Minor"],typeMember:["Individual","Company"]},{typeInput:"text",name:"address",placeholder:"Address",model:"",required:!0,class:"is-12",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"city_id",placeholder:"City",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"selectData",name:"state_id",placeholder:"State",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"number",name:"postal_code",placeholder:"Postal Code",required:!0,model:"",class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"country_id",placeholder:"Country",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"email",name:"email",placeholder:"Email",model:"",required:!0,class:"is-6",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"number",name:"phone",placeholder:"Phone Number",model:"",required:!0,class:"is-6",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"switch",name:"leo_vet_fr",values:["","LEO / VET / FR"],model:!1,default:!1,required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual"]},{typeInput:"number",name:"id_leo_vet_fr",placeholder:"LEO / VET / FR ID#",model:"",required:!1,class:"is-6",isLabel:!0,categories:["Adult"],typeMember:["Individual"]},{typeInput:"hidden",name:"is_family",placeholder:"",model:0,class:"is-6",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]},{typeInput:"hidden",name:"principal_family",placeholder:"LEO / VET / FR ID#",model:1,class:"is-6",isLabel:!0,categories:["Adult","Minor","Prospect"],typeMember:["Individual","Company"]}]),S=v([{typeInput:"switchEventChangeInput",typeInputDefault:"switchEventChangeInput",name:"category",values:["Adult","Minor"],class:"is-6",isLabel:!0,model:!1,category:["Adult","Minor"]},{typeInput:"file",typeInputDefault:"file",name:"photo",placeholder:"Member Picture",class:"is-6 d-flex justify-content-end",isLabel:!0,model:"",required:!1,category:["Adult","Minor"],camera:!0,modalName:"Familiar"},{typeInput:"select",typeInputDefault:"select",name:"relationships",placeholder:"Relationship",values:["Son","Daughter","Wife","Husband","Father","Mother","Brother","Sister","Other"],model:"",class:"is-6",isLabel:!0,required:!0,category:["Adult","Minor"]},{typeInput:"text",typeInputDefault:"text",name:"bar_code",placeholder:"Client ID Card",model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"date",typeInputDefault:"date",name:"date_birth",placeholder:"Date of Birth",model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult","Minor"],maxDate:_().subtract(2,"years").format("YYYY-MM-DD")},{typeInput:"select",typeInputDefault:"select",name:"gender",placeholder:"Gender",values:["Male","Female"],model:"",class:"is-6",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"text",typeInputDefault:"text",name:"name",placeholder:"First Name",model:"",class:"is-4",isLabel:!0,required:!0,category:["Adult","Minor"]},{typeInput:"text",typeInputDefault:"text",name:"second_name",placeholder:"Middle Name",model:"",class:"is-4",isLabel:!0,required:!1,category:["Adult","Minor"]},{typeInput:"text",typeInputDefault:"text",name:"last_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0,required:!0,category:["Adult","Minor"]},{typeInput:"select",typeInputDefault:"select",name:"goverment_id",placeholder:"Goverment ID Type",values:["Florida Driver License","Other State ID","Florida ID Card","Passport","Foreing Country ID","Florida Personal Identification Card","Florida Learner License"],model:"",class:"is-4",isLabel:!0,required:!1,category:["Adult"]},{typeInput:"number",typeInputDefault:"number",name:"personal_identifications",placeholder:"ID #",model:"",class:"is-8",isLabel:!0,required:!1,category:["Adult"]},{typeInput:"switchEventChangeInput",typeInputDefault:"switchEventChangeInput",name:"misma_direccion",values:["","Use the same address as the parent member"],model:!1,required:!1,class:"is-12",isLabel:!0,category:["Adult"]},{typeInput:"text",typeInputDefault:"text",name:"address",placeholder:"Address",model:"",class:"is-12",isLabel:!0,required:!0,category:["Adult"]},{typeInput:"selectData",typeInputDefault:"selectData",name:"city_id",placeholder:"City",model:"",values:[""],class:"is-3",isLabel:!0,required:!0,category:["Adult"],typeMember:["Individual","Company"]},{typeInput:"selectData",typeInputDefault:"selectData",name:"state_id",placeholder:"State",model:"",values:[""],class:"is-3",isLabel:!0,required:!0,category:["Adult"],typeMember:["Individual","Company"]},{typeInput:"number",typeInputDefault:"number",name:"postal_code",placeholder:"Postal Code",model:"",class:"is-3",isLabel:!0,required:!0,category:["Adult"],typeMember:["Individual","Company"]},{typeInput:"selectData",typeInputDefault:"selectData",name:"country_id",placeholder:"Country",model:"",values:[""],class:"is-3",isLabel:!0,required:!0,category:["Adult"],typeMember:["Individual","Company"]},{typeInput:"email",typeInputDefault:"email",name:"email",placeholder:"Email",model:"",class:"is-6",isLabel:!0,required:!0,category:["Adult"]},{typeInput:"number",typeInputDefault:"number",name:"phone",placeholder:"Phone Number",model:"",class:"is-6",isLabel:!0,required:!0,category:["Adult"]},{typeInput:"checkbox",typeInputDefault:"checkbox",name:"leo_vet_fr",placeholder:"LEO / VET / FR",model:[],required:!1,class:"is-6",isLabel:!0,category:["Adult"],typeMember:["Individual"]},{typeInput:"number",typeInputDefault:"number",name:"id_leo_vet_fr",placeholder:"LEO / VET / FR ID#",model:"",required:!1,class:"is-6",isLabel:!0,category:["Adult"],typeMember:["Individual"]},{typeInput:"hidden",typeInputDefault:"hidden",name:"is_family",placeholder:"",model:1,class:"is-6",isLabel:!0,category:["Adult","Minor"],typeMember:["Individual","Company"]},{typeInput:"hidden",typeInputDefault:"hidden",name:"principal_family",placeholder:"",model:0,class:"is-6",isLabel:!0,category:["Adult","Minor"],typeMember:["Individual","Company"]}]),T=f((()=>S.value)),Y=v([{typeInput:"checkboxGroup",name:"notifications",text:"When you ask clients to opt in, remind them that we'll still send receipts and anything critical",values:[{name:"notifications_types_id",value:1,placeholder:"Account Information",values:[{placeholder:"Email",name:"email",model:["email"]},{placeholder:"SMS",name:"sms",model:["sms"]}]},{name:"notifications_types_id",value:2,placeholder:"Reminders and schedule changes",values:[{placeholder:"Email",name:"email",model:["email"]},{placeholder:"SMS",name:"sms",model:["sms"]}]},{name:"notifications_types_id",value:3,placeholder:"News and promos",values:[{placeholder:"Email",name:"email",model:["email"]},{placeholder:"SMS",name:"sms",model:["sms"]}]}]}]),j=g([{typeInput:"switchEventChangeInput",name:"recurrence",values:["","Recurrence"],placeholder:"Recurrence",model:!0,disabled:!1,class:"is-12",isLabel:!0},{typeInput:"selectDataActionChangeInput",name:"memberships_id",placeholder:"Membership Type",values:[],model:"",disabled:!1,required:!0,class:"is-12",isLabel:!0},{typeInput:"radioBoxsInput",name:"recurrences_id",placeholder:"Recurrence & Amount",values:[],model:"",disabled:!1,required:!0,class:"is-12",isLabel:!0,filterName:"descriptions",otros:"amount"},{typeInput:"hidden",name:"amount",placeholder:"Amount",required:!0,model:"",disabled:!1,class:"is-12",isLabel:!0},{typeInput:"selectDataActionChangeInput",name:"locations_id",placeholder:"Locations Sale",required:!0,values:[],model:"",disabled:!1,class:"is-4",isLabel:!0},{typeInput:"checkboxGroupSimpleEventInput",name:"diciplines",text:"Disciplines",required:!0,model:[],values:[],disabled:!1,class:"is-12",isLabel:!0},{typeInput:"number",name:"initiation_fee",required:!0,placeholder:"Initiation fee",model:[],disabled:!0,class:"is-4",isLabel:!0},{typeInput:"checkbox",name:"is_initiation_fee",placeholder:"No initiation fee",model:[],disabled:!1,class:"is-4"},{typeInput:"selectDataActionChangeInput",name:"discount",placeholder:"Discount",values:[],data:null,model:"",disabled:!1,class:"is-6",isLabel:!0},{typeInput:"selectData",name:"staff_id",placeholder:"Trainer",values:[],model:"",disabled:!1,required:!1,class:"is-12"}]),R=v([{typeInput:"textarea",name:"notes",placeholder:"Notes",model:"",disabled:!1,class:"is-12",isLabel:!0}]),G=v([{typeInput:"file",name:"parent_photo",placeholder:"Parent/Guardian Picture",model:"",class:"is-12 d-flex justify-content-end",isLabel:!0,required:!0,camera:!0},{typeInput:"select",name:"parent_relationships",placeholder:"Parent Relationships",values:["Sand","Dother","Wife","Girlfriend","Boyfriend","Father","Mother"],model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"parent_name",placeholder:"First Name",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"parent_second_name",placeholder:"Middle Name",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"parent_last_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"select",name:"parent_goverment_id",placeholder:"Goverment ID Type",values:["Florida Driver License","Other State ID","Florida ID Card","Passport","Foreing Country ID","Florida Personal Identification Card","Florida Learner License"],model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"number",name:"parent_personal_identifications",placeholder:"ID #",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"text",name:"address",placeholder:"Address",model:"",required:!0,class:"is-12",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"city_id",placeholder:"City",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"selectData",name:"state_id",placeholder:"State",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"number",name:"postal_code",placeholder:"Postal Code",required:!0,model:"",class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"]},{typeInput:"selectData",name:"country_id",placeholder:"Country",model:"",required:!0,values:[""],class:"is-3",isLabel:!0,categories:["Adult","Prospect"],typeMember:["Individual","Company"],filterOptionText:function(e){return e.name}},{typeInput:"email",name:"parent_email",placeholder:"Email",model:"",class:"is-4",isLabel:!0,required:!0},{typeInput:"number",name:"parent_phone",placeholder:"Phone Number",model:"",class:"is-4",isLabel:!0,required:!0}]),k=v([{typeInput:"text",name:"first_name",placeholder:"First Name",model:"",class:"is-4",isLabel:!0},{typeInput:"text",name:"middle_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0},{typeInput:"text",name:"last_name",placeholder:"Last Name",model:"",class:"is-4",isLabel:!0},{typeInput:"email",name:"email",placeholder:"Email",model:"",class:"is-8",isLabel:!0},{typeInput:"number",name:"phone_number",placeholder:"Phone",model:"",class:"is-4",isLabel:!0},{typeInput:"text",name:"address",placeholder:"Address",model:"",class:"is-8",isLabel:!0},{typeInput:"select",name:"relationship",placeholder:"Relationship",values:["Sand","Dother","Wife","Girlfriend","Boyfriend","Father","Mother"],model:"",class:"is-4",isLabel:!0,required:!1}]),B=g([]),V=v(),W=async e=>d.post("getPresupuesto",e),U=async(e,a=1)=>d.post("recurrences_select",{memberships_id:e,is_recurrence:a}),z=async e=>{const a=await d.get(`members/${e}/edit`);return V.value=a.data,a},H=async e=>await d.post(`members/updatePersonalInformation/${V.value.id}`,e),J=async e=>await d.get(`members/pause_membership/${ie.value.id}`),K=async e=>d.get(`searchmember/${e}`),Q=async()=>await d.post(`members/cancelMembershipMember/${ie.value.id}`),X=async e=>await d.post(`members/contactEmergencystore/${V.value.id}`,e),Z=async(e,a)=>await d.post(`paymentCash/${e}`,a),ee=async e=>await d.put(`members/guardian/${V.value.id}`,e),ae=async e=>await d.post("newMembershipMember",e),te=async(e,a)=>await d.post(`sign/${a}`,{sign:e}),le=async e=>await d.get(`members/cards/${e}`),se=async e=>{const a=await d.get(`members/list_invoices/${e}`);return V.value.invoices=a.data,a},ie=f((()=>V.value.membership_members)),re=f((()=>V.value.membership_members_history)),ne=f((()=>V.value.families_children)),de=f((()=>V.value.family_parent?V.value.family_parent.pincipal_family:null));f((()=>V.value.emergency));const oe=f((()=>V.value.access_day)),pe=f((()=>ie.value.payments));f((()=>{let e=ie.value.created_at;return pe.value[0].status&&(e=pe.value[0].created_at),_(e).add(ie.value.recurrence.recurrence,"d")}));const ce=f((()=>V.value.isSolvente)),ue=f((()=>V.value.sinMembresia)),me=function(e){const a=this.values.find((e=>e.id==this.model));c(e,"initiation_fee",a.initiation_fee);const t=[];a.locations.forEach((e=>{1==e.sale&&t.push(e.company_locations)})),u(e,"locations_id",t);let l=1;p(e,"recurrence").model||(l=0),"Prospect"==O.value&&(l=0),U(this.model,l).then((a=>{p(e,"recurrences_id").values=a.data})),I(this.model).then((a=>{a.data.length&&(u(e,"diciplines",a.data),p(e,"diciplines").values.push({id:0,name:"All"}));const t=this.values.find((e=>e.id==this.model)).diciplines_number;p(e,"diciplines").required=0!=t,be(e)}))},ye=function(e){c(e,"amount",this.values.find((e=>e.id==this.model)).amount)},he=function(e){},be=e=>{1==m(e,"memberships_id").all_diciplines?p(e,"diciplines").values.forEach((a=>{p(e,"diciplines").model.push(a.id)})):p(e,"diciplines").model=[]},Ie=function(e){""!=this.model?b(this.values.find((e=>e.id==this.model)).code,"membership").then((e=>{this.data=e.data,o.success("Discuount valid")})).catch((e=>{o.error(e.response.data),this.model=""})):this.data=null},ve=function(e){return`${e.name}`},fe=function(e){return e.second_name?`${e.name} ${e.second_name} ${e.last_name}`:`${e.name}  ${e.last_name}`},_e=function(e,a,t){const l=m(a,"memberships_id").diciplines_number;if(l>0&&(l<=this.model.length&&(e.returnValue=!1),l==this.model.length))if(this.model.includes(t)){const e=this.model.findIndex((e=>e==t)),a=[];this.model.forEach(((t,l)=>{e!=l&&a.push(t)})),this.model=a}else o.error("You must select a limit of "+l+" diciplines")},ge=function(e){const a=p(e,"memberships_id").model;if(""!=a){let t=null;t=this.model?0:1,"Prospect"==O.value&&(t=0),U(a,t).then((a=>{p(e,"recurrences_id").values=a.data}))}},Le=e=>{p(e,"memberships_id").change=me,p(e,"recurrences_id").change=ye,p(e,"locations_id").change=he,p(e,"discount").change=Ie,p(e,"discount").filter=ve,p(e,"staff_id").filterOptionText=fe,p(e,"diciplines").change=function(e,a){},p(e,"recurrence").change=ge,p(e,"diciplines").click=_e},Me=async e=>{const a=new FormData,t=y(e.member);h(a,t);for(let r=0;r<e.contact.length;r++){const t=e.contact[r];for(const e in t)a.append(`notifications[${r}][${e}]`,t[e])}const l=y(e.membresia);for(const r in l)if("diciplines"==r){const e=l[r];for(let t=0;t<e.length;++t)a.append("diciplines[]",e[t])}else a.append(r,l[r]);a.append("total",e.total),a.append("payment_type_id",3);const s=y(e.categoriesMembers,{array:!1});if(console.log(s),"Minor"==s.category){a.append("address",p(G.value,"address").model),a.append("postal_code",p(G.value,"postal_code").model),a.append("city_id",p(G.value,"city_id").model),a.append("country_id",p(G.value,"country_id").model),a.append("state_id",p(G.value,"state_id").model),a.append("email",p(G.value,"parent_email").model);const e=y(G.value);for(const t in e)a.append(`guardian[${t}]`,e[t])}for(const r in s)a.append(r,s[r]);const i=y(e.notasInput);for(const r in i)a.append(r,i[r]);a.append("presupuesto_id",e.presupuesto_id),E.value&&a.append("id_principal",E.value);return await(async e=>{const a=await d.post("members",e);return e.value=a.data.member,a})(a).then((a=>(D.value=a.data.id,C.value=a.data.membership_members_id,0==p(e.member,"is_family").model&&(E.value=D.value),a))).catch((e=>{for(const a in e.response.data.errores)e.response.data.errores[a].forEach((e=>{o.error(`${a}: ${e}`)}));return e}))},De=async(e,l)=>{if(""==p(l,"email").model)return void o.error("Email is required");const s=n({},{memberships_id:p(i=e,"memberships_id").model,recurrences_id:p(i,"recurrences_id").model,is_initiation_fee:0==p(i,"is_initiation_fee").model.length,discount:p(i,"discount").data?p(i,"discount").data.code:null});var i;s.email=p(l,"email")?p(l,"email").model:null,s.leo_vet_fr=p(l,"leo_vet_fr")?p(l,"leo_vet_fr").model:null,W(s).then((s=>{var i;w.value.push((i=n({},s.data),a(i,t({member:l,membresia:e}))))})).catch((e=>{for(const a in e.response.data)"string"==typeof e.response.data[a]||e.response.data[a].forEach((e=>{o.error(`${a}: ${e}`)}))}))};export{ue as A,L as B,M as C,A as D,P as E,B as F,x as G,O as H,E as I,Me as J,$ as K,w as L,De as M,F as N,R as O,D as P,C as Q,Y as R,K as S,ie as a,j as b,N as c,q as d,Le as e,Q as f,le as g,W as h,ce as i,ae as j,te as k,J as l,V as m,de as n,ne as o,H as p,G as q,ee as r,Z as s,k as t,X as u,oe as v,se as w,re as x,T as y,z};
