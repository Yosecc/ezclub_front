import{_ as e}from"./V-Control.63a8a239.js";import{_ as a}from"./V-Field.vue_vue&type=script&setup=true&lang.b3ed284d.js";import{_ as s}from"./V-Placeload.28979271.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.cc6d2b95.js";import{_ as l}from"./V-Loader.vue_vue&type=script&setup=true&lang.069747cb.js";import{_ as u}from"./V-Dropdown.f5015e73.js";import{d as r,r as o,o as i,w as n,h as p,i as c,ad as v,k as d,l as m,a2 as f,F as b,O as g,P as _,W as y,Z as j,R as h,S as x,H as V,_ as k,a0 as A,G as S}from"./vendor.4454b83d.js";import{G as P,H as C,I as M}from"./Members.3fd2b1cd.js";import{n as w,A as L}from"./index.2a180327.js";import{_ as q}from"./MembersListV2.vue_vue&type=style&index=0&lang.08b01e4c.js";import{_ as D}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.7652407d.js";import{p as F}from"./sidebarLayoutState.66d5e66f.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.62703a94.js";import"./useDropdown.659338b4.js";import"./Diciplines.e41eea6e.js";import"./Discounts.9f4119ef.js";import"./Memberships.82a01d2e.js";import"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.9cf4b304.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.d100ee36.js";import"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.3eddd6ce.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.f1d0c6ac.js";import"./V-FlexPagination.vue_vue&type=script&setup=true&lang.2b60651d.js";import"./search-4-dark.12f0bf0d.js";import"./Subscriptions.1dfae00a.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.1e73ba40.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.fe67fad1.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.260ce9ba.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.ef7028a7.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.1df2020f.js";import"./V-Card.vue_vue&type=script&setup=true&lang.e9e64dc2.js";import"./Companies.530d7e2c.js";import"./activePanelState.06305d42.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.f6cfe36b.js";import"./video.803b5c5c.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.54bec82d.js";import"./darkModeState.f2041097.js";import"./AnimatedLogo.42cb9b3a.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.0069c349.js";import"./V-Block.vue_vue&type=script&setup=true&lang.9d0ef40a.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.1cee2a1e.js";import"./userPopovers.f4b9fc60.js";const T=m("div",{class:"icon"},[m("i",{class:"lnir lnir-round-box-check","aria-hidden":"true"})],-1),$=m("div",{class:"meta"},[m("span",null,"Process Subscriptions"),m("span",null,"Subscriptions automatic")],-1);var z=r({expose:[],props:{},setup(e){v();const a=o(!1),s=o(!1);i((()=>{})),n((()=>s.value),(e=>{e&&new Pusher("2cd5b586808b2f41f8e6",{cluster:"us2"}).subscribe("process_subscription_channel").bind("process_subscription_event",(function(e){let a=`${e.message.member.id}: ${e.message.member.name} ${e.message.member.last_name} <br> ${e.message.message}`;e.message.status?(C.value.find((a=>a.id==e.message.member.id)).isSolvente=!0,w.success(a)):w.error(a)}))}));const t=()=>{P.value.length&&(s.value=!0,a.value=!0,M().then((e=>{w.success("Finalizado"),P.value=[],a.value=!1})).catch((e=>{a.value=!1,w.error(e.response.data)})))};return(e,s)=>{const r=l,o=u;return p(),c(o,{icon:"feather:more-vertical",class:"is-pushed-mobile",spaced:"",right:""},{content:d((()=>[m(r,{size:"small",active:a.value},{default:d((()=>[m("a",{onClick:f(t,["prevent"]),role:"menuitem",class:"dropdown-item is-media",disabled:0==b(P).length},[T,$],8,["onClick","disabled"])])),_:1},8,["active"])])),_:1})}}});const B={class:"page-content-inner"},I={class:"mb-5 columns is-multiline"},N={class:"is-2 column"},O={class:"select"},U={key:0,class:"columns is-multiline"},G={key:1},H={class:"d-flex justify-content-center mb-5"},K=S(" All "),W=S(" Adult "),E=S(" Minor "),R=S(" Temporary Members "),Z={class:"w-100 d-flex justify-content-end mb-4"};var J=r({expose:[],setup(l){F.value="Members",g({title:"List Members"});const u=_(),r=o(""),v=o("all"),f=o([]),S=o(!0);o("all"),n((()=>u.query.page),(()=>{P("all",r.value,u.query.page,M.value,!1)})),n((()=>r.value),(()=>{}));const P=async(e,a="",s=1,t=null,l=!0,u=null)=>{v.value=e,S.value=!0,await L.get("members",{params:{[v.value]:!0,filter:a,page:s,category:t,estado:u}}).then((e=>{C.value=e.data.members,f.value=e.data.pagination,S.value=!1,l&&T()})).catch((e=>{S.value=!1,console.log(e)}))},M=o("All");i((()=>{P("all",r.value,u.query.page,"All")}));const w=()=>{P("all",r.value,1,M.value,!1)},T=()=>{S.value=!0,setTimeout((()=>{S.value=!1}),500)},$=o("All"),J=o([{value:"All",name:"All"},{value:"active",name:"Active"},{value:"due",name:"Due"},{value:"expired",name:"Expired"},{value:"sincard",name:"No card"},{value:"sin_factura",name:"No invoice"},{value:"nomembershipcontarjeta",name:"Without membership, with card"},{value:"cancel",name:"Cancel"},{value:"nomembership",name:"No membership"},{value:"schedules",name:"Schedules"}]),Q=()=>{P("all",r.value,1,M.value,!1,$.value)};return(l,o)=>{const i=e,n=a,v=s,g=t,_=z,L=q,F=D;return p(),c(F,null,{default:d((()=>[m("div",B,[m("div",I,[m("div",N,[m(n,{class:"w-100"},{default:d((()=>[m(i,{class:"input-select"},{default:d((()=>[m("div",O,[y(m("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>$.value=e),onChange:Q},[(p(!0),c(h,null,x(J.value,((e,a)=>(p(),c("option",{key:`estados-${a}`,value:e.value},V(e.name),9,["value"])))),128))],544),[[j,$.value]])])])),_:1})])),_:1})]),m(n,{class:"is-8 column"},{default:d((()=>[m(i,{icon:"feather:search"},{default:d((()=>[y(m("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>r.value=e),class:"input custom-text-filter",placeholder:"Search...",onKeyup:A(w,["enter"])},null,40,["onKeyup"]),[[k,r.value]])])),_:1})])),_:1})]),S.value?(p(),c("div",U,[(p(),c(h,null,x(12,(e=>m("div",{class:"mb-2 column is-4",key:e},[m(v,{height:"120px"})]))),64))])):(p(),c("div",G,[m("div",H,[m(n,{addons:""},{default:d((()=>[m(i,null,{default:d((()=>[m(g,{color:"All"==M.value?"primary":void 0,onClick:o[3]||(o[3]=e=>(P("all"),M.value="All")),rounded:""},{default:d((()=>[K])),_:1},8,["color"])])),_:1}),m(i,null,{default:d((()=>[m(g,{color:"Adult"==M.value?"primary":void 0,onClick:o[4]||(o[4]=e=>(P("all",r.value.value,b(u).query.page,"Adult",!1),M.value="Adult")),rounded:""},{default:d((()=>[W])),_:1},8,["color"])])),_:1}),m(i,null,{default:d((()=>[m(g,{color:"Minor"==M.value?"primary":void 0,onClick:o[5]||(o[5]=e=>(P("all",r.value.value,b(u).query.page,"Minor",!1),M.value="Minor")),rounded:""},{default:d((()=>[E])),_:1},8,["color"])])),_:1}),m(i,null,{default:d((()=>[m(g,{color:"Prospect"==M.value?"primary":void 0,onClick:o[6]||(o[6]=e=>(P("all",r.value.value,b(u).query.page,"Prospect",!1),M.value="Prospect")),rounded:""},{default:d((()=>[R])),_:1},8,["color"])])),_:1})])),_:1})]),m("div",Z,[m(_)]),m(L,{members:b(C),"pagination-data":f.value,filters:r.value,onOnSearch:l.onSearch},null,8,["members","pagination-data","filters","onOnSearch"])]))])])),_:1})}}});export default J;
