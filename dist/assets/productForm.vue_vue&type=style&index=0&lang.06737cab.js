import{_ as e}from"./V-Button.vue_vue&type=script&setup=true&lang.1ccc60b1.js";import{_ as s}from"./V-Avatar.vue_vue&type=script&setup=true&lang.3ec6c8cb.js";import{_ as t}from"./Companies.f2eb7ee0.js";import{_ as a}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.f5308578.js";import{_ as r}from"./V-Tag.vue_vue&type=script&setup=true&lang.5d37b18d.js";import{_ as o}from"./V-Card.vue_vue&type=script&setup=true&lang.41ce1566.js";import{d as c,c as l,o as i,h as n,k as u,j as p,L as d,a2 as m,F as v,D as f,O as h,P as b,z as y,E as _}from"./vendor.2054a2d2.js";import{i as g,c as j,d as k,e as w,f as $,s as x}from"./Products.7d8509eb.js";import{b as A,v as C,g as P,n as E,p as D,c as V}from"./index.8c434b3c.js";const Y={class:"title is-4 mb-0"},S=_(" Go Back "),z=_(" Save Changes "),B={class:"columns is-multiline mx-auto"},F={class:"p-6 column is-12"},M=u("h1",{class:"title is-5 mb-0"},"Product Picture",-1),T={class:"d-flex justify-content-center"},q={class:"text-center"},G={class:"column is-12"},L=u("h1",{class:"title is-5"},"Prices",-1),O={class:"table is-hoverable is-fullwidth"},U=u("thead",null,[u("tr",null,[u("th",{scope:"col"},"Status"),u("th",{scope:"col"},"Price"),u("th",{scope:"col"},"Create Date"),u("th",{scope:"col"},"User")])],-1),H={class:"w-100 justify-content-center d-flex"},I=_(" Add Price ");var J=c({expose:[],props:{type:{type:String,default:"create"}},setup(c){const _=c,J=m(),K=l((()=>"create"==_.type?{title:"Add a new product",subtitle:"Add information for a new product"}:{title:"Edit product",subtitle:"Edit information for a product"})),N=l((()=>`${A.value}storage/${C(g.value,"photo")}`)),Q=()=>{""!=P(j.value,"price").model?confirm("Are you sure you want to add a new price? This action will disable the previous price and it cannot be restored")&&w(P(j.value,"price").model).then((e=>{E.success("success save"),window.location.reload()})).catch((e=>{for(var s in e.response.data.errores)e.response.data.errores[s].forEach((e=>{E.error(`${s}: ${e}`)}))})):E.error("Price is required")},R=()=>{let e=D(g.value);e.price=P(j.value,"price").model;const s=new FormData;for(var t in e)"locations"==t?e[t].forEach((e=>{s.append("locations[]",e)})):s.append(t,e[t]);console.log(...s),"edit"==_.type&&$(s).then((e=>{E.success(e.data.message),V(g.value),J.back()})).catch((e=>{for(var s in e.response.data.errores)e.response.data.errores[s].forEach((e=>{E.error(`${s}: ${e}`)}))})),"create"==_.type&&x(s).then((e=>{E.success(e.data.message),V(g.value),J.back()})).catch((e=>{for(var s in e.response.data.errores)e.response.data.errores[s].forEach((e=>{E.error(`${s}: ${e}`)}))}))};return(l,m)=>{const _=e,w=s,$=t,x=a,A=r,C=o;return i(),n("div",null,[u(x,null,{"header-left":p((()=>[u("div",null,[u("h1",Y,v(f(K).title),1),u("p",null,v(f(K).subtitle),1)])])),"header-right":p((()=>[u(_,{onClick:m[1]||(m[1]=e=>f(J).back()),class:"mr-3"},{default:p((()=>[S])),_:1}),u(_,{onClick:R,color:"primary"},{default:p((()=>[z])),_:1})])),content:p((()=>[u("div",B,[u("div",F,[M,u("div",T,[u("div",q,[u(w,{picture:f(N),class:"mb-4",size:"xl"},null,8,["picture"]),u($,{"inputs-step":l.input_image},null,8,["inputs-step"])])])]),u("div",G,[u($,{"inputs-step":f(g)},null,8,["inputs-step"]),"create"==c.type?(i(),n($,{key:0,"inputs-step":f(j)},null,8,["inputs-step"])):d("",!0)])])])),_:1}),"edit"==c.type?(i(),n(C,{key:0,class:"mt-4"},{default:p((()=>[L,u("table",O,[U,u("tbody",null,[(i(!0),n(h,null,b(f(k).prices,((e,s)=>(i(),n("tr",{key:`price-${s}`},[u("td",null,[u(A,{color:e.status?"success":"danger",label:e.status?"Active":"Archived",rounded:""},null,8,["color","label"])]),u("td",null,"$"+v(e.price),1),u("td",null,v(f(y)(e.created_at).format("MM-DD-YYYY")),1),u("td",null,v(e.user.name),1)])))),128))])]),u("div",H,[u($,{"inputs-step":f(j)},null,8,["inputs-step"]),u(_,{color:"info",onClick:Q,class:"mt-5 ml-3"},{default:p((()=>[I])),_:1})])])),_:1})):d("",!0)])}}});export{J as _};
