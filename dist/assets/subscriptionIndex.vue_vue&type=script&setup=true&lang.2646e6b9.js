import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.d3d76712.js";import{_ as s}from"./inputsLayaut.vue_vue&type=style&index=0&lang.082bb801.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.940c9f5e.js";import{_ as a}from"./V-Loader.vue_vue&type=script&setup=true&lang.72c1da57.js";import{d as l,r as n,o as i,i as o,j as c,B as r,k as u,l as d,I as p,G as m,S as v,c as f,F as b,W as y,X as _,H as h,_ as k,O as x,U as g,L as C,w as D}from"./vendor.b96c0b62.js";import{g as Y,a as j,p as M,n as w,m as V}from"./index.cdd760bf.js";import{g as O}from"./Discounts.4dad4bfc.js";import{g as A}from"./Staffs.1bafd3a3.js";import{a as S,f as P}from"./Companies.366fb7ea.js";import{g as z}from"./Diciplines.528cc5b0.js";import{u as L,c as q,p as N,a as I,h as R,b as E,d as T,e as H,i as U,f as G,s as B,r as $,j as X,k as F,g as W,l as J}from"./Subscriptions.1fdf2def.js";import{_ as K}from"./V-SwitchBlock.vue_vue&type=script&setup=true&lang.3ea5d316.js";import{_ as Q}from"./V-Control.9f6b030b.js";import{_ as Z}from"./V-Field.vue_vue&type=script&setup=true&lang.9839f63b.js";import{s as ee,_ as se}from"./MemberCards.629a5937.js";import{_ as te}from"./V-Modal.vue_vue&type=script&setup=true&lang.793fc7c9.js";import{_ as ae,a as le}from"./subscription-method-stripe-checkout.vue_vue&type=script&setup=true&lang.801e2347.js";import{_ as ne}from"./Presupuesto.vue_vue&type=script&setup=true&lang.184a733f.js";const ie=m("Save");var oe=l({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(l,{emit:m}){const v=l,f=n(!1),b=n(!1),y=n([{typeInput:"checkboxGroupSimpleEventInput",name:"locations",placeholder:"Locations access",text:"Locations access",required:!0,values:[],model:"",disabled:!1,class:"is-12",isLabel:!0,change:function(e,s){z(this.model).then((e=>{e.data.length&&j(s,"diciplines",e.data)}))},click:function(){}},{typeInput:"DropdownCheckbox",name:"diciplines",text:"Disciplines",placeholder:"Disciplines",required:!1,model:[],values:[],disabled:!1,class:"is-12",isLabel:!0,drop:!1},{typeInput:"selectDataActionChangeInput",name:"discount",placeholder:"Discount",values:[],data:null,model:"",disabled:!1,class:"is-12",isLabel:!0},{typeInput:"DropdownCheckbox",name:"staff_id",placeholder:"Trainer",values:[],model:[],disabled:!1,required:!1,class:"is-12",isLabel:!0,drop:!1},{typeInput:"date",typeInputDefault:"date",name:"fecha_vencimiento",placeholder:"Next payment date",model:"",class:"is-6",isLabel:!0,required:!0},{name:"payment_type_id",typeInput:"selectData",placeholder:"Payment Type",model:"",required:!0,values:[{id:1,name:"Cash"},{id:3,name:"Debit automatic"}],class:"is-6",isLabel:!0,filterOptionText:function(e){return e.name}}]);i((()=>{(async()=>{b.value=!0,Y(y.value,"fecha_vencimiento").model=r(v.suscripcion.estado.fecha_vencimiento,"YYYY-MM-DD").format("YYYY-MM-DD"),Y(y.value,"payment_type_id").model=v.suscripcion.payment_type_id,v.suscripcion.memberships_members&&v.suscripcion.memberships_members.diciplines.length&&(Y(y.value,"diciplines").model=v.suscripcion.memberships_members.diciplines.map((e=>e.diciplines_id))),v.suscripcion.member&&v.suscripcion.member.trainers.length&&(Y(y.value,"staff_id").model=v.suscripcion.member.trainers.map((e=>e.staffs_id))),v.suscripcion.discount&&(Y(y.value,"discount").model=v.suscripcion.discount.id),await S().then((e=>{if(j(y,"locations",P.value),v.suscripcion&&v.suscripcion.memberships_members&&v.suscripcion.memberships_members.locaciones.length){const e=v.suscripcion.memberships_members.locaciones.map((e=>e.companies_locations_id));Y(y.value,"locations").model=e,z(e).then((e=>{e.data.length&&j(y,"diciplines",e.data)}))}})),await O().then((e=>{j(y,"discount",e.data.discounts)})),await A().then((e=>{j(y,"staff_id",e.data)})),b.value=!1})()}));const _=async()=>{const e=M(y.value);f.value=!0,await L(v.suscripcion.id,e).then((e=>{f.value=!1,m("reload")}))};return(l,n)=>{const i=s,r=t,m=a,v=e;return o(),c(m,{class:"h-100",size:"small",active:b.value},{default:u((()=>[d(v,{class:""},{default:u((()=>[p(" {{ props.suscripcion }} "),d(i,{"inputs-step":y.value},null,8,["inputs-step"]),d(m,{class:"h-100",size:"small",active:f.value},{default:u((()=>[d(r,{color:"primary",onClick:_,size:"small"},{default:u((()=>[ie])),_:1})])),_:1},8,["active"])])),_:1})])),_:1},8,["active"])}}});const ce=d("p",null,[d("b",null,"Cancel Suscription")],-1);var re=l({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(s,{emit:t}){const l=s,r=n(!1),p=()=>{r.value=!0,q(l.suscripcion.id,{}).then((e=>{r.value=!1,t("reload")})).catch((e=>{r.value=!1}))};return i((()=>{})),(s,t)=>{const l=e,n=a;return o(),c(n,{class:"h-100",size:"small",active:r.value},{default:u((()=>[d(l,{color:"danger",outlined:"",onClick:p,class:"\n        mr-4\n        btn-card\n        text-center\n        px-2\n        h-100\n        d-flex\n        align-items-center\n        justify-content-center\n      ",style:{"font-size":"14px"}},{default:u((()=>[ce])),_:1})])),_:1},8,["active"])}}});const ue={class:"d-flex justify-content-between align-items-start"},de=d("div",null,[d("p",{class:"title is-3"},[d("i",{class:"fas fa-credit-card","aria-hidden":"true"})]),d("p",{class:"title is-5"},"Debit Automatic")],-1),pe={key:0,class:"title is-6"},me=d("i",{class:"fas fa-check","aria-hidden":"true"},null,-1),ve={class:"pb-3 mb-5"},fe=m(" Sync Cards "),be=m("Confirm");var ye=l({expose:[],props:{total:{type:Number,required:!0},user:{type:Object,required:!0}},emits:["onPayment"],setup(s,{emit:l}){const i=s,r=n(!1),m=()=>{null!=_.value?(r.value=!1,l("onPayment",{amount:i.total,payment_type_id:3,payment_method_id:_.value})):w.error("Select card")},f=n(!1),b=n(!0),y=()=>{ee(i.user.id).then((e=>{b.value=!1,setTimeout((()=>{b.value=!0}),100)}))},_=n(null);return(s,l)=>{const n=e,h=t,k=a,x=se,g=te;return o(),c(v,null,[d(n,{onClick:l[1]||(l[1]=e=>r.value=!0),color:"success",class:"mx-2 btn-card w-100 justify-content-center"},{default:u((()=>[d("div",ue,[de,(o(),c("p",pe,[me]))])])),_:1}),p("  "),d(g,{title:"",size:"big",open:r.value,actions:"center",onClose:l[3]||(l[3]=e=>r.value=!1)},{content:u((()=>[d("div",ve,[d(k,{size:"large",active:f.value},{default:u((()=>[d(h,{color:"undefined",onClick:y,class:"d-flex justify-content-center",raised:""},{default:u((()=>[fe])),_:1})])),_:1},8,["active"])]),i.user&&r.value&&b.value?(o(),c(x,{key:0,"show-option":!0,class:"mb-6",modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=e=>_.value=e),method_default:i.user.pm_last_four,"show-new-card":!0,user:i.user,"on-new-card-u-r-l":"v2/stripe/setup","add-card-stripe-u-r-l":"v2/stripe/addCard",v2:!0,actions:[]},null,8,["modelValue","method_default","user"])):p("v-if",!0)])),action:u((()=>[d(h,{color:"success",onClick:m,disabled:!_.value,class:"d-flex justify-content-center",raised:""},{default:u((()=>[be])),_:1},8,["disabled"])])),_:1},8,["open"])],64)}}});const _e={key:0},he={key:1},ke=d("small",null,"by default it will be scheduled for the next payment",-1),xe={class:"columns is-multiline"},ge={class:"column is-4"},Ce=d("p",{class:"title is-6 mb-1"},[d("b",null,"Total")],-1),De={class:"title is-3 mb-0"},Ye={class:"is-4 column mx-auto"},je={class:"is-4 column mx-auto"};var Me=l({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(s,{emit:t}){const l=s,i=n(!0),r=n(!1),m=(e=null)=>{r.value=!0,e&&(e.isProrrateo=i.value),N(l.suscripcion.id,e).then((e=>{r.value=!1,v.value=!1,w.success("Success"),t("reload")})).catch((e=>{console.log(e),w.error("Error"),r.value=!1,v.value=!1}))},v=n(!1),k=()=>{v.value=!1},x=f((()=>l.suscripcion.memberships_members.multigym));f((()=>l.suscripcion.presupuesto));const g=f((()=>l.suscripcion.user)),C=n(0),D=()=>{x.value?(i.value=!1,m()):(I(l.suscripcion.id,{}).then((e=>{C.value=e.data})),i.value=!0,v.value=!0)};return(s,t)=>{const l=e,n=K,f=Q,Y=Z,j=a,M=ye,w=ae,O=te;return o(),c(j,{class:"h-100",size:"small",active:r.value},{default:u((()=>[d(l,{color:"info",outlined:!b(x),onClick:D,class:"\n        mr-4\n        btn-card\n        text-center\n        px-2\n        h-100\n        d-flex\n        align-items-center\n        justify-content-center\n      ",style:{"font-size":"14px"}},{default:u((()=>[d("p",null,[b(x)?(o(),c("b",he,"Disable MultiGym ")):(o(),c("b",_e,"Activate MultiGym "))])])),_:1},8,["outlined"]),d(O,{open:v.value,size:"big",actions:"center",noscroll:"",onClose:k},{content:u((()=>[d(Y,null,{default:u((()=>[d(f,null,{default:u((()=>[d(n,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),label:"Make the prorated charge",color:"primary"},null,8,["modelValue"])])),_:1})])),_:1}),y(d("p",null,[ke],512),[[_,!i.value]]),i.value?(o(),c(l,{key:0,style:{"margin-bottom":"24px"}},{default:u((()=>[d("div",xe,[d("div",ge,[d(j,{size:"small",class:"h-100",active:r.value},{default:u((()=>[d(l,{class:"mb-4 h-100"},{default:u((()=>[d("div",null,[Ce,d("p",De,h(b(V)(C.value)),1)])])),_:1})])),_:1},8,["active"])]),d("div",Ye,[d(j,{size:"small",active:r.value},{default:u((()=>[d(M,{total:C.value,user:b(g),onOnPayment:m},null,8,["total","user"])])),_:1},8,["active"])]),d("div",je,[d(j,{size:"small",active:r.value},{default:u((()=>[d(w,{total:C.value,onOnPayment:m},null,8,["total"])])),_:1},8,["active"])])])])),_:1})):p("v-if",!0)])),action:u((()=>[p(' <VButton color="primary" @click="onAction"> Confirm</VButton> ')])),_:1},8,["open"])])),_:1},8,["active"])}}});const we=d("p",null,[d("b",null,"HOLD Membership")],-1),Ve={key:0},Oe=m("Active until: "),Ae=d("br",null,null,-1),Se=d("label",{for:"hold_date_start"},[d("p",null,"Hold date start")],-1),Pe=d("label",{for:"hold_date_end"},[d("p",null,"Hold date end")],-1),ze=m("Confirm");var Le=l({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(s,{emit:l}){const _=s,x=n(!1),g=n(!1),C=n(r(_.suscripcion.hold_date_start).format("YYYY-MM-DD")),D=n(r(_.suscripcion.hold_date_end).format("YYYY-MM-DD")),Y=()=>{R(_.suscripcion.id,{hold_date_start:C.value,hold_date_end:D.value}).then((e=>{g.value=!1,w.success("success"),l("reload")})).catch((e=>{g.value=!1}))},j=f((()=>_.suscripcion.isHold));return i((()=>{})),(s,l)=>{const n=e,i=a,f=t,M=te;return o(),c(v,null,[d(i,{size:"small",class:"h-100",active:x.value},{default:u((()=>[d(n,{color:"warning",outlined:null==_.suscripcion.hold_date_end,onClick:l[1]||(l[1]=e=>b(j)?Y():g.value=!0),class:"\n        mr-4\n        btn-card\n        text-center\n        h-100\n        px-2\n        d-flex\n        align-items-center\n        justify-content-center\n      ",style:{"font-size":"14px"}},{default:u((()=>[we,d("p",null,[null!=_.suscripcion.hold_date_end?(o(),c("span",Ve,[Oe,Ae,m(" "+h(b(r)(_.suscripcion.hold_date_start).format("MM/DD/YYYY"))+" - "+h(b(r)(_.suscripcion.hold_date_end).format("MM/DD/YYYY")),1)])):p("v-if",!0)])])),_:1},8,["outlined"])])),_:1},8,["active"]),d(M,{open:g.value,actions:"center",onClose:l[4]||(l[4]=e=>g.value=!1)},{content:u((()=>[Se,y(d("input",{type:"date","onUpdate:modelValue":l[2]||(l[2]=e=>C.value=e),class:"input mt-2 mb-4"},null,512),[[k,C.value]]),Pe,y(d("input",{type:"date","onUpdate:modelValue":l[3]||(l[3]=e=>D.value=e),class:"input mt-2 mb-4"},null,512),[[k,D.value]])])),action:u((()=>[d(f,{onClick:Y,color:"primary",raised:""},{default:u((()=>[ze])),_:1})])),_:1},8,["open"])],64)}}});const qe=d("p",null,[d("b",null,"Upgrade Subscription")],-1);var Ne=l({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(s,{emit:t}){const l=s,r=n(!1),p=()=>{r.value=!0,E(l.suscripcion.id,{}).then((e=>{r.value=!1,t("reload")})).catch((e=>{r.value=!1}))};return i((()=>{})),(s,t)=>{const l=e,n=a;return o(),c(n,{class:"h-100",size:"small",active:r.value},{default:u((()=>[d(l,{color:"primary",outlined:"",onClick:p,class:"\n        mr-4\n        btn-card\n        text-center\n        px-2\n        h-100\n        d-flex\n        align-items-center\n        justify-content-center\n      ",style:{"font-size":"14px"}},{default:u((()=>[qe])),_:1})])),_:1},8,["active"])}}});const Ie={class:"columns is-multiline"},Re={class:"title is-4"},Ee={class:"title is-5 text-left mt-2"},Te={class:"d-flex justify-content-end mb-4"},He={key:0},Ue={key:1},Ge=m("Accept and continue ");var Be=l({expose:[],props:{suscripcion:{type:Object,default:{}}},emits:["update:modelValue","reload"],setup(l,{emit:r}){const m=l;x();const y=n([]),_=n(!0),k=n(!1),C=n(!1);i((()=>{T().then((e=>{y.value=e.data})),H(1,"membership").then((e=>{j(U,"discount",e.data.discounts)}))}));const D=f((()=>{const e=y.value.find((e=>e.id==B.memberships_id));return null==e?void 0:e.amounts.filter((e=>e.is_recurrence==_.value&&null!=e.recurrencia))})),M=f((()=>{for(var e in B)null!=Y(U.value,e)&&(B[e]=Y(U.value,e).model);return B})),O=()=>{G.value=null,C.value=!1,k.value=!0,X(M.value).then((e=>{G.value=e.data,r("update:modelValue",G.value),setTimeout((()=>{window.scrollTo(0,document.body.scrollHeight||document.documentElement.scrollHeight),k.value=!1}),300)})).catch((e=>{const s=e.response.data;for(var t in k.value=!1,s)if("object"==typeof s[t]&&"object"==typeof s[t])for(var a in s[t])w.error(s[t][a])}))},A=()=>{C.value=!0;let e=M.value;e.suscripcion_id=m.suscripcion.id,e.email=m.suscripcion.user.email,$(e).then((e=>{r("reload")})).catch((e=>{}))};return(l,n)=>{const i=e,r=a,m=K,f=Q,x=Z,C=s,Y=t,j=ne;return o(),c(v,null,[d(i,{class:"mb-4"},{default:u((()=>[d(r,{size:"large",active:!y.value.length},{default:u((()=>[d("div",Ie,[(o(!0),c(v,null,g(y.value,((e,s)=>(o(),c("div",{key:`membership-${s}`,class:"column is-4 btn btn-card",onClick:s=>b(B).memberships_id=e.id},[d(i,{color:b(B).memberships_id==e.id?"primary":void 0,class:"h-100"},{default:u((()=>[d("div",null,[d("h1",Re,h(e.name),1)])])),_:2},1032,["color"])],8,["onClick"])))),128))])])),_:1},8,["active"])])),_:1}),d(i,{class:"mb-4"},{default:u((()=>[d("div",null,[d(x,null,{default:u((()=>[d(f,null,{default:u((()=>[d(m,{modelValue:_.value,"onUpdate:modelValue":n[1]||(n[1]=e=>_.value=e),label:"Recurring Subscription",color:"primary"},null,8,["modelValue"])])),_:1})])),_:1}),(o(!0),c(v,null,g(b(D),((e,s)=>(o(),c("div",{key:`membership-precios-${s}`,class:"btn btn-card",onClick:s=>b(B).recurrences_id=e.id},[d(i,{color:b(B).recurrences_id==e.id?"primary":void 0,class:"mb-3 py-4"},{default:u((()=>[d("p",null,h(e.recurrencia.descriptions),1),d("p",Ee,h(b(V)(e.amount)),1)])),_:2},1032,["color"])],8,["onClick"])))),128))])])),_:1}),d(i,{class:""},{default:u((()=>[d(C,{"inputs-step":b(U)},null,8,["inputs-step"])])),_:1}),d("div",Te,[d(r,{size:"large",active:k.value},{default:u((()=>[d(Y,{onClick:O,color:b(G)?void 0:"primary",class:"d-flex justify-content-center mt-6 py-5 w-100",style:{"text-align":"center","text-transform":"uppercase","font-size":"20px","font-weight":"900"}},{default:u((()=>[b(G)?(o(),c("span",Ue," restart")):(o(),c("span",He,"start subscription"))])),_:1},8,["color"])])),_:1},8,["active"])]),b(G)?(o(),c(i,{key:0,class:"mb-4"},{default:u((()=>[d(j,{presupuesto:b(G)},null,8,["presupuesto"])])),_:1})):p("v-if",!0),b(G)?(o(),c(Y,{key:1,onClick:A,color:"primary",class:"d-flex justify-content-center py-5 px-6 ml-auto",style:{"text-align":"center","text-transform":"uppercase","font-size":"20px","font-weight":"900"}},{default:u((()=>[Ge])),_:1})):p("v-if",!0)],64)}}});const $e={class:"columns is-multiline",style:{"min-height":"350px"}},Xe={class:"column is-3"},Fe=d("p",{class:"title is-6 mb-1"},[d("b",null,"Total")],-1),We={key:0,class:"title is-3 mb-0"},Je={key:1,class:"title is-3 mb-0"},Ke=d("div",{class:"column is-9"},[p(' <SearchBar class="" v-model="member" /> ')],-1),Qe=m("] "),Ze={key:0,class:"is-4 column mx-auto"},es={key:1,class:"is-4 column mx-auto"},ss={key:2,class:"is-4 column mx-auto"},ts=d("div",{class:"mb-4 column is-12"},[p(' <inputsLayaut :slo="false" class="w-100" :inputs-step="discountInput" /> ')],-1);var as=l({expose:[],props:{total:{type:Number,default:0,required:!0},user:{type:Object,default:{},required:!0},suscripcion_id:{type:Number,required:!0},metodos:{type:Array,default:["stripe-debit","cash"]}},emits:["proccessCheckout","reload"],setup(s,{emit:t}){const l=s;x();const i=n(!1),r=e=>{i.value=!0,F(l.suscripcion_id,e).then((e=>{i.value=!1,t("proccessCheckout")})).catch((e=>{if(i.value=!1,t("reload"),"object"==typeof e.response.data)for(var s in e.response.data)if("object"==typeof e.response.data[s])for(var a in e.response.data[s]){if("object"==typeof e.response.data[s][a])for(var l in e.response.data[s][a])w.error(e.response.data[s][a][l]);"string"==typeof e.response.data[s][a]&&w.error(e.response.data[s][a])}}))};return(t,n)=>{const m=e,v=a,f=ye,y=le,_=ae;return o(),c("div",$e,[d("div",Xe,[d(v,{size:"small",active:i.value},{default:u((()=>[d(m,{class:"mb-4"},{default:u((()=>[C(t.$slots,"default"),d("div",null,[Fe,t.order?(o(),c("p",We,h(b(V)(s.total)),1)):(o(),c("p",Je,h(b(V)(s.total)),1))])])),_:3})])),_:1},8,["active"])]),Ke,p(' <div class="column is-12 mb-4">\n      <h1 class="title is-5">Payment methods</h1>\n       <div class="d-flex"> '),Qe,l.metodos.includes("stripe-debit")?(o(),c("div",Ze,[d(v,{size:"small",active:i.value},{default:u((()=>[d(f,{total:l.total,user:l.user,onOnPayment:r},null,8,["total","user"])])),_:1},8,["active"])])):p("v-if",!0),p('\n        <VCard\n          color="warning"\n          :disabled="cashStatus"\n          @click=";(typePayment = 1), (openModalCash = true), payment"\n          class="mx-2 btn-card w-100 justify-content-center"\n        >\n          <p class="title is-3">\n            <i class="fas fa-money-bill" aria-hidden="true"></i>\n          </p>\n          <p class="title is-5">Cash</p>\n        </VCard>\n\n        <VCard\n          color="info"\n          :disabled="swipeCardStatus"\n          class="mx-2 btn-card w-100 justify-content-center"\n          @click="changeSwipwCard"\n          v-tooltip="!terminales.length ? \'No posee terminales\' : \'\'"\n        >\n          <div class="d-flex justify-content-between align-items-start">\n            <div>\n              <p class="title is-3">\n                <i class="fas fa-money-check-alt" aria-hidden="true"></i>\n              </p>\n              <p class="title is-5">Swipe Card</p>\n            </div>\n            <p v-if="terminalesOoptions" class="title is-6">\n              <i class="fas fa-check" aria-hidden="true"></i>\n            </p>\n          </div>\n        </VCard>\n      </div> '),p(' <div class="is-4 column mx-auto">\n        <VCard\n          style="background: #388e3c"\n          v-if="order"\n          class="mx-2 mx-auto btn-card justify-content-center"\n          @click="openModalRecibo = true"\n        >\n          <div class="d-flex justify-content-between align-items-start">\n            <div>\n              <p class="title is-3">\n                <i\n                  class="fas fa-receipt"\n                  style="color: white !important"\n                  aria-hidden="true"\n                ></i>\n              </p>\n              <p class="title is-5" style="color: white !important">\n                View Order\n              </p>\n            </div>\n            <p v-if="openModalRecibo" class="title is-6">\n              <i class="fas fa-check" aria-hidden="true"></i>\n            </p>\n          </div>\n        </VCard>\n      </div> '),p(" Terminales "),p(' <div class="mt-4 mx-2" v-if="terminalesOoptions">\n        <div\n          v-for="(terminal, key) in terminales"\n          :key="`terminal-${key}`"\n          class="columns is-multiline"\n        >\n          <div class="column">\n            <VCard\n              class="p-4 btn-card"\n              :class="paymentIntent && terminal_id == terminal.id ? \'is-3\' : \'\'"\n              :disabled="paymentIntent && terminal_id == terminal.id"\n              :color="terminal_id == terminal.id ? \'info\' : \'\'"\n              @click="paymentSwipeCard(terminal.id)"\n            >\n              <p class="title is-1">\n                <i class="lnir lnir-postcard" aria-hidden="true"></i>\n              </p>\n              <p class="title is-5">{{ terminal.label }}</p>\n              <p>Serial number: {{ terminal.serial_number }}</p>\n              <p>Status: {{ terminal.status }}</p>\n            </VCard>\n          </div>\n\n          <div\n            v-if="paymentIntent && terminal_id == terminal.id"\n            class="column flex-column d-flex justify-content-between is-3"\n          >\n            <VCard\n              color="danger"\n              class="mb-2 btn-card d-flex justify-content-center"\n              @click="oncancelPayment()"\n            >\n              <p class="title is-5">Cancel Payment</p>\n            </VCard>\n            <VCard\n              color="warning"\n              class="btn-card d-flex justify-content-center"\n              @click="onretryPayment()"\n            >\n              <p class="title is-5">Retry Payment</p>\n            </VCard>\n          </div>\n\n          <div\n            v-if="paymentIntent && terminal_id == terminal.id"\n            class="column is-5"\n          >\n            <VCard\n              color="success"\n              class="\n                btn-card\n                h-100\n                d-flex\n                justify-content-center\n                align-items-center\n              "\n              @click="onfinishPayment()"\n            >\n              <p class="title is-3">Finish payment</p>\n            </VCard>\n          </div>\n        </div>\n      </div> '),p("  "),l.metodos.includes("stripe-checkout")?(o(),c("div",es,[d(v,{size:"small",active:i.value},{default:u((()=>[d(y,{total:l.total,onOnPayment:r},null,8,["total"])])),_:1},8,["active"])])):p("v-if",!0),l.metodos.includes("cash")?(o(),c("div",ss,[d(v,{size:"small",active:i.value},{default:u((()=>[d(_,{total:l.total,onOnPayment:r},null,8,["total"])])),_:1},8,["active"])])):p("v-if",!0),p(" // "),p(' <shopping-checkout-debit-automatic v-if="showOptionsDebit" /> '),p(" </div> "),ts,p(' <shopping-send-recibo v-model="openModalRecibo" /> ')])}}});const ls=d("p",{class:"title is-5"},"Payments",-1),ns={class:"table is-hoverable is-fullwidth"},is=d("thead",null,[d("tr",null,[d("th",{scope:"col"},"Date"),d("th",{scope:"col"},"Type"),d("th",{scope:"col"},"Description"),d("th",{scope:"col"},"Status"),d("th",{scope:"col"},"Amount"),d("th",{scope:"col"},"Action")])],-1),os=d("td",null,"Suscription",-1);var cs=l({expose:[],props:{payments:{type:Number,required:!0}},setup:s=>(t,a)=>{const l=e;return o(),c("div",null,[d(l,{class:"mb-4 -flex justify-content-between align-items-center cardprofile"},{default:u((()=>[d("div",null,[ls,d("table",ns,[is,d("tbody",null,[(o(!0),c(v,null,g(s.payments,((e,s)=>(o(),c("tr",{key:`payment-${s}`},[d("td",null,h(b(r)(e.created_at).format("MM-DD-Y")),1),d("td",null,h(e.payment_type.name),1),os,d("td",null,h(e.status_description)+" / "+h(e.status),1),d("td",null,h(e.amount),1),d("td",null,[d("a",{href:e.url_pdf,target:"_blank",rel:"noopener noreferrer"},"View Pdf",8,["href"])])])))),128))])])])])),_:1})])}});const rs={key:0},us={class:"d-flex justify-content-between"},ds={class:"title is-5 mb-0"},ps=m("Membership: "),ms=m(" Current billing location: "),vs={class:"title is-4 mb-0"},fs={class:"text-right"},bs=d("b",null,"Payment Method:",-1),ys={key:0},_s={key:0,class:"title is-4 mb-0"},hs=d("br",null,null,-1),ks={key:1,class:"title is-4 mb-0"},xs=d("br",null,null,-1),gs={key:2,class:"title is-6"},Cs=d("br",null,null,-1),Ds={key:1},Ys=d("p",null,"no tiene presupuesto",-1),js={class:"d-flex flex-row mt-4"},Ms={class:"mr-3"},ws=d("b",null,"Consultation date: ",-1),Vs={class:"mr-3"},Os=d("b",null,"Month: ",-1),As={key:0,class:"mr-3"},Ss=d("b",null,"Start: ",-1),Ps={class:"mr-3"},zs=d("b",null,"Next payment date: ",-1),Ls={key:1,class:"mr-3"},qs=d("b",null,"Cancellation Date: ",-1),Ns={key:2,class:"mr-3"},Is=d("b",null,"Last payment attempt: ",-1),Rs={key:3,class:"mr-3"},Es=d("b",null,"Status Last payment attempt: ",-1),Ts={key:4,class:"d-flex"},Hs={class:"mr-3"},Us=d("b",null,"Months late: ",-1),Gs={class:"mr-3"},Bs=d("b",null,"Days late: ",-1),$s={class:"mr-3"},Xs=d("b",null,"Hours late: ",-1),Fs={key:1,class:"columns"},Ws={class:"column is-8 pt-0"},Js={class:"column is-4"},Ks={class:"column is-12"},Qs={class:"column is-12"},Zs={class:"column is-12"},et={class:"column is-12"},st={key:3};var tt=l({expose:[],props:{suscripcion:{type:Object,default:null},member_id:{type:Number,default:null},code:{type:String,default:null}},setup(s){const t=s,a=x(),l=n(null);n(!1);const v=()=>{let e=null;a.query.id&&(e=a.query.id),t.member_id&&(e=t.member_id),null==e&&t.code?W(t.code).then((e=>{l.value=e.data.suscripcion})):J(e).then((e=>{l.value=e.data.suscripcion}))},y=f((()=>t.suscripcion?t.suscripcion:l.value));i((()=>{v()})),D((()=>t.member_id),(()=>{v()}));const _=()=>{v()};return(s,t)=>{const a=e,l=oe,n=re,i=Me,f=Le,k=Ne,x=Be,g=as,C=ne,D=cs;return b(y)?(o(),c("div",rs,[b(y)?(o(),c(a,{key:0,class:"mb-5",style:{background:b(y).estado.color}},{default:u((()=>[d("div",us,[d("span",null,[d("p",ds," ESTADO : "+h(b(y).estado.estado_pago),1),d("p",null,[d("small",null,[ps,d("small",null,[ms,d("b",null,h(b(y).memberships_members.location.name),1)])])]),d("p",vs,h(b(y).membership.name),1),d("p",null,h(b(y).recurrence.recurrencia.descriptions),1)]),d("span",fs,[d("p",null,[d("small",null,[bs,m(" "+h(b(y).memberships_members.paymenttype.name),1)])]),d("p",null,[d("small",null,h(b(y).recurrence.is_recurrence?"Recurrence":"no recurrence"),1)]),b(y).presupuesto?(o(),c("span",ys,[b(y).discount?(o(),c("p",ks,[m(h(b(V)(b(y).presupuesto.total)),1),xs])):(o(),c("p",_s,[m(h(b(V)(b(y).presupuesto.recurrente)),1),hs])),b(y).discount?(o(),c("p",gs,[d("small",null,h(b(y).discount.name),1),m(" : "+h(b(V)(b(y).presupuesto.total)),1),Cs])):p("v-if",!0)])):(o(),c("span",Ds,[Ys]))])]),d("div",js,[d("p",Ms,[ws,m(" "+h(b(r)(b(y).estado.fecha_validacion,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),d("p",Vs,[Os,m(" "+h(b(y).estado.meses_pagados),1)]),b(y).schedules_start?(o(),c("p",As,[Ss,m(" "+h(b(r)(b(y).schedules_start,"YYYY-MM-DD").format("MM-DD-YYYY")),1)])):p("v-if",!0),d("p",Ps,[zs,m(" "+h(b(r)(b(y).estado.fecha_vencimiento,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),b(y).estado.fecha_suspencion?(o(),c("p",Ls,[qs,m(" "+h(b(r)(b(y).estado.fecha_suspencion,"YYYY-MM-DD").format("MM-DD-YYYY")),1)])):p("v-if",!0),b(y).memberships_members.payments.length?(o(),c("p",Ns,[Is,m(" "+h(b(r)(b(y).memberships_members.payments[0].created_at).format("MM-DD-YYYY")),1)])):p("v-if",!0),b(y).memberships_members.payments.length?(o(),c("p",Rs,[Es,m(" "+h(b(y).memberships_members.payments[0].status)+" / "+h(b(y).memberships_members.payments[0].status_description),1)])):p("v-if",!0),"VENCIDO"==b(y).estado.estado_pago?(o(),c("div",Ts,[d("p",Hs,[Us,m(" "+h(b(y).estado.meses_retraso),1)]),d("p",Gs,[Bs,m(" "+h(b(y).estado.dias_retraso),1)]),d("p",$s,[Xs,m(" "+h(b(y).estado.horas_retraso),1)])])):p("v-if",!0)])])),_:1},8,["style"])):p("v-if",!0),["PROX. CANCELADO","CANCELADO"].includes(b(y).estado.estado_pago)?p("v-if",!0):(o(),c("div",Fs,[d("div",Ws,[d(l,{suscripcion:b(y),onReload:v},null,8,["suscripcion"])]),d("div",Js,["CANCELADO"!=b(y).estado.estado_pago?(o(),c(a,{key:0,class:"columns is-multiline p-1"},{default:u((()=>[d("div",Ks,[d(n,{suscripcion:b(y),onReload:v},null,8,["suscripcion"])]),d("div",Qs,[d(i,{suscripcion:b(y),onReload:v},null,8,["suscripcion"])]),d("div",Zs,[d(f,{suscripcion:b(y),onReload:v},null,8,["suscripcion"])]),p(' <div class="column is-12">\n            <subscription-action-send-email\n              :suscripcion="suscripcionComputed"\n              @reload="onGetSuscripcion"\n            />\n          </div> '),d("div",et,[d(k,{suscripcion:b(y),onReload:v},null,8,["suscripcion"])])])),_:1})):p("v-if",!0)])])),b(y)&&["CANCELADO","PROX. CANCELADO"].includes(b(y).estado.estado_pago)?(o(),c(x,{key:2,modelValue:b(y).presupuesto,"onUpdate:modelValue":t[1]||(t[1]=e=>b(y).presupuesto=e),suscripcion:b(y),onReload:t[2]||(t[2]=e=>v())},null,8,["modelValue","suscripcion"])):p("v-if",!0),["CANCELADO","PROX. CANCELADO"].includes(b(y).estado.estado_pago)?p("v-if",!0):(o(),c("div",st,[b(y)&&b(y).presupuesto&&"PAGADO"!=b(y).estado.estado_pago?(o(),c(g,{key:0,total:b(y).presupuesto.total,user:b(y).user,suscripcion_id:b(y).id,onProccessCheckout:_,onReload:v},null,8,["total","user","suscripcion_id"])):p("v-if",!0),b(y)&&b(y).presupuesto&&"PAGADO"!=b(y).estado.estado_pago?(o(),c(a,{key:1},{default:u((()=>[d(C,{presupuesto:b(y).presupuesto},null,8,["presupuesto"])])),_:1})):p("v-if",!0)])),b(y)&&"CANCELADO"!=b(y).estado.estado_pago?(o(),c(D,{key:4,payments:b(y).memberships_members.payments},null,8,["payments"])):p("v-if",!0)])):p("v-if",!0)}}});export{tt as _};
