import{_ as e}from"./V-Placeload.ec1fe97e.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.18dfabcd.js";import{_ as s}from"./V-Card.vue_vue&type=script&setup=true&lang.89bf5570.js";import{m as a,i as l,p as n,a as i,b as o,c as r,d as c,e as u,f as m,g as p,h as d,s as f,j as h,k as v,l as _,n as b}from"./Discounts.06a499b2.js";import{h as y}from"./moment.08a7f518.js";import{a as g}from"./index.642b26dd.js";import{d as M,w as j,A as k,b as C,r as x,o as D,h as S,B as E,j as w,D as Y,k as A,J as P,K as I,L as $,N as T,G as V,z as F,F as W,Q as N}from"./vendor.3b9a49d2.js";import{_ as z}from"./V-Button.vue_vue&type=script&setup=true&lang.dc9138c0.js";import{_ as H}from"./inputsLayaut.vue_vue&type=style&index=0&lang.57a8bd27.js";import{_ as L}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.020cd487.js";import{p as B,n as R,a as q,s as U,m as O,g as G}from"./Mixin.66e291cf.js";import{_ as J}from"./pdf_icon.0444a540.js";import{g as K}from"./Diciplines.bc087765.js";import{r as Q,g as X}from"./Recurrences.b93866d6.js";import{_ as Z}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.d46244a2.js";import{_ as ee}from"./V-Block.vue_vue&type=script&setup=true&lang.fd027cc2.js";import{_ as te}from"./V-Control.70f7b974.js";import{_ as se}from"./V-Field.vue_vue&type=script&setup=true&lang.8caeb9ca.js";import{_ as ae}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.fcfdfec1.js";import{p as le}from"./sidebarLayoutState.9d5a55d2.js";import{g as ne}from"./Memberships.68b5bf2e.js";import{f as ie}from"./Staffs.3df3da1b.js";import{g as oe}from"./config.02173b59.js";import{a as re,l as ce}from"./Companies.32b617ec.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.441d7520.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.360f6b50.js";import"./notyf.es.f84e4201.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.5554d4bf.js";import"./V-Dropdown.5634df5b.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.725db5d0.js";import"./useDropdown.4b88246a.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.2f39a4f2.js";import"./activePanelState.d422980e.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.4fb3e6c0.js";import"./V-Message.vue_vue&type=script&setup=true&lang.f4c30d64.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.db2a2ca9.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.533d5625.js";import"./navbarLayoutState.f8577b9e.js";import"./video.7e4ace56.js";import"./darkModeState.9048b099.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.9336f53f.js";import"./AnimatedLogo.d39560aa.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.5fbfe7cf.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.7c436ff6.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.b8cff140.js";const ue={key:0,class:"d-flex"},me={class:"ml-3"},pe={class:"title is-5 is-narrow"},de={class:"w-100 mt-5"},fe=A("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var he=M({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:l}){const n=e,i=E();j((()=>i.hash),(e=>{u.value=o.findIndex((e=>e.component==i.hash.slice(1)))})),k((()=>{""!=i.hash&&(u.value=o.findIndex((e=>e.component==i.hash.slice(1))))}));const o=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"}],r=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],c=C((()=>["Adult","Minor"].includes(n.category)?o:r)),u=x(0),m=x(null),p=C((()=>null!=c.value[u.value]?c.value[u.value].component:m.value));return(e,n)=>{const i=t,o=s;return D(),S(o,null,{default:w((()=>[Y(a)?(D(),S("div",ue,[A(i,{picture:`${Y(g)}storage/${Y(a).photo}`,size:"large"},null,8,["picture"]),A("div",me,[A("h2",pe,P(Y(a).name)+" "+P(Y(a).second_name)+" "+P(Y(a).last_name),1),A("p",null,"#"+P(Y(a).id),1),A("p",null,[A("small",null,"Member since. "+P(Y(y)(Y(a).created_at).format("ddd - DD MMM YYYY")),1)])])])):I("",!0),A("div",de,[A("ul",null,[(D(!0),S($,null,T(Y(c),((e,t)=>(D(),S("li",{key:`item-${t}`},[A(o,{class:["\n              mb-3\n              item_menu\n              d-flex\n              justify-content-between\n              align-items-center\n            ",u.value==t?"active":""],color:u.value==t?"warning":void 0,elevated:u.value==t,onClick:e=>(e=>{u.value=e,l("changeMenu",p)})(t)},{default:w((()=>[A("p",null,P(e.name),1),fe])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1})}}});const ve=A("div",null,[A("h1",{class:"title is-4 mb-0"},"Personal Information"),A("p",null,"Edit member's personal information")],-1),_e=V(" Save Changes "),be=V(" Convert to Members ");var ye=M({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;C((()=>"Prospect"==t.category));const s=()=>{let e=B(l.value),t=new FormData;for(var s in e)"id_leo_vet_fr"==s?null==e[s]&&t.append(s,0):t.append(s,e[s]);n(t).then((e=>{R.success("Edit Success")}))};return(e,a)=>{const n=z,i=H,o=L;return D(),S(o,null,{"header-left":w((()=>[ve])),"header-right":w((()=>[A(n,{onClick:s,color:"primary"},{default:w((()=>[_e])),_:1}),"Prospect"==t.category?(D(),S(n,{key:0,color:"info",class:"ml-3"},{default:w((()=>[be])),_:1})):I("",!0)])),content:w((()=>[A(i,{"inputs-step":Y(l)},null,8,["inputs-step"])])),_:1})}}});const ge=A("div",null,[A("h1",{class:"title is-4 mb-0"},"Membership / Contract"),A("p",null,"Edit member's membership and contract information")],-1),Me=V(" Cancel Membership "),je=V(" Save Changes "),ke=V(" New Membership "),Ce=A("h1",{class:"title is-6"},"Active Contract Information",-1),xe={class:"columns is-multiline"},De={class:"column is-12"},Se={key:0,class:"columns is-multiline column mt-4 is-12"},Ee=A("b",null,"Contract Date:",-1),we=A("b",null,"Cancelation date: ",-1),Ye={key:0},Ae={key:1},Pe={class:"column is-12"},Ie={class:"text-center"},$e=A("img",{src:J,width:"40",alt:""},null,-1),Te=V(" View PDF "),Ve=A("h1",{class:"title is-6"},"Inactive Contract Information",-1),Fe={class:"table is-hoverable is-fullwidth"},We=A("thead",null,[A("tr",null,[A("th",{scope:"col"},"Contract"),A("th",{scope:"col"},"Agreement Date"),A("th",{scope:"col"},"Sold By"),A("th",{scope:"col"},"Membership Type"),A("th",{scope:"col"},"Decipline"),A("th",{scope:"col"},"Start Date"),A("th",{scope:"col"},"End Date"),A("th",{scope:"col"},"Auto Renew"),A("th",{scope:"col"},"Discount Type")])],-1),Ne=A("img",{src:J,width:"40",alt:""},null,-1),ze={key:0},He={key:1},Le={key:0},Be=A("td",null,"N/A",-1),Re=A("h1",{class:"title is-6"},"Active Waiver Information",-1),qe={class:"text-center"},Ue=A("img",{src:J,width:"40",alt:""},null,-1),Oe=V(" View PDF ");var Ge=M({expose:[],setup(e){const t=e=>{if(console.log(e.input),"memberships_id"==e.input.name){let t=e.input.values.find((t=>t.id==e.input.model));console.log("membershipSelected",t),q(e.inputsStep,"initiation_fee",t.initiation_fee);let s=[];t.locations.forEach((e=>{1==e.sale&&s.push(e.company_locations)})),U(e.inputsStep,"locations_id",s),console.log("locations",s),t.amounts.forEach((e=>{Q.value.find((t=>t.id==e.recurrences_id)).amount=e.amount})),console.log(e.inputsStep)}"locations_id"==e.input.name&&K([e.input.model]).then((t=>{U(e.inputsStep,"diciplines",t.data)}))},l=(e,t)=>{"recurrences_id"==e.name&&q(t,"amount",e.values.find((t=>t.id==e.model)).amount)},n=()=>{const e=B(o.value);c(e).then((e=>{R.success("Success")}))},m=()=>{u().then((e=>{console.log(e)}))},p=()=>{const e=B(o.value);console.log(e)};return(e,c)=>{const u=z,d=H,f=z,h=s,v=L;return D(),S(v,null,{"header-left":w((()=>[ge])),"header-right":w((()=>[Y(i)?(D(),S(u,{key:0,onClick:m,color:"",class:"mr-4"},{default:w((()=>[Me])),_:1})):I("",!0),Y(i)?(D(),S(u,{key:1,onClick:n,color:"primary"},{default:w((()=>[je])),_:1})):I("",!0),Y(i)?I("",!0):(D(),S(u,{key:2,onClick:p,color:"primary"},{default:w((()=>[ke])),_:1}))])),content:w((()=>[A(h,{class:"mb-4"},{default:w((()=>[Ce,A("div",xe,[A("div",De,[A(d,{"inputs-step":Y(o),onChangeSelect:t,onChangeRadio:l},null,8,["inputs-step"])]),Y(a)&&Y(i)?(D(),S("div",Se,[A("div",null,[A("p",null,[Ee,V(" "+P(Y(y)(Y(a).membership_members.created_at).format("ddd - DD MMM yyyy")),1)]),A("p",null,[we,Y(a).membership_members.cacelation_date?(D(),S("span",Ye,P(Y(y)(Y(a).membership_members.cacelation_date).format("ddd - DD MMM yyyy")),1)):(D(),S("span",Ae," N/A "))])]),A("div",Pe,[A("div",Ie,[A("a",{target:"_blank",href:`${Y(g)}generateContract/${Y(a).id}`},[$e,A("p",null," contract_"+P(Y(a).id)+"_"+P(Y(a).membership_members.id)+"_"+P(Y(a).personal_identifications)+".pdf ",1),A(f,{color:"success",outlined:"",class:"mt-4 py-1"},{default:w((()=>[Te])),_:1})],8,["href"])])])])):I("",!0)])])),_:1}),Y(a)?(D(),S(h,{key:0,class:"mb-4"},{default:w((()=>[Ve,A("table",Fe,[We,A("tbody",null,[(D(!0),S($,null,T(Y(r),((e,t)=>(D(),S("tr",{key:`item-${t}`},[A("td",null,[A("a",{href:e.contract},[Ne],8,["href"])]),A("td",null,P(Y(y)(e.created_at).format("dd - DD MMM YYYY")),1),A("td",null,P(e.user.name),1),A("td",null,P(e.membership.name),1),A("td",null,[""!=e.diciplines||null!=e.diciplines||null!=e.diciplines?(D(),S("span",ze,[(D(!0),S($,null,T(e.diciplines,((e,t)=>(D(),S("span",{key:`dicipline-${t}`},[A("span",null,P(e.dicipline.name),1)])))),128))])):(D(),S("span",He,"N/A"))]),A("td",null,P(Y(y)(e.created_at).format("dd - DD MMM YYYY")),1),A("td",null,P(Y(y)(e.cacelation_date).format("dd - DD MMM YYYY")),1),A("td",null,[A("span",null,P(e.is_recurrence?"Recurrence":"Not Recurrence"),1),e.is_recurrence?(D(),S("span",Le,P(e.recurrence.recurrence),1)):I("",!0)]),Be])))),128))])])])),_:1})):I("",!0),Y(a)&&Y(i)?(D(),S(h,{key:1,class:"mb-4"},{default:w((()=>[Re,A("div",qe,[A("a",{target:"_blank",href:`${Y(g)}generateWeiver/${Y(a).id}`},[Ue,A("p",null," weiver_"+P(Y(a).id)+"_"+P(Y(a).membership_members.id)+"_"+P(Y(a).personal_identifications)+".pdf ",1),A(f,{color:"success",outlined:"",class:"mt-4 py-1"},{default:w((()=>[Oe])),_:1})],8,["href"])])])),_:1})):I("",!0)])),_:1})}}});const Je=A("div",null,[A("h1",{class:"title is-4 mb-0"},"Family Members"),A("p",null,"Edit member's family members")],-1),Ke={class:"columns is-multiline"},Qe={key:0,class:"column is-4 mb-4"};var Xe=M({expose:[],setup:e=>(x([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]),(e,s)=>{const l=t,n=Z,i=ee,o=L;return Y(a)?(D(),S(o,{key:0},{"header-left":w((()=>[Je])),"header-right":w((()=>[])),content:w((()=>[A("div",Ke,[Y(m)?(D(),S("div",Qe,[A(i,{title:`${Y(m).name} ${Y(m).second_name} ${Y(m).last_name}`,class:"border-1 p-4 radius-small"},{icon:w((()=>[A(l,{size:"medium",picture:Y(m).photo,subtitle:"Principal Family"},null,8,["picture"])])),action:w((()=>[A(n,{"id-member":Y(m).id},null,8,["id-member"])])),_:1},8,["title"])])):I("",!0),(D(!0),S($,null,T(Y(p),((e,t)=>(D(),S("div",{class:"column is-4 mb-4",key:`family-${t}`},[A(i,{title:`${e.member.name} ${e.member.second_name} ${Y(a).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:w((()=>[A(l,{size:"medium",picture:e.photo},null,8,["picture"])])),action:w((()=>[A(n,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):I("",!0)})});const Ze=A("div",null,[A("h1",{class:"title is-4 mb-0"},"Emergency Contact"),A("p",null,"Edit member's emergency contact")],-1),et=V(" Save Changes "),tt={class:"p-6"},st=A("h1",{class:"title is-5"},"Emergency Contact Information",-1);var at=M({expose:[],setup(e){const t=()=>{const e=B(d.value);console.log(e),f(e).then((e=>{R.success("Success")}))};return(e,s)=>{const a=z,l=H,n=L;return D(),S(n,null,{"header-left":w((()=>[Ze])),"header-right":w((()=>[A(a,{onClick:t,color:"primary"},{default:w((()=>[et])),_:1})])),content:w((()=>[A("div",tt,[st,A(l,{"inputs-step":Y(d)},null,8,["inputs-step"])])])),_:1})}}});const lt=A("div",null,[A("h1",{class:"title is-4 mb-0"},"Check-ins History"),A("p",null,"Edit member's check-ins history")],-1),nt={class:"p-6"},it={class:"d-flex"},ot=A("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),rt=A("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),ct=V(" Export "),ut={class:"mt-4"},mt={class:"table is-hoverable is-fullwidth"},pt=A("thead",null,[A("tr",null,[A("th",{scope:"col"},"DATE"),A("th",{scope:"col"},"TIME"),A("th",{scope:"col"},"STAFF")])],-1);var dt=M({expose:[],setup:e=>(e,t)=>{const s=te,l=se,n=z,i=L;return Y(a)?(D(),S(i,{key:0},{"header-left":w((()=>[lt])),"header-right":w((()=>[])),content:w((()=>[A("div",nt,[A("div",it,[A(l,{class:"field mr-3"},{default:w((()=>[A(s,null,{default:w((()=>[ot])),_:1})])),_:1}),A(l,{class:"field mr-3"},{default:w((()=>[A(s,null,{default:w((()=>[rt])),_:1})])),_:1}),A(n,{color:"primary"},{default:w((()=>[ct])),_:1})]),A("div",ut,[A("table",mt,[pt,A("tbody",null,[(D(!0),S($,null,T(Y(h),((e,t)=>(D(),S("tr",{key:`access-${t}`},[A("td",null,P(Y(y)(e.created_at).format("DD/MM/YYYY")),1),A("td",null,P(Y(y)(e.created_at).format("HH:mm:ss")),1),A("td",null,P(e.user.name),1)])))),128))])])])])])),_:1})):I("",!0)}});const ft=A("div",null,[A("h1",{class:"title is-4 mb-0"},"Purchases History"),A("p",null,"Edit member's purchases history")],-1),ht={class:"p-6"},vt={class:"mt-4"},_t={class:"table is-hoverable is-fullwidth"},bt=A("thead",null,[A("tr",null,[A("th",{scope:"col"},"DATE"),A("th",{scope:"col"},"TIME"),A("th",{scope:"col"},"AMOUNT"),A("th",{scope:"col"},"PAYMENT TYPE"),A("th",{scope:"col"},"ITEMS"),A("th",{scope:"col"},"STATUS")])],-1);var yt=M({expose:[],setup(e){C((()=>i.value.payments));const t=C((()=>{let e=[];return r.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e}));return k((()=>{console.log()})),(e,s)=>{const l=L;return Y(a)?(D(),S(l,{key:0},{"header-left":w((()=>[ft])),"header-right":w((()=>[])),content:w((()=>[A("div",ht,[A("div",vt,[A("table",_t,[bt,(D(!0),S($,null,T(Y(t),((e,t)=>(D(),S("tbody",{key:`paymentHistory-${t}`},[(D(!0),S($,null,T(e.payments,((t,s)=>(D(),S("tr",{key:`pay-${s}`},[A("td",null,P(Y(y)(t.created_at).format("DD/MM/YYYY")),1),A("td",null,P(Y(y)(t.created_at).format("HH:mm:ss")),1),A("td",null,P(Y(O)(t.amount)),1),A("td",null,P(t.payment_type.name),1),A("td",null,P(e.membership),1),A("td",null,P(t.status?"succeded":"error"),1)])))),128))])))),128))])])])])),_:1})):I("",!0)}}});const gt=A("div",null,[A("h1",{class:"title is-4 mb-0"}," Waiver "),A("p",null,"Edit member's waiver information")],-1),Mt=V(" Convert to Members "),jt={class:"columns is-multiline"},kt={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},Ct={href:"234",class:"text-center"},xt=A("img",{style:{width:"70px"},src:J,alt:""},null,-1);var Dt=M({expose:[],setup(e){const t=x([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,s)=>{const a=z,l=L;return D(),S(l,null,{"header-left":w((()=>[gt])),"header-right":w((()=>[A(a,{color:"info"},{default:w((()=>[Mt])),_:1})])),content:w((()=>[A("div",jt,[(D(!0),S($,null,T(t.value,((e,t)=>(D(),S("div",{class:"column is-2 mb-4",key:`family-${t}`},[A("div",kt,[A("a",Ct,[xt,A("p",null,P(e.name),1)])])])))),128))])])),_:1})}}});const St={key:1,class:"columns is-multiline"},Et={class:"column is-3"},wt={class:"column is-9"};var Yt=M({expose:[],setup(t){const s=E();le.value="Member Profile",F({title:"Members"});const a=x("personalInformation"),n=e=>{a.value=e.value};j((()=>s.query),((e,t)=>{console.log(s),Object.keys(e).length>0&&(c(),r())})),j((()=>s.hash),(e=>{a.value=s.hash.slice(1)}));const i=x(!0),r=()=>{i.value=!0,setTimeout((()=>{i.value=!1}),500)};k((()=>{console.log(s.hash),""!=s.hash&&(a.value=s.hash.slice(1)),re().then((e=>{U(o,"locations_id",ce.value)})),oe().then((e=>{U(l,"country_id",e.contries),U(l,"city_id",e.cities),U(l,"state_id",e.states),U(v,"city_id",e.cities),U(v,"state_id",e.states),U(v,"country_id",e.contries)})),ne().then((e=>{U(o,"memberships_id",e.data.memberships)})),_().then((e=>{U(o,"discount",e.data.discounts)})),X().then((e=>{U(o,"recurrences_id",e.data)})),ie().then((e=>{U(o,"staff_id",e.data)})),c()}));const c=async()=>{await b(s.query.id).then((e=>{for(var t in console.log(e.data),e.data)if("select_type"==t)"Individual"==e.data[t]?G(l.value,"select_type").model=!1:G(l.value,"select_type").model=!0;else if("membership_members"==t)for(var s in e.data[t])"memberships_location"==s?(G(o.value,"locations_id").model=e.data[t][s].companies_locations_id,K([e.data[t][s].companies_locations_id]).then((e=>{U(o,"diciplines",e.data)}))):"recurrence"==s?(e.data[t].membership.amounts.forEach((e=>{Q.value.find((t=>t.id==e.recurrences_id)).amount=e.amount})),G(o.value,"recurrences_id").model=e.data[t].recurrences_id):"diciplines"==s?(G(o.value,"diciplines").model=[],e.data[t][s].forEach((e=>{G(o.value,"diciplines").model.push(e.diciplines_id)}))):"membership"==s?G(o.value,"initiation_fee").model=e.data[t][s].initiation_fee:"is_initiation_fee"==s?G(o.value,"is_initiation_fee").model=0==e.data[t][s]?[s]:[]:q(o,s,e.data[t][s]);else if("staff_id"==t)q(o,t,e.data[t]);else if("emergency"==t)for(s in e.data[t])q(d,s,e.data[t][s]);else q(l,t,e.data[t]);console.log("inputsInformation",l.value)})),i.value=!1};return(t,l)=>{const o=e,r=he,c=ye,u=Ge,m=Xe,p=at,d=dt,f=yt,h=Dt,v=ae;return D(),S(v,null,{default:w((()=>[i.value?(D(),S(o,{key:0,height:"500px"})):I("",!0),i.value?I("",!0):(D(),S("div",St,[A("div",Et,[A(r,{category:Y(s).query.category,onChangeMenu:n},null,8,["category"])]),A("div",wt,[W(A(c,{category:Y(s).query.category},null,8,["category"]),[[N,"personalInformation"==a.value]]),W(A(u,null,null,512),[[N,"memberMembership"==a.value]]),W(A(m,null,null,512),[[N,"memberFamily"==a.value]]),W(A(p,null,null,512),[[N,"memberEmergency"==a.value]]),W(A(d,null,null,512),[[N,"memberCheckins"==a.value]]),W(A(f,null,null,512),[[N,"memberPurchases"==a.value]]),W(A(h,null,null,512),[[N,"memberWaiver"==a.value]])])]))])),_:1})}}});export default Yt;
