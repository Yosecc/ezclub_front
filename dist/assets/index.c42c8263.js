import{_ as e}from"./V-Placeload.f8b8ec60.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.00efb228.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.11c3a205.js";import{m as s,b as l,c as n,d as i,i as o,e as r,f as u,h as c,j as m,k as d,l as p,p as v,n as b,o as h,q as y,r as f,t as _,u as g,v as k,w as M,x,y as C,z as w,A as j,B as D,C as Y,D as P,E as S,F as $,G as I,H as E,I as z,J as A,K as V,L as F,M as T,N,O as q}from"./Members.d48b3728.js";import{b as L,P as H,A as R,F as B,c as W,v as O,g as G,m as U,n as K,p as J,e as X,a as Q,s as Z}from"./index.beab07a5.js";import{d as ee,w as te,H as ae,b as se,r as le,E as ne,o as ie,h as oe,K as re,P as ue,j as ce,k as me,G as de,R as pe,S as ve,W as be,X as he,a2 as ye,F as fe,A as _e,_ as ge,z as ke,O as Me}from"./vendor.41bfc188.js";import{_ as xe}from"./V-Button.vue_vue&type=script&setup=true&lang.b71f832b.js";import{_ as Ce}from"./V-Loader.vue_vue&type=script&setup=true&lang.4e7db0f0.js";import{_ as we}from"./V-Control.1c77a766.js";import{_ as je}from"./V-Field.vue_vue&type=script&setup=true&lang.76856fac.js";import{_ as De}from"./V-Modal.vue_vue&type=script&setup=true&lang.f8514cb3.js";import{_ as Ye}from"./V-Tag.vue_vue&type=script&setup=true&lang.d1f062ed.js";import{_ as Pe}from"./inputsLayaut.vue_vue&type=style&index=0&lang.67d0f0f9.js";import{_ as Se}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.066d1ccf.js";import{_ as $e,a as Ie,b as Ee}from"./Presupuesto.vue_vue&type=script&setup=true&lang.3d7e4e42.js";import{_ as ze}from"./MemberCards.vue_vue&type=script&setup=true&lang.ed165da8.js";import{_ as Ae}from"./V-AvatarStack.vue_vue&type=script&setup=true&lang.b3b15f6f.js";import{_ as Ve}from"./signComponent.vue_vue&type=script&setup=true&lang.d5b37c27.js";import{_ as Fe}from"./pdf_icon.6c120670.js";import{_ as Te}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.b4780617.js";import{_ as Ne}from"./V-Block.vue_vue&type=script&setup=true&lang.2cd1d3e1.js";import{_ as qe}from"./V-Tabs.vue_vue&type=script&setup=true&lang.bd708bba.js";import{_ as Le}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.cdee6b1a.js";import{p as He}from"./sidebarLayoutState.454c18d7.js";import{g as Re}from"./Discounts.29d56c25.js";import{a as Be}from"./Memberships.0827d5e9.js";import{g as We}from"./Recurrences.1643a6f5.js";import{h as Oe}from"./Staffs.177a8f8a.js";import{g as Ge}from"./Diciplines.485d6164.js";import{e as Ue}from"./config.497cf1f9.js";import{a as Ke,e as Je}from"./Companies.929b8b02.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.705d779e.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.5c7c3de8.js";import"./V-Dropdown.badc33ca.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.3a9e98a1.js";import"./useDropdown.83054731.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.88665bf0.js";import"./activePanelState.64e8f3f7.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.d68564b0.js";import"./video.97fb6e11.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.83e515e1.js";import"./darkModeState.fd1ad691.js";import"./AnimatedLogo.820f7b3b.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.d9ddefd6.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.c920d493.js";import"./userPopovers.f4b9fc60.js";const Xe={class:"d-flex justify-content-center align-items-center flex-column mb-4"},Qe={class:"mt-5 text-center"},Ze={class:"title is-5 is-narrow"},et={class:"w-100 mt-5"},tt=me("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var at=ee({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:l}){const n=e,i=ue();te((()=>i.hash),(e=>{m.value=o.findIndex((e=>e.component==i.hash.slice(1)))})),ae((()=>{""!=i.hash&&(m.value=o.findIndex((e=>e.component==i.hash.slice(1))))}));const o=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"},{name:"Invoices",component:"memberInvoices"},{name:"Credit",component:"memberCredit"}],r=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Parent / Guardian",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"},{name:"Credit",component:"memberCredit"}],u=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],c=se((()=>"Adult"==n.category?o:"Minor"==n.category?r:u)),m=le(0),d=le(null),p=se((()=>null!=c.value[m.value]?c.value[m.value].component:d.value));return(e,n)=>{const i=t,o=a;return ne(s)?(ie(),oe(o,{key:0,class:"cardprofile"},{default:ce((()=>[me("div",Xe,[me(i,{picture:ne(s).photo?`${ne(L)}storage/${ne(s).photo}`:"",size:"xl"},null,8,["picture"]),me("div",Qe,[me("h2",Ze,de(ne(s).name)+" "+de(ne(s).second_name)+" "+de(ne(s).last_name),1)])]),me("div",et,[me("ul",null,[(ie(!0),oe(pe,null,ve(ne(c),((e,t)=>(ie(),oe("li",{key:`item-${t}`},[me(o,{class:["\r\n              mb-3\r\n              item_menu\r\n              d-flex\r\n              justify-content-between\r\n              align-items-center\r\n            ",m.value==t?"active":""],color:m.value==t?"warning":void 0,elevated:m.value==t,onClick:e=>(e=>{m.value=e,l("changeMenu",p)})(t)},{default:ce((()=>[me("p",null,de(e.name),1),tt])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1})):re("",!0)}}});const st=me("div",{id:"payment-element"},null,-1),lt=fe(" Pay now "),nt=me("div",{id:"payment-message",class:"hidden"},null,-1);var it=ee({expose:[],props:{amount:{type:Number,required:!0},id:{type:Number,required:!0},url:{type:String,default:"stripe"},member_membership:{type:Number,default:0}},setup(t){const s=t,l=Stripe(H.value);te((()=>s.id),(e=>{console.log("cambio"),n.value=!0,m()}));const n=le(!0);le({id:s.id,amount:s.amount});const i=le(),o=se((()=>"stripe"!=s.url?{payment_type_id:3,amount:s.amount}:{id:s.id,member_mermship_id:s.member_membership,amount:s.amount,payment_type_id:1})),r=le(null),u=le(null),c=le(!1),m=async()=>{let e=await R.post(s.url,o.value).then((e=>{r.value=e.data.clientSecret,i.value=l.elements({clientSecret:r.value}),u.value=i.value.create("payment"),u.value.mount("#payment-element")})).catch((e=>{}));return n.value=!1,e},d=async e=>{e.preventDefault(),c.value=!0,await l.confirmPayment({elements:i.value,confirmParams:{return_url:`${B.value}members/process?payment_type=3&id=`+s.id+`&membership=${s.member_membership}`}}),c.value=!1};return ae((()=>{m()})),(t,s)=>{const l=e,i=xe,o=Ce,r=a;return ie(),oe(pe,null,[n.value?(ie(),oe(l,{key:0,height:"500px"})):re("",!0),be(me(r,{class:"mt-6"},{default:ce((()=>[me("form",{onSubmit:ye(d,["prevent"]),id:"payment-form"},[st,me(o,{size:"small",active:c.value},{default:ce((()=>[me(i,{id:"submit",class:"mt-4",color:"success"},{default:ce((()=>[lt])),_:1})])),_:1},8,["active"]),nt],40,["onSubmit"])])),_:1},512),[[he,!n.value]])],64)}}});const ot={class:"table is-hoverable is-striped is-fullwidth"},rt=me("th",{scope:"col"},"Members",-1),ut=me("th",{scope:"col"},"Membership Name",-1),ct=me("th",{scope:"col"},"Recurrence",-1),mt=me("th",{scope:"col"},"Prorated",-1),dt=me("th",{scope:"col"},"Membership Cost",-1),pt=me("th",{scope:"col"},"Initiation Fee",-1),vt=me("th",{scope:"col"},"Discount",-1),bt=me("th",{scope:"col"},"Taxes",-1),ht={key:0,scope:"col"},yt=me("th",{scope:"col"},"Sub Total",-1),ft={key:0},_t={key:0},gt={key:1},kt={key:2},Mt={key:0},xt=me("br",null,null,-1),Ct={key:1},wt={key:0},jt={key:1},Dt={key:0},Yt={key:0},Pt={key:1},St={key:1},$t={key:3},It={class:"is-end"},Et={class:"d-flex justify-content-between"},zt=fe(" Card Payment "),At=fe(" Cash Payment "),Vt={class:"d-flex mb-4 justify-content-between"},Ft={class:"title is-5"},Tt=fe(" Total: "),Nt={class:"title is-5"},qt=fe(" Cash Total: "),Lt={class:"\r\n            d-flex\r\n            justify-content-center\r\n            align-items-center\r\n            flex-column\r\n            mb-4\r\n          "},Ht=me("p",{class:"title is-5 mb-4"},"Change Back:",-1),Rt={class:"title is-3 mb-0"},Bt={class:"d-flex justify-content-center flex-wrap mb-4"},Wt=me("div",{class:"w-100"},null,-1),Ot={class:"d-flex justify-content-center"},Gt=fe("Reset"),Ut=fe("Confirm");var Kt=ee({expose:[],setup(e){le(!1);const t=le(!1);ae((()=>{console.log("se monto el payment")}));const o=se((()=>{let e=W(n,"memberships_id");return null!=e?e:[]})),r=se((()=>{let e=W(n,"recurrences_id");return null!=e?e:[]})),u=se((()=>{let e=O(n,"initiation_fee");return null!=e?e:[]})),c=se((()=>{let e=G(n,"discount");return null!=e?e:[]})),m=se((()=>{let e=parseFloat(_e().format("DD")),t=0,a=0;return r.value.days>=30&&(a=e-r.value.payday,t=r.value.amount/r.value.days*a),{days:a,amount:Math.abs(Math.round(t))}})),d=se((()=>(e=>{if(""!=O(n,"memberships_id"))return"percentaje"==(e=e.value?e.value:e).tax.type?{text:`${e.tax.value}%`,value:e.tax.value,type:"procentaje"}:{text:U(e.tax.value),value:e.tax.value}})(o))),p=le(null),v=se((()=>{let e=0;return e+=r.value.amount,O(n,"is_initiation_fee").length||(e+=u.value),e-=m.value.amount,c.value.data&&("dolar"==c.value.data.type?e-=c.value.data.value:"percentaje"==c.value.data.type&&(e-=e/100*c.value.data.value)),e+=e/100*d.value.value,s.value.penalty&&(p.value=o.value.penalty,e+=p.value),s.value.leo_vet_fr&&(e-=e/100*o.value.descuento_vet),e})),b=se((()=>{let e=0;return e+=v.value,e})),h=le(!1),y=le(0),f=se((()=>{const e=parseFloat(y.value)-parseFloat(b.value);return e>0?e:0}));le(1);const _=async()=>{await i(l.value.id,{total:b.value,payment_type_id:1,cash:y.value,cash_back:f.value}).then((e=>{K.success("Payment Success"),window.location.reload()})).catch((e=>{}))};return(e,i)=>{const g=xe,k=a,M=it,x=we,C=je,w=De;return ie(),oe("div",null,[me(k,{class:""},{default:ce((()=>{return[me("table",ot,[me("thead",null,[me("tr",null,[rt,ut,ct,mt,dt,pt,vt,bt,p.value?(ie(),oe("th",ht,"Penalty")):re("",!0),yt])]),0!=ne(o).length?(ie(),oe("tbody",ft,[me("tr",null,[me("td",null,[me("p",null,[me("b",null,de(ne(s).name)+" "+de(ne(s).second_name)+" "+de(ne(s).last_name),1)])]),0!=ne(o).legnth?(ie(),oe("td",_t,de(ne(o).name),1)):re("",!0),0!=ne(r).length?(ie(),oe("td",gt,de(ne(r).descriptions),1)):re("",!0),0!=ne(r).length?(ie(),oe("td",kt,[ne(r).days>=30?(ie(),oe("span",Mt,[fe(de(ne(m).days)+" days : ",1),xt,fe(" - "+de(ne(U)(ne(m).amount)),1)])):(ie(),oe("span",Ct,"-"))])):re("",!0),me("td",null,de(ne(U)((e=ne(r),e.amount))),1),me("td",null,[ne(O)(ne(n),"is_initiation_fee").length?(ie(),oe("span",jt,de(ne(U)(0)),1)):(ie(),oe("span",wt,de(ne(U)(ne(u))),1))]),me("td",null,[null!=ne(c).data?(ie(),oe("span",Dt,["dolar"==ne(c).data.type?(ie(),oe("span",Yt," - "+de(ne(U)(ne(c).data.value)),1)):re("",!0),"percentaje"==ne(c).data.type?(ie(),oe("span",Pt,de(ne(c).data.value)+"%",1)):re("",!0)])):(ie(),oe("span",St,"-"))]),me("td",null,de(ne(d).text),1),p.value?(ie(),oe("td",$t,de(ne(U)(p.value)),1)):re("",!0),me("td",null,de(ne(U)(ne(v))),1)]),me("tr",null,[me("td",{style:{"text-align":"right"},colspan:p.value?"9":"8"}," Total ",8,["colspan"]),me("td",It,de(ne(U)(ne(b))),1)])])):re("",!0)]),me("div",Et,[me(g,{color:"success",disabled:0==ne(o).length||isNaN(ne(b)),onClick:i[1]||(i[1]=e=>t.value=!0)},{default:ce((()=>[zt])),_:1},8,["disabled"]),me(g,{disabled:0==ne(o).length||isNaN(ne(b)),color:"warning",onClick:i[2]||(i[2]=e=>h.value=!0)},{default:ce((()=>[At])),_:1},8,["disabled"])])];var e})),_:1}),t.value?(ie(),oe(M,{key:0,class:"",url:`new_payment/${ne(l).id}`,amount:ne(b),id:ne(s).id,member_membership:ne(l).id},null,8,["url","amount","id","member_membership"])):re("",!0),me(w,{open:h.value,actions:"center",onClose:i[6]||(i[6]=e=>h.value=!1)},{content:ce((()=>[me("div",Vt,[me("p",Ft,[Tt,me("b",null,de(ne(U)(ne(b))),1)]),me("p",Nt,[qt,me("b",null,de(ne(U)(y.value)),1)])]),me("div",Lt,[Ht,me("p",Rt,[me("b",null,de(ne(U)(ne(f))),1)])]),me("div",Bt,[me(g,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:i[3]||(i[3]=e=>y.value=ne(b))},{default:ce((()=>[fe(" Full Payment "+de(ne(U)(ne(b))),1)])),_:1}),Wt,(ie(),oe(pe,null,ve([5,10,20,50,100],((e,t)=>me(g,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>y.value+=e},{default:ce((()=>[fe(" $"+de(e),1)])),_:2},1032,["onClick"]))),64))]),me("div",Ot,[me(C,null,{default:ce((()=>[me(x,null,{default:ce((()=>[be(me("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>y.value=e),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[ge,y.value]])])),_:1})])),_:1})])])),action:ce((()=>[me(g,{onClick:i[5]||(i[5]=e=>y.value=0),class:"d-flex justify-content-center",raised:""},{default:ce((()=>[Gt])),_:1}),me(g,{color:"success",onClick:_,disabled:ne(b)>y.value,class:"d-flex justify-content-center",raised:""},{default:ce((()=>[Ut])),_:1},8,["disabled"])])),_:1},8,["open"])])}}});const Jt=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Personal Information"),me("p",null,"Edit member's personal information")],-1),Xt=fe(" Save Changes "),Qt=fe(" Convert to Members ");var Zt=ee({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;se((()=>"Prospect"==t.category));const a=le(!1),s=()=>{a.value=!0;let e=J(o.value),t=new FormData;for(var s in e)t.append(s,e[s]);r(t).then((e=>{K.success("Edit Success"),a.value=!1})).catch((e=>{a.value=!1}))},l=se((()=>o.value.filter((e=>e.categories.includes(t.category)))));return(e,n)=>{const i=xe,r=Ce,u=Pe,c=Se;return ie(),oe(c,null,{"header-left":ce((()=>[Jt])),"header-right":ce((()=>[me(r,{size:"small",active:a.value},{default:ce((()=>[me(i,{onClick:s,color:"primary"},{default:ce((()=>[Xt])),_:1}),"Prospect"==t.category?(ie(),oe(i,{key:0,color:"info",class:"ml-3"},{default:ce((()=>[Qt])),_:1})):re("",!0)])),_:1},8,["active"])])),content:ce((()=>["Minor"==t.category?(ie(),oe(u,{key:0,"inputs-step":ne(l)},null,8,["inputs-step"])):(ie(),oe(u,{key:1,"inputs-step":ne(o)},null,8,["inputs-step"]))])),_:1})}}});const ea=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Membership / Contract"),me("p",null,"Edit member's membership and contract information")],-1),ta={class:"columns is-multiline justify-content-center"},aa={key:0,class:"column is-12"},sa=me("p",null,[me("small",null,"Membership")],-1),la={class:"title is-4 mb-0"},na={class:"text-right"},ia=me("b",null,"Payment Method:",-1),oa={class:"title is-4"},ra=me("br",null,null,-1),ua={key:0,class:"mr-1 mb-1"},ca={key:1,class:"column is-2"},ma=me("p",null,[me("b",null,"HOLD Membership")],-1),da={key:0},pa={key:2,class:"column is-2"},va=me("p",null,[me("b",null,"Pause Payment")],-1),ba={key:0},ha=fe("Confirm"),ya={key:3,class:"column is-2"},fa=me("p",null,[me("b",null,"Cancel Membership")],-1),_a={key:4,class:"column is-2"},ga=me("p",null,[me("b",null,"Payment Now")],-1),ka={key:5,class:"column is-2"},Ma=me("p",null,[me("b",null,"Pay Late Fee")],-1),xa={key:6,class:"column is-2"},Ca=me("p",null,[me("b",null,"Sync Subscription")],-1),wa={key:7,class:"mb-4 column is-12"},ja=fe("Save Changes"),Da=fe(" New Membership "),Ya={key:9,class:"column is-12 mb-6 mt-4"},Pa={key:1},Sa={class:"d-flex justify-content-end w-100"},$a=fe("Cancel"),Ia={key:10,class:"columns is-multiline column mt-4 is-12"},Ea=me("b",null,"Contract Date:",-1),za={class:"column is-12"},Aa=me("h1",{class:"title is-6"},"Active Waiver Information",-1),Va={class:"text-center"},Fa=me("img",{src:Fe,width:"40",alt:""},null,-1),Ta=fe(" View PDF ");var Na=ee({expose:[],props:{},emits:["reload"],setup(t,{emit:i}){ae((()=>{u(n)})),le(null),le(null),le(null),le(null),le(null);const r=le(!1);le(null);const x=se((()=>{if(n.unshift(c.value[0]),n.push(m.value[0]),G(n,"prorrateo").change=function(e){this.model?G(e,"schedules").disabled=!0:G(e,"schedules").disabled=!1},G(n,"recurrence").class="is-4",s.value&&l.value&&1==l.value.status){let e=["locations_id","diciplines","staff_id","discount"];return n.filter((t=>e.includes(t.name)))}return n})),C=()=>{G(n,"amount").required=!1,G(n,"initiation_fee").required=!1,G(n,"diciplines").required=!1;const e=J(n);b(e).then((e=>{K.success("Success"),r.value=!1,G(n,"amount").required=!0,G(n,"initiation_fee").required=!0,G(n,"diciplines").required=!0}))},w=async()=>{r.value=!0,await h(x.value,o.value),r.value=!1},j=()=>{confirm("Are you sure you want to perform this action?")&&(r.value=!0,y().then((e=>{K.success("Memberships Cancel"),window.location.reload(),r.value=!1})))},D=e=>{f(e,l.value.id).then((e=>{if(e.data.status)K.success("Sign Success");else for(var t in K.error(e.data.mensaje),e.data.errores)e.data.errores[t].forEach((e=>{K.error(`${t} : ${e}`)}))})).catch((e=>{}))},Y=e=>{},P=le(!1),S=le(null),$=()=>{confirm("Are you sure you want to perform this action?")&&(r.value=!0,_(l.value.id,S.value).then((e=>{K.success("Success Pause"),r.value=!1})).catch((e=>{for(var t in r.value=!1,e.response.data.errores)e.response.data.errores[t].forEach((e=>{K.error(`${t}: ${e}`)}))})))},I=le(!1),E=(e,t=3,a={})=>{if(!confirm("Do you want to try the payment?"))return;let n={payment_type_id:t,payment_method:e,total:s.value.subscription.total_invoice};1==t&&(n.changeBack=a.changeBack,n.cash=a.cash),r.value=!0,g(l.value.id,n).then((e=>{K.success("success"),window.location.reload()})).catch((e=>{if("object"==typeof e.response.data)for(var t in e.response.data)"array"==typeof e.response.data[t]||K.error(e.response.data[t]);else K.error(e.response.data)})).finally((()=>{r.value=!1}))},z=e=>{E(null,1,e)},A=()=>{r.value=!0,k().then((e=>{r.value=!1,K.success("Success"),i("reload")})).catch((e=>{r.value=!1}))},V=()=>{r.value=!0,M().then((e=>{r.value=!1,K.success("Success"),i("reload")})).catch((e=>{K.error(e.response.data),r.value=!1}))};return(t,n)=>{const i=a,o=Ce,u=xe,c=De,m=$e,b=ze,h=Pe,y=Ae,f=xe,_=e,g=Ie,k=Ee,M=Ve,F=Se;return ie(),oe(F,null,{"header-left":ce((()=>[ea])),content:ce((()=>[me("div",ta,[ne(s)&&ne(l)&&1==ne(l).status?(ie(),oe("div",aa,[me(i,{class:"d-flex justify-content-between",color:"info"},{default:ce((()=>[me("span",null,[sa,me("p",la,de(ne(l).membership.name),1),me("p",null,de(ne(l).recurrence.descriptions),1)]),me("span",na,[me("p",null,[me("small",null,[ia,fe(" "+de(ne(l).payment_type.name),1)])]),me("p",null,[me("small",null,de(ne(l).recurrence.is_recurrence?"Recurrence":"no recurrence"),1)]),me("p",oa,[fe(de(ne(U)(ne(s).subscription.total_invoice/100)),1),ra,ne(s).subscription&&ne(s).subscription.subscription&&!ne(s).subscription.subscription.upcoming_total?(ie(),oe("small",ua,"No upcoming bill")):re("",!0)])])])),_:1})])):re("",!0),ne(s)&&ne(l)&&1==ne(l).status?(ie(),oe("div",ca,[ne(s).membership_members.is_recurrence?(ie(),oe(o,{key:0,size:"small",active:r.value},{default:ce((()=>[ne(l)&&ne(s).subscription?(ie(),oe(i,{key:0,color:"info",outlined:null==ne(s).subscription.pause_collection,onClick:$,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:ce((()=>[ma,null!=ne(s).subscription.pause_collection?(ie(),oe("span",da,"Active until: "+de(ne(s).subscription.pause_collection.resumes_at),1)):re("",!0)])),_:1},8,["outlined"])):re("",!0)])),_:1},8,["active"])):re("",!0)])):re("",!0),ne(s)&&ne(l)&&1==ne(l).status?(ie(),oe("div",pa,[ne(s).membership_members.is_recurrence?(ie(),oe(o,{key:0,size:"small",active:r.value},{default:ce((()=>[ne(l)&&ne(s).subscription?(ie(),oe(i,{key:0,color:"warning",outlined:null==ne(s).subscription.pause_collection,onClick:n[1]||(n[1]=e=>P.value=!0),class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:ce((()=>[va,null!=ne(s).subscription.pause_collection?(ie(),oe("span",ba,"Active until: "+de(ne(s).subscription.pause_collection.resumes_at),1)):re("",!0)])),_:1},8,["outlined"])):re("",!0)])),_:1},8,["active"])):re("",!0),me(c,{open:P.value,actions:"center",onClose:n[3]||(n[3]=e=>P.value=!1)},{content:ce((()=>[be(me("input",{type:"date","onUpdate:modelValue":n[2]||(n[2]=e=>S.value=e),class:"input"},null,512),[[ge,S.value]])])),action:ce((()=>[me(u,{onClick:$,color:"primary",raised:""},{default:ce((()=>[ha])),_:1})])),_:1},8,["open"])])):re("",!0),ne(s)&&ne(l)&&1==ne(l).status?(ie(),oe("div",ya,[me(o,{size:"small",active:r.value},{default:ce((()=>[ne(l)?(ie(),oe(i,{key:0,color:"danger",outlined:"",onClick:j,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:ce((()=>[fa])),_:1})):re("",!0)])),_:1},8,["active"])])):re("",!0),ne(s)&&ne(l)&&1==ne(l).status?(ie(),oe("div",_a,[me(o,{size:"small",active:r.value},{default:ce((()=>[ne(l)?(ie(),oe(i,{key:0,color:"success",outlined:"",onClick:n[4]||(n[4]=e=>I.value=!I.value),class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:ce((()=>[ga])),_:1})):re("",!0)])),_:1},8,["active"])])):re("",!0),ne(s)&&ne(l)?(ie(),oe("div",ka,[ne(s).membership_members.is_recurrence?(ie(),oe(o,{key:0,size:"small",active:r.value},{default:ce((()=>[ne(l)?(ie(),oe(i,{key:0,color:"secondary",outlined:"",onClick:A,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:ce((()=>[Ma])),_:1})):re("",!0)])),_:1},8,["active"])):re("",!0)])):re("",!0),ne(s)&&ne(l)?(ie(),oe("div",xa,[ne(s).membership_members.is_recurrence?(ie(),oe(o,{key:0,size:"small",active:r.value},{default:ce((()=>[ne(l)?(ie(),oe(i,{key:0,color:void 0,outlined:"",onClick:V,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:ce((()=>[Ca])),_:1})):re("",!0)])),_:1},8,["active"])):re("",!0)])):re("",!0),I.value?(ie(),oe("div",wa,[ne(s).user?(ie(),oe(b,{key:0,onOnMethodPayment:E,memberid:ne(s).id,method_default:ne(s).user.pm_last_four,"show-new-card":!1,class:"mb-4",ancho:"is-4"},{default:ce((()=>[me(m,{total:ne(s).subscription.total_invoice,margin:"mx-0",class:"is-4",onOnPaymentCash:z},null,8,["total"])])),_:1},8,["memberid","method_default"])):re("",!0)])):re("",!0),ne(d).length?re("",!0):(ie(),oe(i,{key:8,class:"mb-4 column is-12"},{default:ce((()=>[me(h,{"inputs-step":ne(x)},null,8,["inputs-step"]),ne(s)&&ne(s).trainers?(ie(),oe(y,{key:0,avatars:ne(p)(ne(s).trainers),size:"small"},null,8,["avatars"])):re("",!0),ne(s)&&ne(l)&&1==ne(l).status?(ie(),oe(o,{key:1,size:"small",active:r.value},{default:ce((()=>[me(f,{class:"mt-5",onClick:C,color:"primary"},{default:ce((()=>[ja])),_:1})])),_:1},8,["active"])):re("",!0),ne(v)?re("",!0):(ie(),oe(o,{key:2,size:"small",active:r.value},{default:ce((()=>[ne(l)&&2!=ne(l).status?re("",!0):(ie(),oe(f,{key:0,class:"mt-5",onClick:w,color:"primary"},{default:ce((()=>[Da])),_:1}))])),_:1},8,["active"]))])),_:1})),ne(l)&&2!=ne(l).status?re("",!0):(ie(),oe("div",Ya,[r.value?(ie(),oe(_,{key:0,height:"300px",class:"mb-4"})):re("",!0),ne(d).length?(ie(),oe("div",Pa,[(ie(!0),oe(pe,null,ve(ne(d),((e,a)=>(ie(),oe(k,{key:`presupuesto-${a}`,class:"mb-4",presupuesto:e},{default:ce((()=>[me("div",Sa,[me(g,{member:e.member,member_id:ne(s).id,membresia:e.membresia,contact:t.dataContact,presupuesto_id:e.presupuesto_id,"categories-members":t.categoriesMembers,"notas-input":t.notasInput,total:e.totales.upfront.amount_total,onPaymentAction:Y,type:"edit"},null,8,["member","member_id","membresia","contact","presupuesto_id","categories-members","notas-input","total"])])])),_:2},1032,["presupuesto"])))),128)),me(f,{onClick:n[5]||(n[5]=e=>d.value=[]),color:"danger"},{default:ce((()=>[$a])),_:1})])):re("",!0)])),ne(s)&&ne(l)?(ie(),oe("div",Ia,[me("div",null,[me("p",null,[Ea,fe(" "+de(ne(_e)(ne(s).membership_members.created_at).format("ddd - DD MMM yyyy")),1)])]),me("div",za,[me(M,{onOnSign:D,"is-sign":!ne(l).sign,contract:`contract_${ne(s).id}_${ne(s).membership_members.id}_${ne(s).personal_identifications}.pdf`,"url-contract":`generateContract/${ne(s).id}`},null,8,["is-sign","contract","url-contract"])])])):re("",!0),re("",!0),ne(s)&&ne(l)?(ie(),oe(i,{key:12,class:"mb-4"},{default:ce((()=>[Aa,me("div",Va,[me("a",{target:"_blank",href:`${ne(L)}generateWeiver/${ne(s).id}`},[Fa,me("p",null," weiver_"+de(ne(s).id)+"_"+de(ne(s).membership_members.id)+"_"+de(ne(s).personal_identifications)+".pdf ",1),me(u,{color:"success",outlined:"",class:"mt-4 py-1"},{default:ce((()=>[Ta])),_:1})],8,["href"])])])),_:1})):re("",!0)])])),_:1})}}});const qa=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Family Members"),me("p",null,"Edit member's family members")],-1),La={class:"columns is-multiline"},Ha={key:0,class:"column is-4 mb-4"},Ra=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Parent"),me("p",null,"Edit parent contact")],-1),Ba=fe(" Save Changes "),Wa={class:""},Oa=me("h1",{class:"title is-5"},"Parent Contact Information",-1),Ga={class:"d-flex justify-content-end mr-6"};var Ua=ee({expose:[],setup(e){le([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]);const a=()=>{const e=perpareDataInputs(x.value);j(e).then((e=>{K.success("Success")}))},l=se((()=>(console.log("info",o.value),G(x.value,"city_id").model=G(o.value,"city_id").model,G(x.value,"state_id").model=G(o.value,"state_id").model,G(x.value,"postal_code").model=G(o.value,"postal_code").model,G(x.value,"country_id").model=G(o.value,"country_id").model,x.value)));return(e,n)=>{const i=t,o=Te,r=Ne,u=Se,c=xe,m=Pe;return ie(),oe("div",null,[ne(s)&&"Adult"==ne(s).category?(ie(),oe(u,{key:0},{"header-left":ce((()=>[qa])),"header-right":ce((()=>[])),content:ce((()=>[me("div",La,[ne(C)?(ie(),oe("div",Ha,[me(r,{title:`${ne(C).name} ${ne(C).second_name} ${ne(C).last_name}`,class:"border-1 p-4 radius-small"},{icon:ce((()=>[me(i,{size:"medium",picture:`${ne(L)}storage/${ne(C).photo}`,subtitle:"Principal Family"},null,8,["picture"])])),action:ce((()=>[me(o,{"id-member":ne(C).id},null,8,["id-member"])])),_:1},8,["title"])])):re("",!0),(ie(!0),oe(pe,null,ve(ne(w),((e,t)=>(ie(),oe("div",{class:"column is-4 mb-4",key:`family-${t}`},[me(r,{title:`${e.member.name} ${e.member.second_name} ${ne(s).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:ce((()=>[me(i,{size:"medium",picture:`${ne(L)}storage/${e.member.photo}`},null,8,["picture"])])),action:ce((()=>[me(o,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):re("",!0),ne(s)&&"Minor"==ne(s).category?(ie(),oe(u,{key:1},{"header-left":ce((()=>[Ra])),"header-right":ce((()=>[me(c,{onClick:a,color:"primary"},{default:ce((()=>[Ba])),_:1})])),content:ce((()=>[me("div",Wa,[Oa,me("div",Ga,[me(i,{picture:`${ne(L)}storage/${ne(O)(ne(x),"parent_photo")}`,size:"large"},null,8,["picture"])]),me(m,{"inputs-step":ne(l)},null,8,["inputs-step"])])])),_:1})):re("",!0)])}}});const Ka=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Emergency Contact"),me("p",null,"Edit member's emergency contact")],-1),Ja=fe(" Save Changes "),Xa={class:""},Qa=me("h1",{class:"title is-5"},"Emergency Contact Information",-1);var Za=ee({expose:[],setup(e){const t=()=>{const e=J(D.value);console.log(e),Y(e).then((e=>{K.success("Success")}))};return(e,a)=>{const s=xe,l=Pe,n=Se;return ie(),oe(n,null,{"header-left":ce((()=>[Ka])),"header-right":ce((()=>[me(s,{onClick:t,color:"primary"},{default:ce((()=>[Ja])),_:1})])),content:ce((()=>[me("div",Xa,[Qa,me(l,{"inputs-step":ne(D)},null,8,["inputs-step"])])])),_:1})}}});const es=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Check-ins History"),me("p",null,"Edit member's check-ins history")],-1),ts={class:"p-6"},as={class:"mt-4"},ss={class:"table is-hoverable is-fullwidth"},ls=me("thead",null,[me("tr",null,[me("th",{scope:"col"},"DATE"),me("th",{scope:"col"},"TIME")])],-1);var ns=ee({expose:[],setup:e=>(e,t)=>{const a=Se;return ne(s)?(ie(),oe(a,{key:0},{"header-left":ce((()=>[es])),"header-right":ce((()=>[])),content:ce((()=>[me("div",ts,[me("div",as,[me("table",ss,[ls,me("tbody",null,[(ie(!0),oe(pe,null,ve(ne(P),((e,t)=>(ie(),oe("tr",{key:`access-${t}`},[me("td",null,de(ne(_e)(e.created_at).format("MM/DD/YYYY")),1),me("td",null,de(ne(_e)(e.created_at).format("HH:mm:ss")),1)])))),128))])])])])])),_:1})):re("",!0)}});const is=le([{typeInput:"text",name:"description",placeholder:"Description",model:"",class:"is-12",isLabel:!0,required:!0},{typeInput:"text",name:"amount",placeholder:"Amount",model:"",class:"is-12",isLabel:!0,required:!0}]),os=fe("Confirm");var rs=ee({expose:[],props:{openModal:{type:Boolean,default:!1},paymentMethodId:{type:String,default:""}},emits:["closeModal","refreshTransactions"],setup(e,{emit:t}){const a=e,l=le(!1),n=async()=>{const e=J(is.value);await s.value;const n={amount:e.amount,description:e.description,payment_method_id:1,payment_method_stripe_id:a.paymentMethodId,member_id:s.value.id};l.value=!0;try{await(async(e={})=>await R.post("make-manual-payment",e))(n),X(is.value),K.success("Success"),t("closeModal")}catch(i){"string"==typeof i.response.data.message?K.error(i.response.data.message):K.error(i)}finally{l.value=!1}},i=()=>{X(is.value),t("closeModal")};return(e,t)=>{const s=Pe,o=xe,r=De;return ie(),oe(r,{open:a.openModal,title:"Create a new payment",size:"small",actions:"right",onClose:i},{content:ce((()=>[me(s,{"inputs-step":ne(is)},null,8,["inputs-step"])])),action:ce((()=>[me(o,{color:"primary",raised:"",onClick:n,loading:l.value},{default:ce((()=>[os])),_:1},8,["loading"])])),_:1},8,["open"])}}});const us=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Purchases History"),me("p",null,"Edit member's purchases history")],-1),cs=me("p",{class:"title is-5"},"Card List",-1),ms=me("div",{class:"d-flex align-items-center"},[me("p",{class:"title is-1 mb-0"},[me("i",{class:"fas fa-shopping-bag","aria-hidden":"true"})]),me("div",{class:"ml-4"},[me("p",{class:"title is-4 mb-2"},"Make a new payment with cash")])],-1);var ds=ee({expose:[],setup(e){const t=le(null),l=le(!1),n=()=>{},i=e=>{t.value=e,l.value=!0},o=()=>{l.value=!0},r=()=>{l.value=!1};return(e,u)=>{const c=rs,m=ze,d=a,p=Se;return ne(s)?(ie(),oe(p,{key:0},{"header-left":ce((()=>[us])),"header-right":ce((()=>[])),content:ce((()=>[cs,me(c,{"payment-method-id":t.value,"open-modal":l.value,onCloseModal:r},null,8,["payment-method-id","open-modal"]),ne(s).user?(ie(),oe(m,{key:0,"show-option":!0,class:"mb-6",onMakePayment:i,onOnMethodPayment:n,method_default:ne(s).user.pm_last_four,"show-new-card":!0,memberid:ne(s).id},null,8,["method_default","memberid"])):re("",!0),me(d,{onClick:o,color:"success",class:"btn-card"},{default:ce((()=>[ms])),_:1})])),_:1})):re("",!0)}}});const ps=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Subscription Invoice History"),me("p")],-1),vs=me("p",null,"Invoices",-1),bs={class:"table is-hoverable is-fullwidth"},hs=me("thead",null,[me("tr",null,[me("th",{scope:"col"},"Description"),me("th",{scope:"col"},"Created"),me("th",{scope:"col"},"Amount"),me("th",{scope:"col"},"Method"),me("th",{scope:"col"},"Download"),me("th",{scope:"col"},"Status")])],-1),ys={key:0},fs=me("i",{class:"fas fa-download","aria-hidden":"true"},null,-1),_s={key:1},gs=me("td",null,"Subscription",-1),ks={key:0},Ms={key:1},xs={key:0},Cs={key:1},ws=me("td",null,"Cash",-1),js=me("td",null,null,-1);var Ds=ee({expose:[],setup(e){const t=ke({data:[]});return se((()=>l.value.payments)),se((()=>{let e=[];return $.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e})),ae((async()=>{const{data:e}=await S(s.value.id,{invoice_type:1});t.data=e.invoices})),(e,l)=>{const n=xe,i=Ye,o=a,r=Se;return ne(s)?(ie(),oe(r,{key:0},{"header-left":ce((()=>[ps])),"header-right":ce((()=>[])),content:ce((()=>[me(o,{class:"my-4"},{default:ce((()=>[vs,me("table",bs,[hs,ne(s).subscription&&ne(t).data?(ie(),oe("tbody",ys,[(ie(!0),oe(pe,null,ve(ne(t).data,((e,t)=>(ie(),oe("tr",{key:`invoice-${t}`},[me("td",null,[me("p",null,de(e.description),1)]),me("td",null,de(ne(_e)(e.created).format("MM/DD/YYYY")),1),me("td",null,de(ne(U)(e.total/100)),1),me("td",null,de(e.collection_method),1),me("td",null,[me("a",{href:e.invoice_pdf,target:"_blank"},[me(n,null,{default:ce((()=>[fs])),_:1})],8,["href"])]),me("td",null,[me(i,{class:"mr-1 mb-1",label:e.status},null,8,["label"])])])))),128))])):ne(s).membership_members&&ne(s).membership_members.invoice_local?(ie(),oe("tbody",_s,[(ie(!0),oe(pe,null,ve(ne(s).membership_members.invoice_local,((e,t)=>(ie(),oe("tr",{key:`invoice-${t}`},[gs,me("td",null,de(ne(_e)(e.created).format("MM/DD/YYYY")),1),me("td",null,[e.period_start?(ie(),oe("span",ks,de(ne(_e)(e.period_start).format("MM/DD/YYYY")),1)):(ie(),oe("span",Ms))]),me("td",null,[e.period_end?(ie(),oe("span",xs,de(ne(_e)(e.period_end).format("MM/DD/YYYY")),1)):(ie(),oe("span",Cs))]),me("td",null,de(ne(U)(e.amount/100)),1),ws,js,me("td",null,de(e.status?"paid":"incomplete"),1)])))),128))])):re("",!0)])])),_:1}),re("",!0)])),_:1})):re("",!0)}}});const Ys=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Product Invoice History"),me("p")],-1),Ps=me("p",null,"Invoices",-1),Ss={class:"table is-hoverable is-fullwidth"},$s=me("thead",null,[me("tr",null,[me("th",{scope:"col"},"Description"),me("th",{scope:"col"},"Created"),me("th",{scope:"col"},"Amount"),me("th",{scope:"col"},"Method"),me("th",{scope:"col"},"Download"),me("th",{scope:"col"},"Status")])],-1),Is={key:0},Es=me("i",{class:"fas fa-download","aria-hidden":"true"},null,-1),zs={key:1},As=me("td",null,"Subscription",-1),Vs={key:0},Fs={key:1},Ts={key:0},Ns={key:1},qs=me("td",null,"Cash",-1),Ls=me("td",null,null,-1);var Hs=ee({expose:[],setup(e){const t=ke({data:[]});return se((()=>l.value.payments)),se((()=>{let e=[];return $.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e})),ae((async()=>{const{data:e}=await S(s.value.id,{invoice_type:2});t.data=e.invoices})),(e,l)=>{const n=xe,i=Ye,o=a,r=Se;return ne(s)?(ie(),oe(r,{key:0},{"header-left":ce((()=>[Ys])),"header-right":ce((()=>[])),content:ce((()=>[me(o,{class:"my-4"},{default:ce((()=>[Ps,me("table",Ss,[$s,ne(s).subscription&&ne(t).data?(ie(),oe("tbody",Is,[(ie(!0),oe(pe,null,ve(ne(t).data,((e,t)=>(ie(),oe("tr",{key:`invoice-${t}`},[me("td",null,[me("p",null,de(e.description),1)]),me("td",null,de(ne(_e)(e.created).format("MM/DD/YYYY")),1),me("td",null,de(ne(U)(e.total/100)),1),me("td",null,de(e.collection_method),1),me("td",null,[me("a",{href:e.invoice_pdf,target:"_blank"},[me(n,null,{default:ce((()=>[Es])),_:1})],8,["href"])]),me("td",null,[me(i,{class:"mr-1 mb-1",label:e.status},null,8,["label"])])])))),128))])):ne(s).membership_members&&ne(s).membership_members.invoice_local?(ie(),oe("tbody",zs,[(ie(!0),oe(pe,null,ve(ne(s).membership_members.invoice_local,((e,t)=>(ie(),oe("tr",{key:`invoice-${t}`},[As,me("td",null,de(ne(_e)(e.created).format("MM/DD/YYYY")),1),me("td",null,[e.period_start?(ie(),oe("span",Vs,de(ne(_e)(e.period_start).format("MM/DD/YYYY")),1)):(ie(),oe("span",Fs))]),me("td",null,[e.period_end?(ie(),oe("span",Ts,de(ne(_e)(e.period_end).format("MM/DD/YYYY")),1)):(ie(),oe("span",Ns))]),me("td",null,de(ne(U)(e.amount/100)),1),qs,Ls,me("td",null,de(e.status?"paid":"incomplete"),1)])))),128))])):re("",!0)])])),_:1}),re("",!0)])),_:1})):re("",!0)}}});const Rs=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Charge Invoice History"),me("p")],-1),Bs=me("p",null,"Invoices",-1),Ws={class:"table is-hoverable is-fullwidth"},Os=me("thead",null,[me("tr",null,[me("th",{scope:"col"},"Description"),me("th",{scope:"col"},"Created"),me("th",{scope:"col"},"Amount"),me("th",{scope:"col"},"Method"),me("th",{scope:"col"},"Download"),me("th",{scope:"col"},"Status")])],-1),Gs={key:0},Us=me("i",{class:"fas fa-download","aria-hidden":"true"},null,-1),Ks={key:1},Js=me("td",null,"Subscription",-1),Xs={key:0},Qs={key:1},Zs={key:0},el={key:1},tl=me("td",null,"Cash",-1),al=me("td",null,null,-1);var sl=ee({expose:[],setup(e){const t=ke({data:[]});return se((()=>l.value.payments)),se((()=>{let e=[];return $.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e})),ae((async()=>{const{data:e}=await S(s.value.id,{invoice_type:3});t.data=e.invoices})),(e,l)=>{const n=xe,i=Ye,o=a,r=Se;return ne(s)?(ie(),oe(r,{key:0},{"header-left":ce((()=>[Rs])),"header-right":ce((()=>[])),content:ce((()=>[me(o,{class:"my-4"},{default:ce((()=>[Bs,me("table",Ws,[Os,ne(s).subscription&&ne(t).data?(ie(),oe("tbody",Gs,[(ie(!0),oe(pe,null,ve(ne(t).data,((e,t)=>(ie(),oe("tr",{key:`invoice-${t}`},[me("td",null,[me("p",null,de(e.description),1)]),me("td",null,de(ne(_e)(e.created).format("MM/DD/YYYY")),1),me("td",null,de(ne(U)(e.total/100)),1),me("td",null,de(e.collection_method),1),me("td",null,[me("a",{href:e.invoice_pdf,target:"_blank"},[me(n,null,{default:ce((()=>[Us])),_:1})],8,["href"])]),me("td",null,[me(i,{class:"mr-1 mb-1",label:e.status},null,8,["label"])])])))),128))])):ne(s).membership_members&&ne(s).membership_members.invoice_local?(ie(),oe("tbody",Ks,[(ie(!0),oe(pe,null,ve(ne(s).membership_members.invoice_local,((e,t)=>(ie(),oe("tr",{key:`invoice-${t}`},[Js,me("td",null,de(ne(_e)(e.created).format("MM/DD/YYYY")),1),me("td",null,[e.period_start?(ie(),oe("span",Xs,de(ne(_e)(e.period_start).format("MM/DD/YYYY")),1)):(ie(),oe("span",Qs))]),me("td",null,[e.period_end?(ie(),oe("span",Zs,de(ne(_e)(e.period_end).format("MM/DD/YYYY")),1)):(ie(),oe("span",el))]),me("td",null,de(ne(U)(e.amount/100)),1),tl,al,me("td",null,de(e.status?"paid":"incomplete"),1)])))),128))])):re("",!0)])])),_:1}),re("",!0)])),_:1})):re("",!0)}}});const ll={},nl={key:0},il={key:1},ol={key:2};ll.render=function(e,t){const a=Ds,s=Hs,l=sl,n=qe;return ie(),oe(n,{selected:"subscription",tabs:[{label:"Subscription Invoice",value:"subscription"},{label:"Product Invoice",value:"product"},{label:"Charge Invoice",value:"charge"}]},{tab:ce((({activeValue:e})=>["subscription"===e?(ie(),oe("div",nl,[me(a)])):"product"===e?(ie(),oe("div",il,[me(s)])):"charge"===e?(ie(),oe("div",ol,[me(l)])):re("",!0)])),_:1})};const rl=me("div",null,[me("h1",{class:"title is-4 mb-0"}," Waiver "),me("p",null,"Edit member's waiver information")],-1),ul=fe(" Convert to Members "),cl={class:"columns is-multiline"},ml={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},dl={href:"234",class:"text-center"},pl=me("img",{style:{width:"70px"},src:Fe,alt:""},null,-1);var vl=ee({expose:[],setup(e){const t=le([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,a)=>{const s=xe,l=Se;return ie(),oe(l,null,{"header-left":ce((()=>[rl])),"header-right":ce((()=>[me(s,{color:"info"},{default:ce((()=>[ul])),_:1})])),content:ce((()=>[me("div",cl,[(ie(!0),oe(pe,null,ve(t.value,((e,t)=>(ie(),oe("div",{class:"column is-2 mb-4",key:`family-${t}`},[me("div",ml,[me("a",dl,[pl,me("p",null,de(e.name),1)])])])))),128))])])),_:1})}}});const bl=fe("Confirm");var hl=ee({expose:[],props:{openModal:{type:Boolean,default:!1}},emits:["closeModal","refreshTransactions"],setup(e,{emit:t}){const a=e,l=le(!1),n=async()=>{const e=J(I.value),a={amount:e.amount,description:e.description};l.value=!0;try{"Add Credit"===e.transaction_type?await E(s.value.id,a):await z(s.value.id,a),X(I.value),K.success("Success"),t("closeModal"),t("refreshTransactions")}catch(n){"string"==typeof n.response.data.message?K.error(n.response.data.message):K.error(n)}finally{l.value=!1}},i=()=>{X(I.value),t("closeModal")};return(e,t)=>{const s=Pe,o=xe,r=De;return ie(),oe(r,{open:a.openModal,title:"Create a new transaction",size:"small",actions:"right",onClose:i},{content:ce((()=>[me(s,{"inputs-step":ne(I)},null,8,["inputs-step"])])),action:ce((()=>[me(o,{color:"primary",raised:"",onClick:n,loading:l.value},{default:ce((()=>[bl])),_:1},8,["loading"])])),_:1},8,["open"])}}});const yl=me("div",null,[me("h1",{class:"title is-4 mb-0"},"Credit History"),me("p",null,"Edit member's credit history")],-1),fl=fe(" New Transaction "),_l={class:"title"},gl={class:"mt-4"},kl={class:"table is-hoverable is-fullwidth"},Ml=me("thead",null,[me("tr",null,[me("th",{scope:"col"},"ID"),me("th",{scope:"col"},"Description"),me("th",{scope:"col"},"Date"),me("th",{scope:"col"},"Type"),me("th",{scope:"col"},"Amount")])],-1),xl={key:0};var Cl=ee({expose:[],setup(e){const t=ke({open:!1}),l=le(0);ae((async()=>{n()}));const n=async()=>{await A(s.value.id),(async()=>{const{data:e}=await V(s.value.id);l.value=e.balance})()},i=()=>{t.open=!t.open},o=()=>{t.open=!1};return(e,r)=>{const u=xe,c=hl,m=a,d=Se;return ne(s)?(ie(),oe(d,{key:0},{"header-left":ce((()=>[yl])),"header-right":ce((()=>[me(u,{onClick:i,color:"primary"},{default:ce((()=>[fl])),_:1})])),content:ce((()=>[me(c,{"open-modal":ne(t).open,onCloseModal:o,onRefreshTransactions:n},null,8,["open-modal"]),me("p",_l,"Credit: "+de(l.value)+"$",1),me(m,{class:"p-"},{default:ce((()=>[me("div",gl,[me("table",kl,[Ml,ne(F)?(ie(),oe("tbody",xl,[(ie(!0),oe(pe,null,ve(ne(F).data,((e,t)=>(ie(),oe("tr",{key:`transaction-${t}`},[me("td",null,de(e.id),1),me("td",null,de(e.meta.description),1),me("td",null,de(ne(_e)(e.created_at).format("MM/DD/YYYY")),1),me("td",null,de(e.type),1),me("td",null,de(e.amount),1)])))),128))])):re("",!0)])])])),_:1})])),_:1})):re("",!0)}}});const wl={key:0,class:"columns is-multiline"},jl={class:"column is-3"},Dl={class:"column is-9"},Yl={class:"columns is-multiline column is-12"},Pl={class:"columns is-multiline column is-12"},Sl={key:1,class:"columns is-multiline"},$l={class:"column is-3"},Il={class:"column is-9"},El={class:"d-flex justify-content-between"},zl=me("b",null,"Member since.",-1),Al=me("b",null,"Membership Active:",-1),Vl=me("b",null,"Due Date: ",-1),Fl={key:0},Tl=me("b",null,"Discount: ",-1),Nl={key:0};var ql=ee({expose:[],setup(t){const i=ue();He.value="Member Profile",Me({title:"Members"});const r=le(!1),u=le("personalInformation"),c=e=>{u.value=e.value};te((()=>i.query),((e,t)=>{Object.keys(e).length>0&&(b(),v())}));const m=le("ERROR MEMBERSHIP"),d=le("");te(s,(e=>{e.sinMembresia&&(m.value="NO MEMBERSHIP",d.value="Please, select a membership"),e.isSolvente||e.sinMembresia||!e.subscription||(m.value=`Membership ${e.subscription.status}`,d.value=e.subscription.latest_invoice&&e.subscription.latest_invoice.payments_intents&&e.subscription.latest_invoice.payments_intents.length>0?`Last payment status : ${e.subscription.latest_invoice.payments_intents[0].status}`:""),e.subscription&&e.subscription.subscription&&!e.subscription.latest_invoice&&(d.value=`Last payment status : ${e.subscription.subscription.status}`),e.membership_members&&e.membership_members.cacelation_date&&(d.value=`Cancel date : ${_e(e.membership_members.cacelation_date).format("MM-DD-YYYY")}`)})),te((()=>i.hash),(e=>{u.value=i.hash.slice(1)})),te((()=>i.query.id),(e=>{u.value="personalInformation"}));const p=le(!0),v=()=>{p.value=!0,setTimeout((()=>{p.value=!1}),500)};ae((()=>{""!=i.hash&&(u.value=i.hash.slice(1)),Ke().then((e=>{Q(n,"locations_id",Je.value)})),Ue().then((e=>{Q(o,"country_id",e.contries),Q(o,"city_id",e.cities),Q(o,"state_id",e.states),Q(T,"city_id",e.cities),Q(T,"state_id",e.states),Q(T,"country_id",e.contries),Q(x.value,"city_id",e.cities),Q(x.value,"state_id",e.states),Q(x.value,"country_id",e.contries)})),Be().then((e=>{Q(n,"memberships_id",e.data.memberships)})),Re().then((e=>{Q(n,"discount",e.data.discounts)})),We().then((e=>{Q(n,"recurrences_id",e.data)})),Oe().then((e=>{Q(n,"staff_id",e.data)})),b()}));const b=async()=>{await N(i.query.id).then((e=>{for(var t in console.log("response.data",e.data),e.data)if("select_type"==t)"Individual"==e.data[t]?(G(o.value,"select_type").model=!1,G(o.value,"company_name").typeInput="hidden"):(G(o.value,"select_type").model=!0,G(o.value,"company_name").typeInput="text");else if("membership_members"==t)for(var a in e.data[t]||(m.value="Does not have a membership",d.value="Does not have a membership go to the Membership/Contract section and create a new membership and press New Membership",console.error("no posee una membresia :(")),e.data[t])"memberships_location"==a?e.data[t][a]?(G(n,"locations_id").model=e.data[t][a].companies_locations_id,Ge([e.data[t][a].companies_locations_id]).then((e=>{Q(n,"diciplines",e.data)}))):console.error("no posee una locacion :("):"diciplines"==a?(G(n,"diciplines").model=[],e.data[t][a].forEach((e=>{G(n,"diciplines").model.push(e.diciplines_id)}))):"discount"==a?e.data[t][a]&&(G(n,"discount").model=e.data[t][a].id):null!=G(n,a)&&Z(n,a,e.data[t][a]);else if("trainers"==t){let a=[];e.data[t].forEach((e=>{a.push(e.id)})),Z(n,"staff_id",a)}else if("emergency"==t)for(a in e.data[t])Z(D,a,e.data[t][a]);else if("guardian"==t)for(a in e.data[t])"parent_address"==a?G(x.value,"address").model=e.data[t][a]:Z(x,a,e.data[t][a]);else Z(o,t,"leo_vet_fr"==t?1==e.data[t]:e.data[t]);p.value=!1}))},h=se((()=>{let e="";return s.value.subscription?(e=s.value.subscription.subscription&&"active"==s.value.subscription.subscription.status?"active":s.value.subscription.status,"active"==s.value.subscription.status||s.value.subscription.status,"canceled"==s.value.subscription.status&&_e()<=_e(s.value.membership_members.cacelation_date)&&(e="active")):s.value.sinMembresia&&(e=s.value.user&&s.value.user.pm_last_four?"nomembershipcontarjeta":"nomembership"),e})),y=()=>{p.value=!0,b()};return(t,n)=>{const i=e,o=at,m=a,v=Kt,b=Ye,f=Zt,_=Na,g=Ua,k=Za,M=ns,x=ds,C=ll,w=vl,j=Cl,D=Le;return ie(),oe(D,null,{default:ce((()=>[p.value?(ie(),oe("div",wl,[me("div",jl,[me(i,{height:"700px"})]),me("div",Dl,[me("div",Yl,[me(i,{height:"150px"})]),me("div",Pl,[me(i,{height:"420px"})])])])):re("",!0),!p.value&&ne(s)?(ie(),oe("div",Sl,[me("div",$l,[me(o,{category:ne(s).category,onChangeMenu:c,class:ne(h)},null,8,["category","class"])]),me("div",Il,[ne(q)?re("",!0):(ie(),oe(m,{key:0,class:["\r\n            mb-4\r\n            d-flex\r\n            justify-content-between\r\n            align-items-center\r\n            cardprofile\r\n          ",ne(h)]},{default:ce((()=>[me("div",null,[me("p",null,de(d.value),1)])])),_:1},8,["class"])),r.value?(ie(),oe(v,{key:1,class:"mb-4"})):re("",!0),null!=ne(s).membership_members?(ie(),oe(m,{key:2,class:"mb-4"},{default:ce((()=>{var e;return[me("div",El,[me("div",null,[me("p",null,[me("b",null,[fe("Member #"+de(ne(s).id)+" - ",1),me("small",null,de(ne(s).category),1)])]),me("p",null,[me("small",null,[zl,fe(" "+de(ne(_e)(ne(s).created_at).format("ddd - DD MMM YYYY")),1)])]),me("p",null,[Al,fe(" "+de(ne(l).membership.name),1)]),me("p",null,[Vl,fe(" "+de(ne(_e)(ne(s).subscription.proxima_factura).format("ddd - DD MMM YYYY")),1)]),(null==(e=ne(s).membership_members)?void 0:e.discount)?(ie(),oe("p",Fl,[Tl,fe(" "+de(ne(s).membership_members.discount.name),1)])):re("",!0)]),ne(s).subscription?(ie(),oe("div",Nl,[me(b,{color:"info",label:ne(s).subscription.status,rounded:""},null,8,["label"])])):re("",!0)])]})),_:1})):re("",!0),be(me(f,{category:ne(s).category},null,8,["category"]),[[he,"personalInformation"==u.value]]),be(me(_,{onReload:y},null,512),[[he,"memberMembership"==u.value]]),be(me(g,null,null,512),[[he,"memberFamily"==u.value]]),be(me(k,null,null,512),[[he,"memberEmergency"==u.value]]),be(me(M,null,null,512),[[he,"memberCheckins"==u.value]]),be(me(x,null,null,512),[[he,"memberPurchases"==u.value]]),be(me(C,null,null,512),[[he,"memberInvoices"==u.value]]),be(me(w,null,null,512),[[he,"memberWaiver"==u.value]]),be(me(j,null,null,512),[[he,"memberCredit"==u.value]])])])):re("",!0)])),_:1})}}});export default ql;
