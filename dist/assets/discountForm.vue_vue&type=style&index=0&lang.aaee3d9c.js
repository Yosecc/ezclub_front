import{c as t,p as e,n as s,_ as a}from"./Companies.ae68c98c.js";import{_ as r}from"./formLayaut.vue_vue&type=style&index=0&lang.82e2dd0c.js";import{d as o,z as n,b as u,o as i,h as c,D as d,B as p,A as l,j as f,k as m}from"./vendor.e90c84d1.js";import{i as v,s as y,p as b}from"./Discounts.40817496.js";var j=o({expose:[],props:{type:{type:String,default:"create"},buttons:{type:Array,default:["save","back"]},step:{type:Number,default:1}},setup(o){const j=o,h=p(),_=l();n((()=>{t(v.value)}));const k=u((()=>"create"==j.type?{title:"Add a new discount",subtitle:"Add information for a new discount"}:{title:"Edit discount",subtitle:"Edit information for a discount"})),A=()=>{const a=e(v.value);"create"==j.type?y(a).then((e=>{if(e.data.status)s.success("Success"),t(v.value),h.back();else for(var a in s.error(e.data.mensaje),e.data.errores)e.data.errores[a].forEach((t=>{s.error(`${a} : ${t}`)}))})):"edit"==j.type&&b(_.query.id,a).then((e=>{if(e.data.status)s.success("Success"),t(v.value),h.back();else for(var a in s.error(e.data.mensaje),e.data.errores)e.data.errores[a].forEach((t=>{s.error(`${a} : ${t}`)}))}))};return(t,e)=>{const s=a,o=r;return i(),c(o,{buttons:j.buttons,step:j.step,titles:d(k),onSaveData:A},{default:f((()=>[m(s,{"inputs-step":d(v)},null,8,["inputs-step"])])),_:1},8,["buttons","step","titles"])}}});export{j as _};
