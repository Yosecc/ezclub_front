import{_ as e}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.c7710eae.js";import{_ as s}from"./V-Avatar.vue_vue&type=script&setup=true&lang.119fc4d3.js";import{_ as t}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.cc61794c.js";import{_ as a}from"./V-IconButton.vue_vue&type=script&setup=true&lang.23693247.js";import{_ as r}from"./V-Tag.vue_vue&type=script&setup=true&lang.62f4b657.js";import{_ as l}from"./V-Button.vue_vue&type=script&setup=true&lang.e4f3f19e.js";import{_ as m}from"./V-Card.vue_vue&type=script&setup=true&lang.e9093fe9.js";import{d as i,z as n,b as c,o,h as u,j as p,D as d,k as b,J as f,K as h,T as v,G as g,r as y,w as _,a7 as x,A as k,B as j,L as w,N as C}from"./vendor.685e53b0.js";import{h as M}from"./moment.08a7f518.js";import{_ as P,a as T}from"./search-4-dark.fb3880a5.js";import{a as A}from"./index.b0eaa1f3.js";const $={key:0},V={class:"d-flex justify-content-between mb-4"},D={class:"d-flex align-items-center"},I={class:"ml-5"},S={class:"title is-5 is-narrow mb-1"},z=b("p",null,"Member",-1),B={class:"title is-6 is-narrow"},E={key:0,class:"text-center mb-4"},R=b("p",null,"last payment attempt",-1),L={key:0},N={key:1},q={class:"d-flex justify-content-center"},O=g(" Update "),F=g(" Ckeck-in "),G={key:1},J=b("p",null,"No hay miembro seleccionado",-1);var K=i({expose:[],props:{status:{type:Boolean},member:{type:Object}},emits:["closeMemberCard"],setup(e,{emit:t}){const i=e;n((()=>{}));const g=c((()=>{let e=M(i.member.membership_members.payments[0].created_at),s=M();return M.duration(s.diff(e))._days})),y=c((()=>null==i.member.membership_members?"":null==i.member.membership_members||i.member.membership_members.payments[0].status?"info":"danger"));return(t,n)=>{const c=s,_=a,x=r,k=l,j=m;return o(),u(v,{name:"fade-slow"},{default:p((()=>[e.status?(o(),u(j,{key:0,id:"sidebarMember",color:d(y),class:"column is-6"},{default:p((()=>[e.member?(o(),u("div",$,[b("div",V,[b("div",D,[b(c,{picture:e.member.photo,color:void 0,initials:"AR",size:"sm"},null,8,["picture"]),b("div",I,[b("h1",S,f(e.member.name)+" "+f(e.member.second_name)+" "+f(e.member.last_name),1),z,b("h2",B,"# "+f(e.member.id),1)])]),b("div",null,[b(_,{color:"danger",onClick:n[1]||(n[1]=e=>t.$emit("closeMemberCard")),style:{background:"transparent"},light:"",raised:"",circle:"",icon:"feather:x"})])]),null==e.member.membership_members||e.member.membership_members.payments[0].status?h("",!0):(o(),u("div",E,[b(x,{color:"white",label:"PAYMENT",class:"mb-3"}),R,d(g)>0?(o(),u("p",L,f(d(g))+" days past due",1)):(o(),u("p",N,f(d(M)(i.member.membership_members.payments[0].created_at).format("yy/mm/d hh:mm:ss")),1))])),b("div",q,[b(k,{to:{name:"members-profile",query:{id:e.member.id}},color:"primary",class:"m-3 button-custom",icon:"fas fa-pen"},{default:p((()=>[O])),_:1},8,["to"]),b(k,{color:"warning",class:"m-3 button-custom",icon:"fas fa-clock"},{default:p((()=>[F])),_:1})])])):(o(),u("div",G,[J]))])),_:1},8,["color"])):h("",!0)])),_:1})}}});const U={class:"page-content-inner"},W={class:"flex-list-wrapper flex-list-v1"},Y=b("img",{class:"light-image",src:P,alt:""},null,-1),H=b("img",{class:"dark-image",src:T,alt:""},null,-1),Q={class:"flex-table"},X=b("span",{class:"is-grow"},"Member",-1),Z=b("span",null,"Member ID",-1),ee=b("span",null,"Membership Type",-1),se=b("span",null,"Trainer",-1),te=b("span",null,"Phone #",-1),ae=b("span",null,"Status",-1),re=b("span",{class:"cell-end"},"Actions",-1),le={class:"flex-list-inner"},me={class:"item-name dark-inverted"},ie={class:"flex-table-cell","data-th":"member-id"},ne={class:"light-text"},ce={class:"flex-table-cell","data-th":"Membership Type"},oe={key:0,class:"light-text"},ue={class:"flex-table-cell is-media is-grow","data-th":"Trainer"},pe={key:1,class:"light-text dark-inverted ml-2"},de={class:"flex-table-cell","data-th":"Phone"},be={class:"light-text"},fe={class:"flex-table-cell","data-th":"Status"},he={class:"flex-table-cell cell-end","data-th":"Actions"};var ve=i({expose:[],props:{members:{type:Array,required:!0},name:{type:String,default:"Item"},paginationData:{type:Object,default:{itemPerPage:15,totalItems:1,currentPage:1,maxLinksDisplayed:7}},filters:{type:String}},emits:["filterChange"],setup(a,{emit:r}){const l=a;k(),j(),y(""),y("all"),y({});const m=c((()=>l.filters?l.members.filter((e=>e.name.match(new RegExp(l.filters,"i"))||e.last_name.match(new RegExp(l.filters,"i"))||e.second_name.match(new RegExp(l.filters,"i"))||e.id==l.filters||e.phone==l.filters||e.personal_identifications==l.filters)):l.members)),i=y({status:!1,member:null}),n=()=>{i.value.status=!1,i.value.member=null},v=(e,s)=>e.substr(0,1)+s.substr(0,1);return _((()=>l.members),(()=>{})),(a,r)=>{const c=e,g=s,y=t,_=K;return o(),u("div",null,[b("div",U,[b("div",W,[b(c,{class:[0!==d(m).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:p((()=>[Y,H])),_:1},8,["class"]),b("div",Q,[0!==d(m).length?(o(),u("div",{key:0,class:["flex-table-header",[0===d(m).length&&"is-hidden"]]},[X,Z,ee,se,te,ae,re],2)):h("",!0),b("div",le,[b(x,{name:"list",tag:"div"},{default:p((()=>[(o(!0),u(w,null,C(d(m),(e=>(o(),u("div",{key:`${l.name}-${e.id}`,class:["flex-table-item cursor-pointer",e.isSolvente?"":"bg-danger"]},[b("div",{onClick:e=>{},class:"flex-table-cell is-media is-grow"},[b(g,{picture:`${d(A)}storage/${e.photo}`,color:"primary",initials:v(e.name,e.last_name),size:"medium"},null,8,["picture","initials"]),b("div",null,[b("span",me,[b("h3",null,f(e.name)+" "+f(e.second_name)+" "+f(e.last_name),1)])])],8,["onClick"]),b("div",ie,[b("span",ne,f(e.id),1)]),b("div",ce,[e.membership_members?(o(),u("span",oe,f(e.membership_members.membership.name),1)):h("",!0)]),b("div",ue,[null!=e.trainer?(o(),u(g,{key:0,picture:`${d(A)}storage/${e.trainer.photo}`,color:"h-green",initials:v(e.trainer.name,e.trainer.last_name),size:"medium"},null,8,["picture","initials"])):h("",!0),null!=e.trainer?(o(),u("span",pe,f(e.trainer.name)+" "+f(e.trainer.second_name)+" "+f(e.trainer.last_name),1)):h("",!0)]),b("div",de,[b("span",be,f(e.phone),1)]),b("div",fe,[b("span",{class:["tag is-rounded",null!=e.membership_members?"is-success":""]},f(null!=e.membership_members?"Active":"Inactive"),3)]),b("div",he,[b(y,{"id-member":e.id,member:e},null,8,["id-member","member"])])],2)))),128))])),_:1})])])])]),b(_,{status:i.value.status,member:i.value.member,onCloseMemberCard:n},null,8,["status","member"])])}}});export{ve as _};
