import{n as e,A as t,m as s}from"./index.68722e81.js";import{c as a}from"./Discounts.a6167618.js";import{r as l,A as n,d as i,h as c,i as u,k as o,l as r,R as d,H as p,L as m,K as v,G as f,b as y,W as _,X as b,F as h,S as w,_ as g}from"./vendor.4454b83d.js";import{_ as C}from"./V-Card.vue_vue&type=script&setup=true&lang.e9e64dc2.js";import{_ as x}from"./V-Loader.vue_vue&type=script&setup=true&lang.069747cb.js";import{_ as j}from"./V-Button.vue_vue&type=script&setup=true&lang.cc6d2b95.js";import{s as O,_ as k}from"./MemberCards.9f2fafd2.js";import{_ as E}from"./V-Modal.vue_vue&type=script&setup=true&lang.ef7028a7.js";import{_ as I}from"./V-Control.63a8a239.js";import{_ as $}from"./V-Field.vue_vue&type=script&setup=true&lang.b3ed284d.js";const P=l([{value:"All",name:"All"},{value:"COBRAR HOY",name:"Pay Day"},{value:"PENDIENTE",name:"Pending"},{value:"VENCIDO",name:"Due"},{value:"PAGADO",name:"Paid"},{value:"CANCELADO",name:"Canceled"},{value:"EXPIRADO",name:"Expired"},{value:"PROX. EXPIRADO",name:"Prox. Expired"}]),N=l(null),D=l(null),S={memberships_id:null,recurrences_id:null,is_initiation_fee:!0,is_card_price:!1,discount:null,is_last_month:!1,multigym:!1,prorrateo:!0,schedules:"",leo_vet_fr:!1,payment_type_id:3},A=n(JSON.parse(JSON.stringify(S))),L=()=>{Object.assign(A,JSON.parse(JSON.stringify(S)))},V=l([{typeInput:"switchEventChangeInput",name:"is_initiation_fee",values:["NO","YES"],placeholder:"Initiation fee",default:!0,model:A.is_initiation_fee,disabled:!1,class:"is-3 switch-button",isLabel:!0},{typeInput:"switchEventChangeInput",default:!1,name:"is_card_price",placeholder:"Card",values:["NO","YES"],model:!1,disabled:!1,class:"is-3 switch-button",isLabel:!0},{typeInput:"switchEventChangeInput",default:!1,name:"is_last_month",placeholder:"Last Month",values:["NO","YES"],model:!1,disabled:!1,class:"is-3 switch-button",isLabel:!0},{typeInput:"switchEventChangeInput",default:!1,name:"multigym",placeholder:"MultiGym",values:["NO","YES"],model:!1,disabled:!1,class:"is-3 switch-button",isLabel:!0},{typeInput:"switchEventChangeInput",name:"prorrateo",values:["NO","YES"],placeholder:"Prorated Payment",model:!0,default:!0,required:!1,class:"is-3 switch-button",isLabel:!0},{typeInput:"switch",name:"leo_vet_fr",values:["NO","YES"],placeholder:"Member is: Law Enforcement Officer, Veteran o First Responder.",model:!1,default:!1,required:!1,class:"is-9 switch-button",isLabel:!0,categories:["Adult"],typeMember:["Individual"]},{typeInput:"hidden",name:"schedules",placeholder:"Subscription Schedules",model:"",required:!1,class:"is-4",isLabel:!0},{typeInput:"selectDataActionChangeInput",name:"discount",placeholder:"Discount",values:[],data:null,model:"",disabled:!1,class:"is-4",isLabel:!0,change:function(t){""!=this.model?a(this.values.find((e=>e.id==this.model)).code,"membership").then((t=>{this.data=t.data,e.success("Discuount valid")})).catch((t=>{e.error(t.response.data),this.model=""})):this.data=null}},{name:"payment_type_id",typeInput:"selectData",placeholder:"Payment Type",model:3,required:!0,values:[{id:1,name:"Cash"},{id:3,name:"Debit automatic"}],class:"is-4",isLabel:!0,filterOptionText:function(e){return e.name}}]);n({recurrence:!0,locations:[],diciplines:[],member:{}});const q=async()=>await t.get("v2/get_membership"),B=async(e=null,s=null)=>await t.get(`discounts?status=${e}&applies=${s}`),F=async e=>await t.post("v2/presupuesto_member",e),R=async e=>await t.post("v2/create_suscripcion",e),Y=async(e,s)=>await t.post(`v2/suscripcion/remplace/${e}`,s),z=async(e,s=!0)=>await t.post(`v2/get_suscripcion/${e}?is_member=${s}`),M=async e=>await t.post(`v2/get_suscripcion/code/${e}`),T=async(e,s)=>await t.post(`v2/suscripcion/payment/${e}`,s),J=async(e,s)=>await t.post(`v2/suscripcion/cancel/${e}`,s),U=async(e,s)=>await t.post(`v2/suscripcion/upgrade/${e}`,s),X=async(e,s)=>await t.post(`v2/suscripcion/update/${e}`,s),G=async(e,s)=>await t.post(`v2/suscripcion/hold/${e}`,s),H=async(e,s)=>await t.post(`v2/suscripcion/process_multigym/${e}`,s),K=async(e,s)=>await t.post(`v2/suscripcion/get_amount_multigym/${e}`,s),W=async e=>await t.post(`v2/suscripcion/calculo_suscripcion_restante/${e}`),Q={class:"d-flex justify-content-between align-items-start"},Z=r("p",{class:"title is-3"},[r("i",{class:"fas fa-credit-card","aria-hidden":"true"})],-1),ee={class:"title is-5"},te={key:0,class:"title is-6"},se=r("p",null,[r("b",null,"Cards")],-1),ae={key:0,class:"pb-3 mb-5"},le=f(" Sync Cards "),ne=f("Confirm");var ie=i({expose:[],props:{total:{type:Number,required:!0},user:{type:Object,required:!0},card:{type:Boolean,default:!1},textCard:{type:String,default:"Debit Automatic"},newUser:{type:Boolean,dafutl:!1},outline:{type:Boolean,dafutl:!1}},emits:["onPayment"],setup(t,{emit:s}){const a=t,n=l(!1),i=()=>{null!=b.value?(n.value=!1,s("onPayment",{amount:a.total,payment_type_id:3,payment_method_id:b.value})):e.error("Select card")},f=l(!1),y=l(!0),_=()=>{O(a.user.id).then((e=>{y.value=!1,setTimeout((()=>{y.value=!0}),100)}))},b=l(null);return(e,s)=>{const l=C,h=x,w=j,g=k,O=E;return c(),u(d,null,[a.card?(c(),u(h,{key:1,class:"h-100",size:"small",active:e.isLoaderActive},{default:o((()=>[r(l,{color:"success",outlined:"",onClick:s[2]||(s[2]=e=>n.value=!0),class:"\r\n        mr-4\r\n        btn-card\r\n        text-center\r\n        px-2\r\n        h-100\r\n        d-flex\r\n        align-items-center\r\n        justify-content-center\r\n      ",style:{"font-size":"14px"}},{default:o((()=>[se,m(e.$slots,"default")])),_:3})])),_:1},8,["active"])):(c(),u(l,{key:0,onClick:s[1]||(s[1]=e=>n.value=!0),color:"success",class:"mx-2 btn-card w-100 justify-content-center h-100",outlined:a.outline},{default:o((()=>[r("div",Q,[r("div",null,[Z,r("p",ee,p(a.textCard),1)]),(c(),u("p",te,[m(e.$slots,"righttop")]))])])),_:3},8,["outlined"])),r(O,{title:"",size:"big",open:n.value,actions:"center",onClose:s[4]||(s[4]=e=>n.value=!1)},{content:o((()=>[t.newUser?v("",!0):(c(),u("div",ae,[r(h,{size:"large",active:f.value},{default:o((()=>[r(w,{color:"undefined",onClick:_,class:"d-flex justify-content-center",raised:""},{default:o((()=>[le])),_:1})])),_:1},8,["active"])])),a.user&&n.value&&y.value?(c(),u(g,{key:1,"show-option":!0,class:"mb-6",modelValue:b.value,"onUpdate:modelValue":s[3]||(s[3]=e=>b.value=e),method_default:a.user.pm_last_four,"show-new-card":!0,user:a.user,"on-new-card-u-r-l":"v2/stripe/setup","add-card-stripe-u-r-l":"v2/stripe/addCard",v2:!0,actions:[]},null,8,["modelValue","method_default","user"])):v("",!0)])),action:o((()=>[r(w,{color:"success",onClick:i,disabled:!b.value,class:"d-flex justify-content-center",raised:""},{default:o((()=>[ne])),_:1},8,["disabled"])])),_:1},8,["open"])],64)}}});const ce={class:"d-flex justify-content-between align-items-start"},ue=r("div",null,[r("p",{class:"title is-3"},[r("i",{class:"fas fa-money-bill-wave","aria-hidden":"true"})]),r("p",{class:"title is-5"},"Cash")],-1),oe={class:"title is-6"},re={class:"d-flex mb-4 justify-content-between"},de={class:"title is-5"},pe=f(" Total: "),me={class:"title is-5"},ve=f(" Cash Total: "),fe={class:"\r\n            d-flex\r\n            justify-content-center\r\n            align-items-center\r\n            flex-column\r\n            mb-4\r\n          "},ye=r("p",{class:"title is-5 mb-4"},"Change Back:",-1),_e={class:"title is-3 mb-0"},be={class:"d-flex justify-content-center flex-wrap mb-4"},he=r("div",{class:"w-100"},null,-1),we={class:"d-flex justify-content-center"},ge=f("Reset"),Ce=f("Confirm");var xe=i({expose:[],props:{total:{type:Number,required:!0},define_status:{type:Boolean,default:!0}},emits:["onPayment"],setup(e,{emit:t}){const a=e,n=l(!1),i=l(0),v=y((()=>{const e=parseFloat(i.value)-parseFloat(a.total);return e>0?e:0})),x=()=>{n.value=!1,t("onPayment",{cash:i.value,changeBack:v.value,amount:a.total,payment_type_id:1})},O=()=>{n.value=!0};return(t,l)=>{const y=C,k=j,P=I,N=$,D=E;return c(),u(d,null,[r(y,{onClick:O,color:a.define_status?"warning":void 0,class:"btn-card w-100 justify-content-center"},{default:o((()=>[r("div",ce,[ue,r("p",oe,[m(t.$slots,"righttop")])])])),_:3},8,["color"]),r(D,{title:"",open:n.value,actions:"center",onClose:l[4]||(l[4]=e=>n.value=!1)},{content:o((()=>[_(r("div",null,[m(t.$slots,"modalprev")],512),[[b,!a.define_status]]),_(r("div",null,[r("div",re,[r("p",de,[pe,r("b",null,p(h(s)(e.total)),1)]),r("p",me,[ve,r("b",null,p(h(s)(i.value)),1)])]),r("div",fe,[ye,r("p",_e,[r("b",null,p(h(s)(h(v))),1)])]),r("div",be,[r(k,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:l[1]||(l[1]=t=>i.value=e.total)},{default:o((()=>[f(" Full Payment "+p(h(s)(e.total)),1)])),_:1}),he,(c(),u(d,null,w([5,10,20,50,100],((e,t)=>r(k,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>(e=>{i.value=parseFloat(i.value)+parseFloat(e)})(e)},{default:o((()=>[f(" $"+p(e),1)])),_:2},1032,["onClick"]))),64))]),r("div",we,[r(N,null,{default:o((()=>[r(P,null,{default:o((()=>[_(r("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[g,i.value]])])),_:1})])),_:1})])],512),[[b,a.define_status]])])),action:o((()=>[r(k,{onClick:l[3]||(l[3]=e=>i.value=0),class:"d-flex justify-content-center",raised:""},{default:o((()=>[ge])),_:1}),r(k,{color:"success",onClick:x,disabled:e.total>i.value,class:"d-flex justify-content-center",raised:""},{default:o((()=>[Ce])),_:1},8,["disabled"])])),_:1},8,["open"])],64)}}});const je={class:"d-flex justify-content-between align-items-start"},Oe=r("div",null,[r("p",{class:"title is-3"},[r("i",{class:"fas fa-credit-card","aria-hidden":"true"})]),r("p",{class:"title is-5"},"Debit Card")],-1),ke={key:0,class:"title is-6"};var Ee=i({expose:[],props:{total:{type:Number,required:!0},user:{type:Object,required:!0}},emits:["onPayment"],setup(e,{emit:t}){const s=e,a=l(!1),n=()=>{a.value=!1,t("onPayment",{amount:s.total,payment_type_id:3})};return(e,t)=>{const s=C;return c(),u(s,{onClick:n,color:"success",class:"mx-2 btn-card w-100 justify-content-center",outlined:""},{default:o((()=>[r("div",je,[Oe,(c(),u("p",ke))])])),_:1})}}});export{ie as _,K as a,xe as b,J as c,q as d,B as e,N as f,M as g,G as h,V as i,F as j,W as k,U as l,Y as m,T as n,Ee as o,H as p,S as q,L as r,A as s,z as t,X as u,D as v,P as w,R as x};
