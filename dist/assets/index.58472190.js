import{_ as e}from"./V-Placeload.4695e536.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.b94da949.js";import{_ as s}from"./V-Card.vue_vue&type=script&setup=true&lang.24389008.js";import{d as a,O as l,w as n,I as i,b as r,r as o,E as u,o as c,i as m,H as p,j as d,k as v,G as f,S as b,U as y,W as h,X as _,a1 as g,F as k,A as x,_ as M,z as C,P as j}from"./vendor.073d5183.js";import{m as w,b as D,c as P,d as S,i as Y,e as $,f as V,h as E,j as z,k as I,l as A,p as F,n as T,o as B,q as N,r as q,t as H,u as L,v as R,w as W,x as O,y as U,z as G,A as J,B as K,C as X,D as Q,E as Z,F as ee,G as te,H as se,I as ae,J as le,K as ne,L as ie,M as re,N as oe,O as ue}from"./Members.17f9c192.js";import{b as ce,P as me,A as pe,F as de,c as ve,v as fe,g as be,m as ye,n as he,p as _e,e as ge,a as ke,s as xe}from"./index.845d558b.js";import{_ as Me}from"./V-Button.vue_vue&type=script&setup=true&lang.a5e89951.js";import{_ as Ce}from"./V-Loader.vue_vue&type=script&setup=true&lang.adff0cc1.js";import{_ as je}from"./V-Control.37224b15.js";import{_ as we}from"./V-Field.vue_vue&type=script&setup=true&lang.4e36ac54.js";import{_ as De}from"./V-Modal.vue_vue&type=script&setup=true&lang.29e348bf.js";import{_ as Pe}from"./V-Tag.vue_vue&type=script&setup=true&lang.6f7fb019.js";import{_ as Se}from"./inputsLayaut.vue_vue&type=style&index=0&lang.e733a91e.js";import{_ as Ye}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.ef092ab3.js";import{_ as $e,a as Ve,b as Ee}from"./Presupuesto.vue_vue&type=script&setup=true&lang.69ac470f.js";import{_ as ze}from"./MemberCards.vue_vue&type=script&setup=true&lang.d7022d68.js";import{_ as Ie}from"./V-AvatarStack.vue_vue&type=script&setup=true&lang.e1f27d15.js";import{_ as Ae}from"./signComponent.vue_vue&type=script&setup=true&lang.607cd820.js";import{_ as Fe}from"./pdf_icon.c564bb1d.js";import{_ as Te}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.cbebc22d.js";import{_ as Be}from"./V-Block.vue_vue&type=script&setup=true&lang.e2f5126f.js";import{_ as Ne}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.c80d93e3.js";import{p as qe}from"./sidebarLayoutState.e4d5b56e.js";import{g as He}from"./Discounts.843311ce.js";import{a as Le}from"./Memberships.7f99c534.js";import{g as Re}from"./Recurrences.9b43e512.js";import{h as We}from"./Staffs.3d4432b0.js";import{g as Oe}from"./Diciplines.73a6e11e.js";import{e as Ue}from"./config.5caea121.js";import{a as Ge,e as Je}from"./Companies.ca72e995.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.b631b135.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.662fbc8e.js";import"./V-Dropdown.3dc4bc24.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.b93971f9.js";import"./useDropdown.c13972ea.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.038e68d0.js";import"./activePanelState.c5eca1d9.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.cc1307cb.js";import"./video.969d11fd.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.8493da55.js";import"./darkModeState.1faec688.js";import"./AnimatedLogo.1cc94f36.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.9e6a0d72.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.dc4fcfa1.js";import"./userPopovers.f4b9fc60.js";const Ke={class:"d-flex justify-content-center align-items-center flex-column mb-4"},Xe={class:"mt-5 text-center"},Qe={class:"title is-5 is-narrow"},Ze={class:"w-100 mt-5"},et=v("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var tt=a({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:a}){const h=e,_=l();n((()=>_.hash),(e=>{M.value=g.findIndex((e=>e.component==_.hash.slice(1)))})),i((()=>{""!=_.hash&&(M.value=g.findIndex((e=>e.component==_.hash.slice(1))))}));const g=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"},{name:"Credit",component:"memberCredit"}],k=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],x=r((()=>["Adult","Minor"].includes(h.category)?g:k)),M=o(0),C=o(null),j=r((()=>null!=x.value[M.value]?x.value[M.value].component:C.value));return(e,l)=>{const n=t,i=s;return u(w)?(c(),m(i,{key:0,class:"cardprofile"},{default:d((()=>[v("div",Ke,[v(n,{picture:u(w).photo?`${u(ce)}storage/${u(w).photo}`:"",size:"xl"},null,8,["picture"]),v("div",Xe,[p(" <p>{{ member }}</p> "),v("h2",Qe,f(u(w).name)+" "+f(u(w).second_name)+" "+f(u(w).last_name),1)])]),v("div",Ze,[v("ul",null,[(c(!0),m(b,null,y(u(x),((e,t)=>(c(),m("li",{key:`item-${t}`},[v(i,{class:["\n              mb-3\n              item_menu\n              d-flex\n              justify-content-between\n              align-items-center\n            ",M.value==t?"active":""],color:M.value==t?"warning":void 0,elevated:M.value==t,onClick:e=>(e=>{M.value=e,a("changeMenu",j)})(t)},{default:d((()=>[v("p",null,f(e.name),1),et])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1})):p("v-if",!0)}}});const st=v("div",{id:"payment-element"},[p("Stripe.js injects the Payment Element")],-1),at=k(" Pay now "),lt=v("div",{id:"payment-message",class:"hidden"},null,-1);var nt=a({expose:[],props:{amount:{type:Number,required:!0},id:{type:Number,required:!0},url:{type:String,default:"stripe"},member_membership:{type:Number,default:0}},setup(t){const a=t,l=Stripe(me.value);n((()=>a.id),(e=>{console.log("cambio"),u.value=!0,C()}));const u=o(!0);o({id:a.id,amount:a.amount});const f=o(),y=r((()=>"stripe"!=a.url?{payment_type_id:3,amount:a.amount}:{id:a.id,member_mermship_id:a.member_membership,amount:a.amount,payment_type_id:1})),k=o(null),x=o(null),M=o(!1),C=async()=>{let e=await pe.post(a.url,y.value).then((e=>{k.value=e.data.clientSecret,f.value=l.elements({clientSecret:k.value}),x.value=f.value.create("payment"),x.value.mount("#payment-element")})).catch((e=>{}));return u.value=!1,e},j=async e=>{e.preventDefault(),M.value=!0,await l.confirmPayment({elements:f.value,confirmParams:{return_url:`${de.value}members/process?payment_type=3&id=`+a.id+`&membership=${a.member_membership}`}}),M.value=!1};return i((()=>{C()})),(t,a)=>{const l=e,n=Me,i=Ce,r=s;return c(),m(b,null,[u.value?(c(),m(l,{key:0,height:"500px"})):p("v-if",!0),h(v(r,{class:"mt-6"},{default:d((()=>[p(" <p>{{ memberMermship }}</p> "),v("form",{onSubmit:g(j,["prevent"]),id:"payment-form"},[p(' <input id="card-holder-name" type="text"> '),st,p(' <button id="submit">\r\n        <div class="spinner hidden" id="spinner"></div>\r\n        <span id="button-text">Pay now</span>\r\n      </button> '),v(i,{size:"small",active:M.value},{default:d((()=>[v(n,{id:"submit",class:"mt-4",color:"success"},{default:d((()=>[at])),_:1})])),_:1},8,["active"]),lt],40,["onSubmit"])])),_:1},512),[[_,!u.value]])],64)}}});const it={class:"table is-hoverable is-striped is-fullwidth"},rt=v("th",{scope:"col"},"Members",-1),ot=v("th",{scope:"col"},"Membership Name",-1),ut=v("th",{scope:"col"},"Recurrence",-1),ct=v("th",{scope:"col"},"Prorated",-1),mt=v("th",{scope:"col"},"Membership Cost",-1),pt=v("th",{scope:"col"},"Initiation Fee",-1),dt=v("th",{scope:"col"},"Discount",-1),vt=v("th",{scope:"col"},"Taxes",-1),ft={key:0,scope:"col"},bt=v("th",{scope:"col"},"Sub Total",-1),yt={key:0},ht={key:0},_t={key:1},gt={key:2},kt={key:0},xt=v("br",null,null,-1),Mt={key:1},Ct={key:0},jt={key:1},wt={key:0},Dt={key:0},Pt={key:1},St={key:1},Yt={key:3},$t={class:"is-end"},Vt={class:"d-flex justify-content-between"},Et=k(" Card Payment "),zt=k(" Cash Payment "),It={class:"d-flex mb-4 justify-content-between"},At={class:"title is-5"},Ft=k(" Total: "),Tt={class:"title is-5"},Bt=k(" Cash Total: "),Nt={class:"\r\n            d-flex\r\n            justify-content-center\r\n            align-items-center\r\n            flex-column\r\n            mb-4\r\n          "},qt=v("p",{class:"title is-5 mb-4"},"Change Back:",-1),Ht={class:"title is-3 mb-0"},Lt={class:"d-flex justify-content-center flex-wrap mb-4"},Rt=v("div",{class:"w-100"},null,-1),Wt={class:"d-flex justify-content-center"},Ot=k("Reset"),Ut=k("Confirm");var Gt=a({expose:[],setup(e){o(!1);const t=o(!1);i((()=>{console.log("se monto el payment")}));const a=r((()=>{let e=ve(P,"memberships_id");return null!=e?e:[]})),l=r((()=>{let e=ve(P,"recurrences_id");return null!=e?e:[]})),n=r((()=>{let e=fe(P,"initiation_fee");return null!=e?e:[]})),_=r((()=>{let e=be(P,"discount");return null!=e?e:[]})),g=r((()=>{let e=parseFloat(x().format("DD")),t=0,s=0;return l.value.days>=30&&(s=e-l.value.payday,t=l.value.amount/l.value.days*s),{days:s,amount:Math.abs(Math.round(t))}})),C=r((()=>(e=>{if(""!=fe(P,"memberships_id"))return"percentaje"==(e=e.value?e.value:e).tax.type?{text:`${e.tax.value}%`,value:e.tax.value,type:"procentaje"}:{text:ye(e.tax.value),value:e.tax.value}})(a))),j=o(null),Y=r((()=>{let e=0;return e+=l.value.amount,fe(P,"is_initiation_fee").length||(e+=n.value),e-=g.value.amount,_.value.data&&("dolar"==_.value.data.type?e-=_.value.data.value:"percentaje"==_.value.data.type&&(e-=e/100*_.value.data.value)),e+=e/100*C.value.value,w.value.penalty&&(j.value=a.value.penalty,e+=j.value),w.value.leo_vet_fr&&(e-=e/100*a.value.descuento_vet),e})),$=r((()=>{let e=0;return e+=Y.value,e})),V=o(!1),E=o(0),z=r((()=>{const e=parseFloat(E.value)-parseFloat($.value);return e>0?e:0}));o(1);const I=async()=>{await S(D.value.id,{total:$.value,payment_type_id:1,cash:E.value,cash_back:z.value}).then((e=>{he.success("Payment Success"),window.location.reload()})).catch((e=>{}))};return(e,i)=>{const r=Me,o=s,x=nt,S=je,A=we,F=De;return c(),m("div",null,[v(o,{class:""},{default:d((()=>{return[v("table",it,[v("thead",null,[v("tr",null,[rt,ot,ut,ct,mt,pt,dt,vt,j.value?(c(),m("th",ft,"Penalty")):p("v-if",!0),bt])]),0!=u(a).length?(c(),m("tbody",yt,[v("tr",null,[v("td",null,[v("p",null,[v("b",null,f(u(w).name)+" "+f(u(w).second_name)+" "+f(u(w).last_name),1)])]),0!=u(a).legnth?(c(),m("td",ht,f(u(a).name),1)):p("v-if",!0),0!=u(l).length?(c(),m("td",_t,f(u(l).descriptions),1)):p("v-if",!0),0!=u(l).length?(c(),m("td",gt,[u(l).days>=30?(c(),m("span",kt,[k(f(u(g).days)+" days : ",1),xt,k(" - "+f(u(ye)(u(g).amount)),1)])):(c(),m("span",Mt,"-"))])):p("v-if",!0),v("td",null,f(u(ye)((e=u(l),e.amount))),1),v("td",null,[u(fe)(u(P),"is_initiation_fee").length?(c(),m("span",jt,f(u(ye)(0)),1)):(c(),m("span",Ct,f(u(ye)(u(n))),1))]),v("td",null,[null!=u(_).data?(c(),m("span",wt,["dolar"==u(_).data.type?(c(),m("span",Dt," - "+f(u(ye)(u(_).data.value)),1)):p("v-if",!0),"percentaje"==u(_).data.type?(c(),m("span",Pt,f(u(_).data.value)+"%",1)):p("v-if",!0)])):(c(),m("span",St,"-"))]),v("td",null,f(u(C).text),1),j.value?(c(),m("td",Yt,f(u(ye)(j.value)),1)):p("v-if",!0),v("td",null,f(u(ye)(u(Y))),1)]),v("tr",null,[v("td",{style:{"text-align":"right"},colspan:j.value?"9":"8"}," Total ",8,["colspan"]),v("td",$t,f(u(ye)(u($))),1)])])):p("v-if",!0)]),v("div",Vt,[v(r,{color:"success",disabled:0==u(a).length||isNaN(u($)),onClick:i[1]||(i[1]=e=>t.value=!0)},{default:d((()=>[Et])),_:1},8,["disabled"]),v(r,{disabled:0==u(a).length||isNaN(u($)),color:"warning",onClick:i[2]||(i[2]=e=>V.value=!0)},{default:d((()=>[zt])),_:1},8,["disabled"])])];var e})),_:1}),t.value?(c(),m(x,{key:0,class:"",url:`new_payment/${u(D).id}`,amount:u($),id:u(w).id,member_membership:u(D).id},null,8,["url","amount","id","member_membership"])):p("v-if",!0),v(F,{open:V.value,actions:"center",onClose:i[6]||(i[6]=e=>V.value=!1)},{content:d((()=>[v("div",It,[v("p",At,[Ft,v("b",null,f(u(ye)(u($))),1)]),v("p",Tt,[Bt,v("b",null,f(u(ye)(E.value)),1)])]),v("div",Nt,[qt,v("p",Ht,[v("b",null,f(u(ye)(u(z))),1)])]),v("div",Lt,[v(r,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:i[3]||(i[3]=e=>E.value=u($))},{default:d((()=>[k(" Full Payment "+f(u(ye)(u($))),1)])),_:1}),Rt,(c(),m(b,null,y([5,10,20,50,100],((e,t)=>v(r,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>E.value+=e},{default:d((()=>[k(" $"+f(e),1)])),_:2},1032,["onClick"]))),64))]),v("div",Wt,[v(A,null,{default:d((()=>[v(S,null,{default:d((()=>[h(v("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>E.value=e),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[M,E.value]])])),_:1})])),_:1})])])),action:d((()=>[v(r,{onClick:i[5]||(i[5]=e=>E.value=0),class:"d-flex justify-content-center",raised:""},{default:d((()=>[Ot])),_:1}),v(r,{color:"success",onClick:I,disabled:u($)>E.value,class:"d-flex justify-content-center",raised:""},{default:d((()=>[Ut])),_:1},8,["disabled"])])),_:1},8,["open"])])}}});const Jt=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Personal Information"),v("p",null,"Edit member's personal information")],-1),Kt=k(" Save Changes "),Xt=k(" Convert to Members ");var Qt=a({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;r((()=>"Prospect"==t.category));const s=o(!1),a=()=>{s.value=!0;let e=_e(Y.value),t=new FormData;for(var a in e)t.append(a,e[a]);$(t).then((e=>{he.success("Edit Success"),s.value=!1})).catch((e=>{s.value=!1}))};return(e,l)=>{const n=Me,i=Ce,r=Se,o=Ye;return c(),m(o,null,{"header-left":d((()=>[Jt])),"header-right":d((()=>[v(i,{size:"small",active:s.value},{default:d((()=>[v(n,{onClick:a,color:"primary"},{default:d((()=>[Kt])),_:1}),"Prospect"==t.category?(c(),m(n,{key:0,color:"info",class:"ml-3"},{default:d((()=>[Xt])),_:1})):p("v-if",!0)])),_:1},8,["active"])])),content:d((()=>[v(r,{"inputs-step":u(Y)},null,8,["inputs-step"])])),_:1})}}});const Zt=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Membership / Contract"),v("p",null,"Edit member's membership and contract information")],-1),es={class:"columns is-multiline justify-content-center"},ts={key:0,class:"column is-12"},ss=v("p",null,[v("small",null,"Membership")],-1),as={class:"title is-4 mb-0"},ls={class:"text-right"},ns=v("b",null,"Payment Method:",-1),is={class:"title is-4"},rs={key:1,class:"column is-2"},os=v("p",null,[v("b",null,"HOLD Membership")],-1),us={key:0},cs={key:2,class:"column is-2"},ms=v("p",null,[v("b",null,"Pause Payment")],-1),ps={key:0},ds=k("Confirm"),vs={key:3,class:"column is-2"},fs=v("p",null,[v("b",null,"Cancel Membership")],-1),bs={key:4,class:"column is-2"},ys=v("p",null,[v("b",null,"Payment Now")],-1),hs={key:5,class:"column is-2"},_s=v("p",null,[v("b",null,"Pay Late Fee")],-1),gs={key:6,class:"column is-2"},ks=v("p",null,[v("b",null,"Sync Subscription")],-1),xs={key:7,class:"mb-4 column is-12"},Ms=k("Save Changes"),Cs=k(" New Membership "),js={key:9,class:"column is-12 mb-6 mt-4"},ws={key:1},Ds={class:"d-flex justify-content-end w-100"},Ps=k("Cancel"),Ss={key:10,class:"columns is-multiline column mt-4 is-12"},Ys=v("b",null,"Contract Date:",-1),$s={class:"column is-12"},Vs=v("h1",{class:"title is-6"},"Active Waiver Information",-1),Es={class:"text-center"},zs=v("img",{src:Fe,width:"40",alt:""},null,-1),Is=k(" View PDF ");var As=a({expose:[],props:{},emits:["reload"],setup(t,{emit:a}){i((()=>{V(P)})),o(null),o(null),o(null),o(null),o(null);const l=o(!1);o(null);const n=r((()=>{if(P.unshift(E.value[0]),P.push(z.value[0]),be(P,"prorrateo").change=function(e){this.model?be(e,"schedules").disabled=!0:be(e,"schedules").disabled=!1},be(P,"recurrence").class="is-4",w.value&&D.value&&1==D.value.status){let e=["locations_id","diciplines","staff_id","discount"];return P.filter((t=>e.includes(t.name)))}return P})),_=()=>{be(P,"amount").required=!1,be(P,"initiation_fee").required=!1,be(P,"diciplines").required=!1;const e=_e(P);T(e).then((e=>{he.success("Success"),l.value=!1,be(P,"amount").required=!0,be(P,"initiation_fee").required=!0,be(P,"diciplines").required=!0}))},g=async()=>{l.value=!0,await B(n.value,Y.value),l.value=!1},C=()=>{confirm("Are you sure you want to perform this action?")&&(l.value=!0,N().then((e=>{he.success("Memberships Cancel"),window.location.reload(),l.value=!1})))},j=e=>{q(e,D.value.id).then((e=>{if(e.data.status)he.success("Sign Success");else for(var t in he.error(e.data.mensaje),e.data.errores)e.data.errores[t].forEach((e=>{he.error(`${t} : ${e}`)}))})).catch((e=>{}))},S=e=>{},$=o(!1),O=o(null),U=()=>{confirm("Are you sure you want to perform this action?")&&(l.value=!0,H(D.value.id,O.value).then((e=>{he.success("Success Pause"),l.value=!1})).catch((e=>{for(var t in l.value=!1,e.response.data.errores)e.response.data.errores[t].forEach((e=>{he.error(`${t}: ${e}`)}))})))},G=o(!1),J=(e,t=3,s={})=>{if(!confirm("Do you want to try the payment?"))return;let a={invoice_id:w.value.subscription.latest_invoice,payment_type_id:t,payment_method:e,total:w.value.subscription.total_invoice};1==t&&(a.changeBack=s.changeBack,a.cash=s.cash),l.value=!0,L(D.value.id,a).then((e=>{he.success("success"),window.location.reload()})).catch((e=>{if("object"==typeof e.response.data)for(var t in e.response.data)"array"==typeof e.response.data[t]||he.error(e.response.data[t]);else he.error(e.response.data)})).finally((()=>{l.value=!1}))},K=e=>{J(null,1,e)},X=()=>{l.value=!0,R().then((e=>{l.value=!1,he.success("Success"),a("reload")})).catch((e=>{l.value=!1}))},Q=()=>{l.value=!0,W().then((e=>{l.value=!1,he.success("Success"),a("reload")})).catch((e=>{he.error(e.response.data),l.value=!1}))};return(t,a)=>{const i=s,r=Ce,o=Me,P=De,Y=$e,V=ze,E=Se,z=Ie,T=Me,B=e,N=Ve,q=Ee,H=Ae,L=Ye;return c(),m(L,null,{"header-left":d((()=>[Zt])),content:d((()=>[v("div",es,[u(w)&&u(D)&&1==u(D).status?(c(),m("div",ts,[v(i,{class:"d-flex justify-content-between",color:"info"},{default:d((()=>[v("span",null,[ss,v("p",as,f(u(D).membership.name),1),v("p",null,f(u(D).recurrence.descriptions),1),p(' <p v-if="memberMermship.discount">\n                {{ memberMermship.discount.value }}\n                <span v-if="memberMermship.discount.type == \'percentaje\'"\n                  >%</span\n                >\n                <span v-else>$</span>\n              </p> ')]),v("span",ls,[v("p",null,[v("small",null,[ns,k(" "+f(u(D).payment_type.name),1)])]),v("p",null,[v("small",null,f(u(D).recurrence.is_recurrence?"Recurrence":"no recurrence"),1)]),v("p",is,f(u(ye)(u(w).subscription.total_invoice/100)),1)])])),_:1})])):p("v-if",!0),u(w)&&u(D)&&1==u(D).status?(c(),m("div",rs,[u(w).membership_members.is_recurrence?(c(),m(r,{key:0,size:"small",active:l.value},{default:d((()=>[u(D)&&u(w).subscription?(c(),m(i,{key:0,color:"info",outlined:null==u(w).subscription.pause_collection,onClick:U,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:d((()=>[os,null!=u(w).subscription.pause_collection?(c(),m("span",us,"Active until: "+f(u(w).subscription.pause_collection.resumes_at),1)):p("v-if",!0)])),_:1},8,["outlined"])):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),u(w)&&u(D)&&1==u(D).status?(c(),m("div",cs,[u(w).membership_members.is_recurrence?(c(),m(r,{key:0,size:"small",active:l.value},{default:d((()=>[u(D)&&u(w).subscription?(c(),m(i,{key:0,color:"warning",outlined:null==u(w).subscription.pause_collection,onClick:a[1]||(a[1]=e=>$.value=!0),class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:d((()=>[ms,null!=u(w).subscription.pause_collection?(c(),m("span",ps,"Active until: "+f(u(w).subscription.pause_collection.resumes_at),1)):p("v-if",!0)])),_:1},8,["outlined"])):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0),v(P,{open:$.value,actions:"center",onClose:a[3]||(a[3]=e=>$.value=!1)},{content:d((()=>[h(v("input",{type:"date","onUpdate:modelValue":a[2]||(a[2]=e=>O.value=e),class:"input"},null,512),[[M,O.value]])])),action:d((()=>[v(o,{onClick:U,color:"primary",raised:""},{default:d((()=>[ds])),_:1})])),_:1},8,["open"])])):p("v-if",!0),u(w)&&u(D)&&1==u(D).status?(c(),m("div",vs,[u(w).membership_members.is_recurrence?(c(),m(r,{key:0,size:"small",active:l.value},{default:d((()=>[u(D)?(c(),m(i,{key:0,color:"danger",outlined:"",onClick:C,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:d((()=>[fs])),_:1})):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),u(w)&&u(D)&&1==u(D).status?(c(),m("div",bs,[u(w).membership_members.is_recurrence?(c(),m(r,{key:0,size:"small",active:l.value},{default:d((()=>[u(D)?(c(),m(i,{key:0,color:"success",outlined:"",onClick:a[4]||(a[4]=e=>G.value=!G.value),class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:d((()=>[ys])),_:1})):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),u(w)&&u(D)?(c(),m("div",hs,[u(w).membership_members.is_recurrence?(c(),m(r,{key:0,size:"small",active:l.value},{default:d((()=>[u(D)?(c(),m(i,{key:0,color:"secondary",outlined:"",onClick:X,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:d((()=>[_s])),_:1})):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),u(w)&&u(D)?(c(),m("div",gs,[u(w).membership_members.is_recurrence?(c(),m(r,{key:0,size:"small",active:l.value},{default:d((()=>[u(D)?(c(),m(i,{key:0,color:void 0,outlined:"",onClick:Q,class:"mr-4 btn-card text-center px-2",style:{"font-size":"12px"}},{default:d((()=>[ks])),_:1})):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),G.value?(c(),m("div",xs,[u(w).user?(c(),m(V,{key:0,onOnMethodPayment:J,memberid:u(w).id,method_default:u(w).user.pm_last_four,"show-new-card":!1,class:"mb-4",ancho:"is-4"},{default:d((()=>[v(Y,{total:u(w).subscription.total_invoice,margin:"mx-0",class:"is-4",onOnPaymentCash:K},null,8,["total"])])),_:1},8,["memberid","method_default"])):p("v-if",!0)])):p("v-if",!0),u(I).length?p("v-if",!0):(c(),m(i,{key:8,class:"mb-4 column is-12"},{default:d((()=>[v(E,{"inputs-step":u(n)},null,8,["inputs-step"]),u(w)&&u(w).trainers?(c(),m(z,{key:0,avatars:u(A)(u(w).trainers),size:"small"},null,8,["avatars"])):p("v-if",!0),u(w)&&u(D)&&1==u(D).status?(c(),m(r,{key:1,size:"small",active:l.value},{default:d((()=>[v(T,{class:"mt-5",onClick:_,color:"primary"},{default:d((()=>[Ms])),_:1})])),_:1},8,["active"])):p("v-if",!0),u(F)?p("v-if",!0):(c(),m(r,{key:2,size:"small",active:l.value},{default:d((()=>[u(D)&&2!=u(D).status?p("v-if",!0):(c(),m(T,{key:0,class:"mt-5",onClick:g,color:"primary"},{default:d((()=>[Cs])),_:1}))])),_:1},8,["active"]))])),_:1})),p(" Presupuesto "),u(D)&&2!=u(D).status?p("v-if",!0):(c(),m("div",js,[l.value?(c(),m(B,{key:0,height:"300px",class:"mb-4"})):p("v-if",!0),u(I).length?(c(),m("div",ws,[(c(!0),m(b,null,y(u(I),((e,s)=>(c(),m(q,{key:`presupuesto-${s}`,class:"mb-4",presupuesto:e},{default:d((()=>[v("div",Ds,[v(N,{member:e.member,member_id:u(w).id,membresia:e.membresia,contact:t.dataContact,presupuesto_id:e.presupuesto_id,"categories-members":t.categoriesMembers,"notas-input":t.notasInput,total:e.totales.upfront.amount_total,onPaymentAction:S,type:"edit"},null,8,["member","member_id","membresia","contact","presupuesto_id","categories-members","notas-input","total"])])])),_:2},1032,["presupuesto"])))),128)),v(T,{onClick:a[5]||(a[5]=e=>I.value=[]),color:"danger"},{default:d((()=>[Ps])),_:1})])):p("v-if",!0)])),p(" Contract "),u(w)&&u(D)?(c(),m("div",Ss,[v("div",null,[v("p",null,[Ys,k(" "+f(u(x)(u(w).membership_members.created_at).format("ddd - DD MMM yyyy")),1)])]),v("div",$s,[v(H,{onOnSign:j,"is-sign":!u(D).sign,contract:`contract_${u(w).id}_${u(w).membership_members.id}_${u(w).personal_identifications}.pdf`,"url-contract":`generateContract/${u(w).id}`},null,8,["is-sign","contract","url-contract"])])])):p("v-if",!0),p("v-if",!0),p(" WAIVER "),u(w)&&u(D)?(c(),m(i,{key:12,class:"mb-4"},{default:d((()=>[Vs,v("div",Es,[v("a",{target:"_blank",href:`${u(ce)}generateWeiver/${u(w).id}`},[zs,v("p",null," weiver_"+f(u(w).id)+"_"+f(u(w).membership_members.id)+"_"+f(u(w).personal_identifications)+".pdf ",1),v(o,{color:"success",outlined:"",class:"mt-4 py-1"},{default:d((()=>[Is])),_:1})],8,["href"])])])),_:1})):p("v-if",!0)])])),_:1})}}});const Fs=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Family Members"),v("p",null,"Edit member's family members")],-1),Ts={class:"columns is-multiline"},Bs={key:0,class:"column is-4 mb-4"},Ns=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Parent"),v("p",null,"Edit parent contact")],-1),qs=k(" Save Changes "),Hs={class:""},Ls=v("h1",{class:"title is-5"},"Parent Contact Information",-1),Rs={class:"d-flex justify-content-end mr-6"};var Ws=a({expose:[],setup(e){o([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]);const s=()=>{const e=perpareDataInputs(G.value);J(e).then((e=>{he.success("Success")}))};return(e,a)=>{const l=t,n=Te,i=Be,r=Ye,o=Me,f=Se;return c(),m("div",null,[u(w)&&"Adult"==u(w).category?(c(),m(r,{key:0},{"header-left":d((()=>[Fs])),"header-right":d((()=>[p(' <VButton color="primary"> Save Changes </VButton> ')])),content:d((()=>[v("div",Ts,[p(" <p>{{ memberParent.photo }}</p> "),u(O)?(c(),m("div",Bs,[v(i,{title:`${u(O).name} ${u(O).second_name} ${u(O).last_name}`,class:"border-1 p-4 radius-small"},{icon:d((()=>[v(l,{size:"medium",picture:`${u(ce)}storage/${u(O).photo}`,subtitle:"Principal Family"},null,8,["picture"])])),action:d((()=>[v(n,{"id-member":u(O).id},null,8,["id-member"])])),_:1},8,["title"])])):p("v-if",!0),(c(!0),m(b,null,y(u(U),((e,t)=>(c(),m("div",{class:"column is-4 mb-4",key:`family-${t}`},[v(i,{title:`${e.member.name} ${e.member.second_name} ${u(w).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:d((()=>[v(l,{size:"medium",picture:`${u(ce)}storage/${e.member.photo}`},null,8,["picture"])])),action:d((()=>[v(n,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):p("v-if",!0),u(w)&&"Minor"==u(w).category?(c(),m(r,{key:1},{"header-left":d((()=>[Ns])),"header-right":d((()=>[v(o,{onClick:s,color:"primary"},{default:d((()=>[qs])),_:1})])),content:d((()=>[v("div",Hs,[Ls,v("div",Rs,[v(l,{picture:`${u(ce)}storage/${u(fe)(u(G),"parent_photo")}`,size:"large"},null,8,["picture"])]),v(f,{"inputs-step":u(G)},null,8,["inputs-step"])])])),_:1})):p("v-if",!0)])}}});const Os=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Emergency Contact"),v("p",null,"Edit member's emergency contact")],-1),Us=k(" Save Changes "),Gs={class:""},Js=v("h1",{class:"title is-5"},"Emergency Contact Information",-1);var Ks=a({expose:[],setup(e){const t=()=>{const e=_e(K.value);console.log(e),X(e).then((e=>{he.success("Success")}))};return(e,s)=>{const a=Me,l=Se,n=Ye;return c(),m(n,null,{"header-left":d((()=>[Os])),"header-right":d((()=>[v(a,{onClick:t,color:"primary"},{default:d((()=>[Us])),_:1})])),content:d((()=>[v("div",Gs,[Js,v(l,{"inputs-step":u(K)},null,8,["inputs-step"])])])),_:1})}}});const Xs=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Check-ins History"),v("p",null,"Edit member's check-ins history")],-1),Qs={class:"p-6"},Zs={class:"mt-4"},ea={class:"table is-hoverable is-fullwidth"},ta=v("thead",null,[v("tr",null,[v("th",{scope:"col"},"DATE"),v("th",{scope:"col"},"TIME"),p(' <th scope="col">STAFF</th> ')])],-1);var sa=a({expose:[],setup:e=>(e,t)=>{const s=Ye;return u(w)?(c(),m(s,{key:0},{"header-left":d((()=>[Xs])),"header-right":d((()=>[])),content:d((()=>[v("div",Qs,[p(' <div class="d-flex">\r\n          <V-Field class="field mr-3">\r\n            <V-Control>\r\n              <input\r\n                type="date"\r\n                class="input"\r\n                placeholder="input.placeholder"\r\n              />\r\n            </V-Control>\r\n          </V-Field>\r\n          <V-Field class="field mr-3">\r\n            <V-Control>\r\n              <input\r\n                type="date"\r\n                class="input"\r\n                placeholder="input.placeholder"\r\n              />\r\n            </V-Control>\r\n          </V-Field>\r\n          <VButton color="primary"> Export </VButton>\r\n        </div> '),v("div",Zs,[v("table",ea,[ta,v("tbody",null,[(c(!0),m(b,null,y(u(Q),((e,t)=>(c(),m("tr",{key:`access-${t}`},[v("td",null,f(u(x)(e.created_at).format("MM/DD/YYYY")),1),v("td",null,f(u(x)(e.created_at).format("HH:mm:ss")),1),p(" <td>{{ access.user.name }}</td> ")])))),128))])])])])])),_:1})):p("v-if",!0)}});const aa=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Purchases History"),v("p",null,"Edit member's purchases history")],-1),la=v("p",{class:"title is-5"},"Card List",-1),na=v("p",null,"Invoices",-1),ia={class:"table is-hoverable is-fullwidth"},ra=v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Created"),v("th",{scope:"col"},"Start Period"),v("th",{scope:"col"},"End Period"),v("th",{scope:"col"},"Amount"),v("th",{scope:"col"},"Method"),v("th",{scope:"col"},"Download"),v("th",{scope:"col"},"Status")])],-1),oa={key:0},ua={key:0},ca={key:1},ma={key:0},pa={key:1},da={key:0},va={key:1},fa=v("i",{class:"fas fa-download","aria-hidden":"true"},null,-1),ba={key:1},ya=v("td",null,"Subscription",-1),ha={key:0},_a={key:1},ga={key:0},ka={key:1},xa=v("td",null,null,-1),Ma=v("td",null,[p(' <a :href="invoice.invoice_pdf" target="_blank">\n                  <VButton>\n                    <i class="fas fa-download" aria-hidden="true"></i>\n                  </VButton>\n                </a> ')],-1);var Ca=a({expose:[],setup(e){r((()=>D.value.payments)),r((()=>{let e=[];return ee.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e})),i((async()=>{await Z(w.value.id)}));const t=e=>{};return(e,a)=>{const l=ze,n=Pe,i=Me,r=s,o=Ye;return u(w)?(c(),m(o,{key:0},{"header-left":d((()=>[aa])),"header-right":d((()=>[])),content:d((()=>[la,u(w).user?(c(),m(l,{key:0,"show-option":!0,class:"mb-6",onOnMethodPayment:t,method_default:u(w).user.pm_last_four,"show-new-card":!0,memberid:u(w).id},null,8,["method_default","memberid"])):p("v-if",!0),p(" <memberCreditCard /> "),v(r,{class:"my-4"},{default:d((()=>[na,v("table",ia,[ra,u(w).subscription&&u(w).subscription.invoices?(c(),m("tbody",oa,[(c(!0),m(b,null,y(u(w).subscription.invoices,((e,t)=>(c(),m("tr",{key:`invoice-${t}`},[e.billing_reason.includes("[")?(c(),m("td",ua,[(c(!0),m(b,null,y(JSON.parse(e.billing_reason),((e,t)=>(c(),m("span",{key:`invo-${t}`},[e?(c(),m(n,{key:0,class:"mr-1 mb-1",label:e},null,8,["label"])):p("v-if",!0)])))),128))])):(c(),m("td",ca,[v(n,{class:"mr-2",label:e.billing_reason},null,8,["label"])])),v("td",null,f(u(x)(e.created).format("MM/DD/YYYY")),1),v("td",null,[e.period_start?(c(),m("span",ma,f(u(x)(e.period_start).format("MM/DD/YYYY")),1)):(c(),m("span",pa))]),v("td",null,[e.period_end?(c(),m("span",da,f(u(x)(e.period_end).format("MM/DD/YYYY")),1)):(c(),m("span",va))]),v("td",null,f(u(ye)(e.amount_paid/100)),1),v("td",null,f(e.collection_method),1),v("td",null,[v("a",{href:e.invoice_pdf,target:"_blank"},[v(i,null,{default:d((()=>[fa])),_:1})],8,["href"])]),v("td",null,[v(n,{class:"mr-1 mb-1",label:e.status},null,8,["label"]),v(n,{class:"mr-1 mb-1",label:e.payments_intents[0].status},null,8,["label"])])])))),128))])):u(w).membership_members&&u(w).membership_members.invoice_local?(c(),m("tbody",ba,[(c(!0),m(b,null,y(u(w).membership_members.invoice_local,((e,t)=>(c(),m("tr",{key:`invoice-${t}`},[ya,v("td",null,f(u(x)(e.created).format("MM/DD/YYYY")),1),v("td",null,[e.period_start?(c(),m("span",ha,f(u(x)(e.period_start).format("MM/DD/YYYY")),1)):(c(),m("span",_a))]),v("td",null,[e.period_end?(c(),m("span",ga,f(u(x)(e.period_end).format("MM/DD/YYYY")),1)):(c(),m("span",ka))]),v("td",null,f(u(ye)(e.amount/100)),1),xa,Ma,v("td",null,[k(f(e.status?"paid":"incomplete"),1),p(" <br /> "),p(" <small>{{ invoice.description_status }}</small> ")])])))),128))])):p("v-if",!0),p(" <tbody\n            v-for=\"(payment, key) in paymentsMemberchipsHistory\"\n            :key=\"`paymentHistory-${key}`\"\n          >\n            <tr v-for=\"(p, k) in payment.payments\" :key=\"`pay-${k}`\">\n              <td>{{ moment(p.created_at).format('DD/MM/YYYY') }}</td>\n              <td>{{ moment(p.created_at).format('HH:mm:ss') }}</td>\n              <td>{{ moneda(p.amount) }}</td>\n              <td>{{ p.payment_type.name }}</td>\n              <td>{{ payment.membership }}</td>\n              <td>{{ p.status ? 'succeded' : 'error' }}</td>\n            </tr>\n          </tbody> ")])])),_:1}),p("v-if",!0)])),_:1})):p("v-if",!0)}}});const ja=v("div",null,[v("h1",{class:"title is-4 mb-0"}," Waiver "),v("p",null,"Edit member's waiver information")],-1),wa=k(" Convert to Members "),Da={class:"columns is-multiline"},Pa={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},Sa={href:"234",class:"text-center"},Ya=v("img",{style:{width:"70px"},src:Fe,alt:""},null,-1);var $a=a({expose:[],setup(e){const t=o([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,s)=>{const a=Me,l=Ye;return c(),m(l,null,{"header-left":d((()=>[ja])),"header-right":d((()=>[v(a,{color:"info"},{default:d((()=>[wa])),_:1})])),content:d((()=>[v("div",Da,[(c(!0),m(b,null,y(t.value,((e,t)=>(c(),m("div",{class:"column is-2 mb-4",key:`family-${t}`},[v("div",Pa,[v("a",Sa,[Ya,v("p",null,f(e.name),1)])])])))),128))])])),_:1})}}});const Va=k("Confirm");var Ea=a({expose:[],props:{openModal:{type:Boolean,default:!1}},emits:["closeModal","refreshTransactions"],setup(e,{emit:t}){const s=e,a=o(!1),l=async()=>{const e=_e(te.value),s={amount:e.amount,description:e.description};a.value=!0;try{"Add Credit"===e.transaction_type?await se(w.value.id,s):await ae(w.value.id,s),ge(te.value),he.success("Success"),t("closeModal"),t("refreshTransactions")}catch(l){"string"==typeof l.response.data.message?he.error(l.response.data.message):he.error(l)}finally{a.value=!1}},n=()=>{ge(te.value),t("closeModal")};return(e,t)=>{const i=Se,r=Me,o=De;return c(),m(o,{open:s.openModal,title:"Create a new transaction",size:"small",actions:"right",onClose:n},{content:d((()=>[v(i,{"inputs-step":u(te)},null,8,["inputs-step"])])),action:d((()=>[v(r,{color:"primary",raised:"",onClick:l,loading:a.value},{default:d((()=>[Va])),_:1},8,["loading"])])),_:1},8,["open"])}}});const za=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Credit History"),v("p",null,"Edit member's credit history")],-1),Ia=k(" New Transaction "),Aa={class:"title"},Fa={class:"mt-4"},Ta={class:"table is-hoverable is-fullwidth"},Ba=v("thead",null,[v("tr",null,[v("th",{scope:"col"},"ID"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Date"),v("th",{scope:"col"},"Type"),v("th",{scope:"col"},"Amount")])],-1),Na={key:0};var qa=a({expose:[],setup(e){const t=C({open:!1}),a=o(0);i((async()=>{l()}));const l=async()=>{await le(w.value.id),(async()=>{const{data:e}=await ne(w.value.id);a.value=e.balance})()},n=()=>{t.open=!t.open},r=()=>{t.open=!1};return(e,i)=>{const o=Me,h=Ea,_=s,g=Ye;return u(w)?(c(),m(g,{key:0},{"header-left":d((()=>[za])),"header-right":d((()=>[v(o,{onClick:n,color:"primary"},{default:d((()=>[Ia])),_:1})])),content:d((()=>[v(h,{"open-modal":u(t).open,onCloseModal:r,onRefreshTransactions:l},null,8,["open-modal"]),v("p",Aa,"Credit: "+f(a.value)+"$",1),v(_,{class:"p-"},{default:d((()=>[v("div",Fa,[v("table",Ta,[Ba,u(ie)?(c(),m("tbody",Na,[(c(!0),m(b,null,y(u(ie).data,((e,t)=>(c(),m("tr",{key:`transaction-${t}`},[v("td",null,f(e.id),1),v("td",null,f(e.meta.description),1),v("td",null,f(u(x)(e.created_at).format("MM/DD/YYYY")),1),v("td",null,f(e.type),1),v("td",null,f(e.amount),1)])))),128))])):p("v-if",!0)])])])),_:1})])),_:1})):p("v-if",!0)}}});const Ha={key:0,class:"columns is-multiline"},La={class:"column is-3"},Ra={class:"column is-9"},Wa={class:"columns is-multiline column is-12"},Oa={class:"columns is-multiline column is-12"},Ua={key:1,class:"columns is-multiline"},Ga={class:"column is-3"},Ja={class:"column is-9"},Ka={class:"d-flex justify-content-between"},Xa=v("b",null,"Member since.",-1),Qa=v("b",null,"Membership Active:",-1),Za=v("b",null,"Due Date: ",-1),el={key:0},tl=v("b",null,"Discount: ",-1),sl={key:0};var al=a({expose:[],setup(t){const a=l();qe.value="Member Profile",j({title:"Members"});const b=o(!1),y=o("personalInformation"),g=e=>{y.value=e.value};n((()=>a.query),((e,t)=>{Object.keys(e).length>0&&(V(),$())}));const M=o("ERROR MEMBERSHIP"),C=o("");n(w,(e=>{e.sinMembresia&&(M.value="NO MEMBERSHIP",C.value="Please, select a membership"),e.isSolvente||e.sinMembresia||!e.subscription||(M.value=`Membership ${e.subscription.status}`,C.value=e.subscription.latest_invoice&&e.subscription.latest_invoice.payments_intents&&e.subscription.latest_invoice.payments_intents.length>0?`Last payment status : ${e.subscription.latest_invoice.payments_intents[0].status}`:""),e.subscription&&e.subscription.subscription&&!e.subscription.latest_invoice&&(C.value=`Last payment status : ${e.subscription.subscription.status}`),e.membership_members&&e.membership_members.cacelation_date&&(C.value=`Cancel date : ${x(e.membership_members.cacelation_date).format("MM-DD-YYYY")}`)})),n((()=>a.hash),(e=>{y.value=a.hash.slice(1)})),n((()=>a.query.id),(e=>{y.value="personalInformation"}));const S=o(!0),$=()=>{S.value=!0,setTimeout((()=>{S.value=!1}),500)};i((()=>{""!=a.hash&&(y.value=a.hash.slice(1)),Ge().then((e=>{ke(P,"locations_id",Je.value)})),Ue().then((e=>{ke(Y,"country_id",e.contries),ke(Y,"city_id",e.cities),ke(Y,"state_id",e.states),ke(re,"city_id",e.cities),ke(re,"state_id",e.states),ke(re,"country_id",e.contries)})),Le().then((e=>{ke(P,"memberships_id",e.data.memberships)})),He().then((e=>{ke(P,"discount",e.data.discounts)})),Re().then((e=>{ke(P,"recurrences_id",e.data)})),We().then((e=>{ke(P,"staff_id",e.data)})),V()}));const V=async()=>{await oe(a.query.id).then((e=>{for(var t in console.log("response.data",e.data),e.data)if("select_type"==t)"Individual"==e.data[t]?(be(Y.value,"select_type").model=!1,be(Y.value,"company_name").typeInput="hidden"):(be(Y.value,"select_type").model=!0,be(Y.value,"company_name").typeInput="text");else if("membership_members"==t)for(var s in e.data[t]||(M.value="Does not have a membership",C.value="Does not have a membership go to the Membership/Contract section and create a new membership and press New Membership",console.error("no posee una membresia :(")),e.data[t])"memberships_location"==s?e.data[t][s]?(be(P,"locations_id").model=e.data[t][s].companies_locations_id,Oe([e.data[t][s].companies_locations_id]).then((e=>{ke(P,"diciplines",e.data)}))):console.error("no posee una locacion :("):"diciplines"==s?(be(P,"diciplines").model=[],e.data[t][s].forEach((e=>{be(P,"diciplines").model.push(e.diciplines_id)}))):"discount"==s?e.data[t][s]&&(be(P,"discount").model=e.data[t][s].id):null!=be(P,s)&&xe(P,s,e.data[t][s]);else if("trainers"==t){let s=[];e.data[t].forEach((e=>{s.push(e.id)})),xe(P,"staff_id",s)}else if("emergency"==t)for(s in e.data[t])xe(K,s,e.data[t][s]);else if("guardian"==t)for(s in e.data[t])xe(G,s,e.data[t][s]);else xe(Y,t,"leo_vet_fr"==t?1==e.data[t]:e.data[t]);S.value=!1}))},E=r((()=>{let e="";return w.value.subscription?(e=w.value.subscription.subscription&&"active"==w.value.subscription.subscription.status?"active":w.value.subscription.status,"active"==w.value.subscription.status||w.value.subscription.status,"canceled"==w.value.subscription.status&&x()<=x(w.value.membership_members.cacelation_date)&&(e="active")):w.value.sinMembresia&&(e=w.value.user&&w.value.user.pm_last_four?"nomembershipcontarjeta":"nomembership"),e})),z=()=>{S.value=!0,V()};return(t,l)=>{const n=e,i=tt,r=s,o=Gt,M=Pe,j=Qt,P=As,Y=Ws,$=Ks,V=sa,I=Ca,A=$a,F=qa,T=Ne;return c(),m(T,null,{default:d((()=>[S.value?(c(),m("div",Ha,[v("div",La,[v(n,{height:"700px"})]),v("div",Ra,[v("div",Wa,[v(n,{height:"150px"})]),v("div",Oa,[v(n,{height:"420px"})])])])):p("v-if",!0),!S.value&&u(w)?(c(),m("div",Ua,[v("div",Ga,[v(i,{category:u(a).query.category,onChangeMenu:g,class:u(E)},null,8,["category","class"])]),p(" <p>{{ isSolvente }}</p> "),v("div",Ja,[u(ue)?p("v-if",!0):(c(),m(r,{key:0,class:["\n            mb-4\n            d-flex\n            justify-content-between\n            align-items-center\n            cardprofile\n          ",u(E)]},{default:d((()=>[v("div",null,[v("p",null,f(C.value),1),p(' <small v-if="member.subscription">\n              <p>{{ member.subscription.status }}</p>\n            </small> ')])])),_:1},8,["class"])),b.value?(c(),m(o,{key:1,class:"mb-4"})):p("v-if",!0),null!=u(w).membership_members?(c(),m(r,{key:2,class:"mb-4"},{default:d((()=>{var e;return[v("div",Ka,[v("div",null,[v("p",null,[v("b",null,"Member #"+f(u(w).id),1)]),v("p",null,[v("small",null,[Xa,k(" "+f(u(x)(u(w).created_at).format("ddd - DD MMM YYYY")),1)])]),v("p",null,[Qa,k(" "+f(u(D).membership.name),1)]),v("p",null,[Za,k(" "+f(u(x)(u(w).subscription.proxima_factura).format("ddd - DD MMM YYYY")),1)]),(null==(e=u(w).membership_members)?void 0:e.discount)?(c(),m("p",el,[tl,k(" "+f(u(w).membership_members.discount.name),1)])):p("v-if",!0)]),u(w).subscription?(c(),m("div",sl,[v(M,{color:"info",label:u(w).subscription.status,rounded:""},null,8,["label"])])):p("v-if",!0)])]})),_:1})):p("v-if",!0),h(v(j,{category:u(a).query.category},null,8,["category"]),[[_,"personalInformation"==y.value]]),h(v(P,{onReload:z},null,512),[[_,"memberMembership"==y.value]]),h(v(Y,null,null,512),[[_,"memberFamily"==y.value]]),h(v($,null,null,512),[[_,"memberEmergency"==y.value]]),h(v(V,null,null,512),[[_,"memberCheckins"==y.value]]),h(v(I,null,null,512),[[_,"memberPurchases"==y.value]]),h(v(A,null,null,512),[[_,"memberWaiver"==y.value]]),h(v(F,null,null,512),[[_,"memberCredit"==y.value]])])])):p("v-if",!0)])),_:1})}}});export default al;
