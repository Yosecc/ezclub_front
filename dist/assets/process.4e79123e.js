import{_ as e}from"./V-Card.vue_vue&type=script&setup=true&lang.a508baf8.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.a97a12f7.js";import{_ as a,a as s,i as r}from"./image_default.c2da9acd.js";import{a as i,A as n,F as l}from"./index.4b786f04.js";import{d as u,A as m,r as p,o,h as c,j as d,k as v,E as _,K as y,L as b,H as f,z as g,B as j,D as h,N as V,O as x}from"./vendor.e3a29b40.js";import{_ as w}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.8360056e.js";import{p as $}from"./sidebarLayoutState.436b738a.js";import"./V-Placeload.9d0101ab.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.be9f8744.js";import"./useDropdown.dfad556c.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.acbf948e.js";import"./V-Dropdown.7404a3e2.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.1a89ef3a.js";import"./activePanelState.5a49edcb.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.653a9590.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.eb96c098.js";import"./V-Message.vue_vue&type=script&setup=true&lang.f3abd056.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.b59ccca7.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.5145729d.js";import"./navbarLayoutState.75e4da9c.js";import"./video.674f0486.js";import"./darkModeState.a53f3c67.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.2f79059e.js";import"./AnimatedLogo.e43df3fc.js";import"./V-Control.b36667bf.js";import"./V-Field.vue_vue&type=script&setup=true&lang.189c1bf7.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.5e6c3f74.js";import"./V-Block.vue_vue&type=script&setup=true&lang.f5251e79.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.16aa198e.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.c5504f9b.js";const k={class:"columns is-multiline"},S={key:0,class:"d-flex justify-content-center column is-12 mb-4"},q={class:"text-center mr-6"},P=v("img",{src:a,width:"40",alt:""},null,-1),F=f(" View PDF "),A={class:"text-center ml-6"},C=v("img",{src:a,width:"40",alt:""},null,-1),D=f(" View PDF "),B={key:1,class:"text-center mb-4 mt-5 mx-auto"},L=v("p",{class:"mb-4 title is-5"},"Saved signature",-1);var M=u({expose:[],props:{member:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(a){const l=a;m((()=>{}));const u=p(!1),f=p(!1),g=p(null);p();const j=async e=>(g.value=e,u.value=!0,n.post(`sign/${l.member.membership_members.id}`,{sign:e}).then((e=>{f.value=!0,u.value=!1}))),h=()=>{j(r)};return(r,n)=>{const l=t,u=s,m=e;return o(),c(m,{radius:"small"},{default:d((()=>[v("div",k,[a.loading?b("",!0):(o(),c("div",S,[v("div",q,[v("a",{target:"_blank",href:`${_(i)}generateContract/${a.member.id}`},[P,v("p",null," contract_"+y(a.member.id)+"_"+y(a.member.membership_members.id)+"_"+y(a.member.personal_identifications)+".pdf ",1),v(l,{color:"success",outlined:"",class:"mt-4 py-1"},{default:d((()=>[F])),_:1})],8,["href"])]),v("div",A,[v("a",{target:"_blank",href:`${_(i)}generateWeiver/${a.member.id}`},[C,v("p",null," weiver_"+y(a.member.id)+"_"+y(a.member.membership_members.id)+"_"+y(a.member.personal_identifications)+".pdf ",1),v(l,{color:"success",outlined:"",class:"mt-4 py-1"},{default:d((()=>[D])),_:1})],8,["href"])])])),v(u,{onSinFirmar:h,onOnSignYes:j}),f.value?(o(),c("div",B,[L,v("img",{src:g.value,width:"400",height:"135",alt:""},null,8,["src"])])):b("",!0)])])),_:1})}}});const T={class:"page-content-inner"},z=v("h1",{class:"title is-4"},"Successful Payment",-1),O={class:"title is-3"},I={key:0,class:"mt-6"},N={class:"title is-3"},E=f(" View and sign: Family ");var H=u({expose:[],setup(a){$.value="Add New members",g({title:"Members"});const s=j();h();const r=p([]),i=p(null),u=p(null),f=p(!0);let k=p([]);m((()=>{n.post(`payment/${s.query.id}`,{payment_intent_client_secret:s.query.payment_intent_client_secret,redirect_status:s.query.redirect_status,payment_type:s.query.payment_type,membership:s.query.membership}).then((e=>{e.data.status&&(i.value=s.query.redirect_status,u.value=e.data.urlPDF,r.value=e.data.member,k.value=e.data.familiares,f.value=!1)}))}));return(a,i)=>{const n=e,u=M,m=t,p=w;return o(),c(p,null,{default:d((()=>[v("div",T,[v("div",null,[v(n,{class:"mb-4",radius:"small",color:"success"},{default:d((()=>[z])),_:1}),v("h2",O," Sign "+y(r.value.name)+" "+y(r.value.second_name)+" "+y(r.value.last_name),1),v(u,{loading:f.value,member:r.value},null,8,["loading","member"]),_(k).length>0?(o(),c("div",I,[(o(!0),c(V,null,x(_(k),((e,t)=>(o(),c("div",{key:`familu${t}`},[v(n,{class:"mb-4",radius:"small"},{default:d((()=>[v("h2",N," Sign Family: "+y(e.name)+" "+y(e.second_name)+" "+y(e.last_name),1),v(m,{color:"warning",class:"text-center mx-auto",onClick:t=>(e=>{window.location.href=`${l.value}members/process?id=${e.id}&payment_intent=${s.query.payment_intent}&payment_intent_client_secret=${s.query.payment_intent_client_secret}&redirect_status=${s.query.redirect_status}&payment_type=${s.query.payment_type}`})(e)},{default:d((()=>[E])),_:2},1032,["onClick"])])),_:2},1024)])))),128))])):b("",!0)])])])),_:1})}}});export default H;
