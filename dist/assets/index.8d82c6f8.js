import{_ as M}from"./memberFilterReportsTable.vue_vue_type_script_setup_true_lang.5052e844.js";import{_ as D}from"./V-Button.vue_vue_type_script_setup_true_lang.72d178c7.js";import{_ as R}from"./V-Card.vue_vue_type_script_setup_true_lang.f80f1beb.js";import{n as C,h as B}from"./Reports.4712ad31.js";import{d as v,r as h,j as b,n as f,o as n,e as l,w as m,f as e,F as N,G as V,t as _,u as L,h as P,y,i as S,Q as Y,B as F}from"./index.4457215e.js";import{_ as T}from"./V-Loader.vue_vue_type_script_setup_true_lang.f82321d3.js";import{_ as j}from"./SidebarLayout.vue_vue_type_script_setup_true_lang.a7af6f4a.js";import{p as U}from"./sidebarLayoutState.d2b676a9.js";import"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import"./V-Control.92200beb.js";import"./V-Field.vue_vue_type_script_setup_true_lang.33752939.js";import"./V-SwitchSegment.vue_vue_type_script_setup_true_lang.96e64ac9.js";import"./V-Modal.vue_vue_type_script_setup_true_lang.f0368080.js";import"./V-Checkbox.vue_vue_type_script_setup_true_lang.70a8d51f.js";import"./V-Placeload.9684d098.js";import"./ActivityPanel.vue_vue_type_style_index_0_lang.8acd0baa.js";import"./useDropdown.d2881c63.js";import"./V-Avatar.vue_vue_type_script_setup_true_lang.b4183814.js";import"./V-Dropdown.c58eb584.js";import"./V-Icon.vue_vue_type_script_setup_true_lang.a0e27302.js";import"./Companies.4f645ec0.js";import"./activePanelState.d3359fb3.js";import"./fastpizza.70124fcb.js";import"./TaskPanel.vue_vue_type_style_index_0_lang.50493a6a.js";import"./V-Tag.vue_vue_type_script_setup_true_lang.0d8ff65f.js";import"./video.d6dbc99d.js";import"./SearchPanel.vue_vue_type_style_index_0_lang.63cec0b9.js";import"./darkModeState.1f6503fc.js";import"./AnimatedLogo.d670690a.js";import"./V-IconBox.vue_vue_type_script_setup_true_lang.772b752f.js";import"./V-Block.vue_vue_type_script_setup_true_lang.00657afe.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang.5fb53f85.js";import"./userPopovers.f4b9fc60.js";const W={class:"mt-4"},q={class:"table is-hoverable is-fullwidth"},z=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"ID"),e("th",{scope:"col"},"Name"),e("th",{scope:"col"},"Membership"),e("th",{scope:"col"},"Date"),e("th",{scope:"col"},"Profile")])],-1),A={key:0},E=S(" Profile "),G={key:1},H=e("tr",null,[e("td"),e("td",null,"No members"),e("td")],-1);var I=v({expose:[],setup(g){const i=h([]),t=h(!1);b(async()=>{c()});const p=async s=>{c(s)},c=async(s={})=>{t.value=!0;try{const o=await C(s);i.value=o.data}catch(o){f.error(o.message)}finally{t.value=!1}},w=async(s={})=>{t.value=!0;try{const o=await B({...s,no_payment_method:!0,report_export_type:"members"}),d=window.URL.createObjectURL(new Blob([o.data])),r=document.createElement("a");r.href=d,r.setAttribute("download","reports.xlsx"),document.body.appendChild(r),r.click()}catch(o){f.error(o.message)}finally{t.value=!1}};return(s,o)=>{const d=M,r=D,x=Y("router-link"),$=R;return n(),l($,null,{default:m(()=>[e("div",null,[e(d,{onSearch:p,loading:t.value,onDownload:w},null,8,["loading"])]),e("div",W,[e(T,{class:"is-12",center:"",size:"small",active:t.value},{default:m(()=>[e("table",q,[z,i.value&&!t.value?(n(),l("tbody",A,[(n(!0),l(N,null,V(i.value,(a,k)=>{var u;return n(),l("tr",{key:`report-${k}`},[e("td",null,_(a.id),1),e("td",null,_(`${a.first_name} ${(u=a.second_name)!=null?u:""} ${a.last_name}`),1),e("td",null,_(a.membership),1),e("td",null,_(L(P)(a.created_at).format("MM/DD/YYYY")),1),e("td",null,[e(x,{to:{name:"members-profile",query:{id:a.id}},class:"btn btn-primary"},{default:m(()=>[e(r,{color:"primary",outlined:""},{default:m(()=>[E]),_:1})]),_:2},1032,["to"])])])}),128))])):y("",!0),i.value.length<1&&!t.value?(n(),l("tbody",G,[H])):y("",!0)])]),_:1},8,["active"])])]),_:1})}}});const O={class:"page-content-inner"},Q={class:"columns is-multiline"};var Be=v({expose:[],setup(g){return U.value="Member's Reports",F({title:"Member's Reports"}),b(()=>{}),(i,t)=>{const p=I,c=j;return n(),l(c,null,{default:m(()=>[e("div",O,[e("div",Q,[e(p)])])]),_:1})}}});export{Be as default};
