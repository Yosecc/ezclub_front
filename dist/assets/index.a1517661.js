import{_ as e}from"./V-Placeload.134a05d9.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.5b875dd1.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.e7b64613.js";import{m as l,i as s,b as n,c as r,d as i,e as o,p as u,f as c,h as m,j as d,k as p,l as v,n as f,o as h,q as y,r as b,t as _,u as g,v as k,w as x,x as j,y as C,z as M,A as w,B as P,C as D,D as $,E as S,F as Y,G as E,H as A}from"./Members.2b3f8efd.js";import{b as I,P as V,A as F,F as z,c as T,v as q,g as N,m as L,n as W,p as B,e as O,h as H,a as R,s as U}from"./index.2ca0435f.js";import{d as G,w as J,G as Q,b as K,r as X,D as Z,o as ee,h as te,J as ae,O as le,j as se,k as ne,F as re,Q as ie,R as oe,S as ue,U as ce,a8 as me,E as de,z as pe,Y as ve,L as fe}from"./vendor.7d033f41.js";import{_ as he}from"./V-Button.vue_vue&type=script&setup=true&lang.d214ebf5.js";import{_ as ye}from"./V-Loader.vue_vue&type=script&setup=true&lang.4e35c32c.js";import{_ as be}from"./V-Control.f3c0402c.js";import{_ as _e}from"./V-Field.vue_vue&type=script&setup=true&lang.5b35dbee.js";import{_ as ge}from"./V-Modal.vue_vue&type=script&setup=true&lang.345ddd7c.js";import{_ as ke}from"./V-Tag.vue_vue&type=script&setup=true&lang.fe421256.js";import{_ as xe}from"./inputsLayaut.vue_vue&type=style&index=0&lang.87a4afde.js";import{_ as je}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.e6c5b514.js";import{_ as Ce,a as Me,b as we}from"./Presupuesto.vue_vue&type=script&setup=true&lang.d21d0309.js";import{_ as Pe}from"./MemberCards.vue_vue&type=script&setup=true&lang.c1fd49dc.js";import{_ as De}from"./V-AvatarStack.vue_vue&type=script&setup=true&lang.dac939a6.js";import{_ as $e}from"./signComponent.vue_vue&type=script&setup=true&lang.4a8062d7.js";import{_ as Se}from"./pdf_icon.4e54e04e.js";import{_ as Ye}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.f0ca3e30.js";import{_ as Ee}from"./V-Block.vue_vue&type=script&setup=true&lang.ef21edbb.js";import{_ as Ae}from"./V-CreditCard.vue_vue&type=script&setup=true&lang.32051f1f.js";import{p as Ie,f as Ve}from"./PaymentMethodsData.4dc10efe.js";import{_ as Fe}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.d2643780.js";import{p as ze}from"./sidebarLayoutState.66c24736.js";import{g as Te}from"./Discounts.84d62315.js";import{a as qe}from"./Memberships.1b4c0084.js";import{g as Ne}from"./Recurrences.8f9b3ad1.js";import{h as Le}from"./Staffs.7a919539.js";import{g as We}from"./Diciplines.5a0ec3a7.js";import{e as Be}from"./config.197aa52a.js";import{b as Oe,e as He}from"./Companies.442937e3.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.867c7ae8.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.9e628ea0.js";import"./V-Dropdown.fdfb8a5a.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.cb218406.js";import"./useDropdown.216b8c2e.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.77a4fc78.js";import"./activePanelState.4624fcc4.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.1bb3b27b.js";import"./V-Message.vue_vue&type=script&setup=true&lang.e3b595c4.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.0ce2c394.js";import"./navbarLayoutState.56ce64f3.js";import"./video.3ed9ceae.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.d069f918.js";import"./darkModeState.b2a23e7f.js";import"./AnimatedLogo.707bad0f.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.336954e9.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.95b9c245.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.4e8b4716.js";const Re={class:"d-flex justify-content-center align-items-center flex-column mb-4"},Ue={class:"mt-5 text-center"},Ge={class:"title is-5 is-narrow"},Je={class:"w-100 mt-5"},Qe=ne("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var Ke=G({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:n}){const r=e,i=le();J((()=>i.hash),(e=>{m.value=o.findIndex((e=>e.component==i.hash.slice(1)))})),Q((()=>{""!=i.hash&&(m.value=o.findIndex((e=>e.component==i.hash.slice(1))))}));const o=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"}],u=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],c=K((()=>["Adult","Minor"].includes(r.category)?o:u)),m=X(0),d=X(null),p=K((()=>null!=c.value[m.value]?c.value[m.value].component:d.value));return(e,r)=>{const i=t,o=a;return Z(l)?(ee(),te(o,{key:0,color:Z(s)?void 0:"danger"},{default:se((()=>[ne("div",Re,[ne(i,{picture:Z(l).photo?`${Z(I)}storage/${Z(l).photo}`:"",size:"xl"},null,8,["picture"]),ne("div",Ue,[ne("h2",Ge,re(Z(l).name)+" "+re(Z(l).second_name)+" "+re(Z(l).last_name),1)])]),ne("div",Je,[ne("ul",null,[(ee(!0),te(ie,null,oe(Z(c),((e,t)=>(ee(),te("li",{key:`item-${t}`},[ne(o,{class:["\n              mb-3\n              item_menu\n              d-flex\n              justify-content-between\n              align-items-center\n            ",m.value==t?"active":""],color:m.value==t?"warning":void 0,elevated:m.value==t,onClick:e=>(e=>{m.value=e,n("changeMenu",p)})(t)},{default:se((()=>[ne("p",null,re(e.name),1),Qe])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1},8,["color"])):ae("",!0)}}});const Xe=ne("div",{id:"payment-element"},null,-1),Ze=de(" Pay now "),et=ne("div",{id:"payment-message",class:"hidden"},null,-1);var tt=G({expose:[],props:{amount:{type:Number,required:!0},id:{type:Number,required:!0},url:{type:String,default:"stripe"},member_membership:{type:Number,default:0}},setup(t){const l=t,s=Stripe(V.value);J((()=>l.id),(e=>{console.log("cambio"),n.value=!0,m()}));const n=X(!0);X({id:l.id,amount:l.amount});const r=X(),i=K((()=>"stripe"!=l.url?{payment_type_id:3,amount:l.amount}:{id:l.id,member_mermship_id:l.member_membership,amount:l.amount,payment_type_id:1})),o=X(null),u=X(null),c=X(!1),m=async()=>{let e=await F.post(l.url,i.value).then((e=>{o.value=e.data.clientSecret,r.value=s.elements({clientSecret:o.value}),u.value=r.value.create("payment"),u.value.mount("#payment-element")})).catch((e=>{}));return n.value=!1,e},d=async e=>{e.preventDefault(),c.value=!0,await s.confirmPayment({elements:r.value,confirmParams:{return_url:`${z.value}members/process?payment_type=3&id=`+l.id+`&membership=${l.member_membership}`}}),c.value=!1};return Q((()=>{m()})),(t,l)=>{const s=e,r=he,i=ye,o=a;return ee(),te(ie,null,[n.value?(ee(),te(s,{key:0,height:"500px"})):ae("",!0),ue(ne(o,{class:"mt-6"},{default:se((()=>[ne("form",{onSubmit:me(d,["prevent"]),id:"payment-form"},[Xe,ne(i,{size:"small",active:c.value},{default:se((()=>[ne(r,{id:"submit",class:"mt-4",color:"success"},{default:se((()=>[Ze])),_:1})])),_:1},8,["active"]),et],40,["onSubmit"])])),_:1},512),[[ce,!n.value]])],64)}}});const at={class:"table is-hoverable is-striped is-fullwidth"},lt=ne("th",{scope:"col"},"Members",-1),st=ne("th",{scope:"col"},"Membership Name",-1),nt=ne("th",{scope:"col"},"Recurrence",-1),rt=ne("th",{scope:"col"},"Prorated",-1),it=ne("th",{scope:"col"},"Membership Cost",-1),ot=ne("th",{scope:"col"},"Initiation Fee",-1),ut=ne("th",{scope:"col"},"Discount",-1),ct=ne("th",{scope:"col"},"Taxes",-1),mt={key:0,scope:"col"},dt=ne("th",{scope:"col"},"Sub Total",-1),pt={key:0},vt={key:0},ft={key:1},ht={key:2},yt={key:0},bt=ne("br",null,null,-1),_t={key:1},gt={key:0},kt={key:1},xt={key:0},jt={key:0},Ct={key:1},Mt={key:1},wt={key:3},Pt={class:"is-end"},Dt={class:"d-flex justify-content-between"},$t=de(" Card Payment "),St=de(" Cash Payment "),Yt={class:"d-flex mb-4 justify-content-between"},Et={class:"title is-5"},At=de(" Total: "),It={class:"title is-5"},Vt=de(" Cash Total: "),Ft={class:"\r\n            d-flex\r\n            justify-content-center\r\n            align-items-center\r\n            flex-column\r\n            mb-4\r\n          "},zt=ne("p",{class:"title is-5 mb-4"},"Change Back:",-1),Tt={class:"title is-3 mb-0"},qt={class:"d-flex justify-content-center flex-wrap mb-4"},Nt=ne("div",{class:"w-100"},null,-1),Lt={class:"d-flex justify-content-center"},Wt=de("Reset"),Bt=de("Confirm");var Ot=G({expose:[],setup(e){X(!1);const t=X(!1);Q((()=>{console.log("se monto el payment")}));const s=K((()=>{let e=T(r,"memberships_id");return null!=e?e:[]})),o=K((()=>{let e=T(r,"recurrences_id");return null!=e?e:[]})),u=K((()=>{let e=q(r,"initiation_fee");return null!=e?e:[]})),c=K((()=>{let e=N(r,"discount");return null!=e?e:[]})),m=K((()=>{let e=parseFloat(pe().format("DD")),t=0,a=0;return o.value.days>=30&&(a=e-o.value.payday,t=o.value.amount/o.value.days*a),{days:a,amount:Math.abs(Math.round(t))}})),d=K((()=>(e=>{if(""!=q(r,"memberships_id"))return"percentaje"==(e=e.value?e.value:e).tax.type?{text:`${e.tax.value}%`,value:e.tax.value,type:"procentaje"}:{text:L(e.tax.value),value:e.tax.value}})(s))),p=X(null),v=K((()=>{let e=0;return e+=o.value.amount,q(r,"is_initiation_fee").length||(e+=u.value),e-=m.value.amount,c.value.data&&("dolar"==c.value.data.type?e-=c.value.data.value:"percentaje"==c.value.data.type&&(e-=e/100*c.value.data.value)),e+=e/100*d.value.value,l.value.penalty&&(p.value=s.value.penalty,e+=p.value),l.value.leo_vet_fr&&(e-=e/100*s.value.descuento_vet),e})),f=K((()=>{let e=0;return e+=v.value,e})),h=X(!1),y=X(0),b=K((()=>{const e=parseFloat(y.value)-parseFloat(f.value);return e>0?e:0}));X(1);const _=async()=>{await i(n.value.id,{total:f.value,payment_type_id:1,cash:y.value,cash_back:b.value}).then((e=>{W.success("Payment Success"),window.location.reload()})).catch((e=>{}))};return(e,i)=>{const g=he,k=a,x=tt,j=be,C=_e,M=ge;return ee(),te("div",null,[ne(k,{class:""},{default:se((()=>{return[ne("table",at,[ne("thead",null,[ne("tr",null,[lt,st,nt,rt,it,ot,ut,ct,p.value?(ee(),te("th",mt,"Penalty")):ae("",!0),dt])]),0!=Z(s).length?(ee(),te("tbody",pt,[ne("tr",null,[ne("td",null,[ne("p",null,[ne("b",null,re(Z(l).name)+" "+re(Z(l).second_name)+" "+re(Z(l).last_name),1)])]),0!=Z(s).legnth?(ee(),te("td",vt,re(Z(s).name),1)):ae("",!0),0!=Z(o).length?(ee(),te("td",ft,re(Z(o).descriptions),1)):ae("",!0),0!=Z(o).length?(ee(),te("td",ht,[Z(o).days>=30?(ee(),te("span",yt,[de(re(Z(m).days)+" days : ",1),bt,de(" - "+re(Z(L)(Z(m).amount)),1)])):(ee(),te("span",_t,"-"))])):ae("",!0),ne("td",null,re(Z(L)((e=Z(o),e.amount))),1),ne("td",null,[Z(q)(Z(r),"is_initiation_fee").length?(ee(),te("span",kt,re(Z(L)(0)),1)):(ee(),te("span",gt,re(Z(L)(Z(u))),1))]),ne("td",null,[null!=Z(c).data?(ee(),te("span",xt,["dolar"==Z(c).data.type?(ee(),te("span",jt," - "+re(Z(L)(Z(c).data.value)),1)):ae("",!0),"percentaje"==Z(c).data.type?(ee(),te("span",Ct,re(Z(c).data.value)+"%",1)):ae("",!0)])):(ee(),te("span",Mt,"-"))]),ne("td",null,re(Z(d).text),1),p.value?(ee(),te("td",wt,re(Z(L)(p.value)),1)):ae("",!0),ne("td",null,re(Z(L)(Z(v))),1)]),ne("tr",null,[ne("td",{style:{"text-align":"right"},colspan:p.value?"9":"8"}," Total ",8,["colspan"]),ne("td",Pt,re(Z(L)(Z(f))),1)])])):ae("",!0)]),ne("div",Dt,[ne(g,{color:"success",disabled:0==Z(s).length||isNaN(Z(f)),onClick:i[1]||(i[1]=e=>t.value=!0)},{default:se((()=>[$t])),_:1},8,["disabled"]),ne(g,{disabled:0==Z(s).length||isNaN(Z(f)),color:"warning",onClick:i[2]||(i[2]=e=>h.value=!0)},{default:se((()=>[St])),_:1},8,["disabled"])])];var e})),_:1}),t.value?(ee(),te(x,{key:0,class:"",url:`new_payment/${Z(n).id}`,amount:Z(f),id:Z(l).id,member_membership:Z(n).id},null,8,["url","amount","id","member_membership"])):ae("",!0),ne(M,{open:h.value,actions:"center",onClose:i[6]||(i[6]=e=>h.value=!1)},{content:se((()=>[ne("div",Yt,[ne("p",Et,[At,ne("b",null,re(Z(L)(Z(f))),1)]),ne("p",It,[Vt,ne("b",null,re(Z(L)(y.value)),1)])]),ne("div",Ft,[zt,ne("p",Tt,[ne("b",null,re(Z(L)(Z(b))),1)])]),ne("div",qt,[ne(g,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:i[3]||(i[3]=e=>y.value=Z(f))},{default:se((()=>[de(" Full Payment "+re(Z(L)(Z(f))),1)])),_:1}),Nt,(ee(),te(ie,null,oe([5,10,20,50,100],((e,t)=>ne(g,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>y.value+=e},{default:se((()=>[de(" $"+re(e),1)])),_:2},1032,["onClick"]))),64))]),ne("div",Lt,[ne(C,null,{default:se((()=>[ne(j,null,{default:se((()=>[ue(ne("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>y.value=e),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[ve,y.value]])])),_:1})])),_:1})])])),action:se((()=>[ne(g,{onClick:i[5]||(i[5]=e=>y.value=0),class:"d-flex justify-content-center",raised:""},{default:se((()=>[Wt])),_:1}),ne(g,{color:"success",onClick:_,disabled:Z(f)>y.value,class:"d-flex justify-content-center",raised:""},{default:se((()=>[Bt])),_:1},8,["disabled"])])),_:1},8,["open"])])}}});const Ht=ne("div",null,[ne("h1",{class:"title is-4 mb-0"},"Personal Information"),ne("p",null,"Edit member's personal information")],-1),Rt=de(" Save Changes "),Ut=de(" Convert to Members ");var Gt=G({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;K((()=>"Prospect"==t.category));const a=X(!1),l=()=>{a.value=!0;let e=B(o.value),t=new FormData;for(var l in e)t.append(l,e[l]);u(t).then((e=>{W.success("Edit Success"),a.value=!1})).catch((e=>{a.value=!1}))};return(e,s)=>{const n=he,r=ye,i=xe,u=je;return ee(),te(u,null,{"header-left":se((()=>[Ht])),"header-right":se((()=>[ne(r,{size:"small",active:a.value},{default:se((()=>[ne(n,{onClick:l,color:"primary"},{default:se((()=>[Rt])),_:1}),"Prospect"==t.category?(ee(),te(n,{key:0,color:"info",class:"ml-3"},{default:se((()=>[Ut])),_:1})):ae("",!0)])),_:1},8,["active"])])),content:se((()=>[ne(i,{"inputs-step":Z(o)},null,8,["inputs-step"])])),_:1})}}});const Jt=ne("div",null,[ne("h1",{class:"title is-4 mb-0"},"Membership / Contract"),ne("p",null,"Edit member's membership and contract information")],-1),Qt={class:"columns is-multiline justify-content-center"},Kt={key:0,class:"column is-12"},Xt=ne("p",null,[ne("small",null,"Membership")],-1),Zt={class:"title is-4 mb-0"},ea={key:0},ta={key:0},aa={key:1},la={class:"text-right"},sa=ne("b",null,"Payment Method:",-1),na={class:"title is-4"},ra={key:1,class:"column is-3 mb-6 mt-4"},ia=ne("p",null,[ne("b",null,"HOLD Membership")],-1),oa={key:0},ua={key:2,class:"column is-3 mb-6 mt-4"},ca=ne("p",null,[ne("b",null,"Pause Payment")],-1),ma={key:0},da=de("Confirm"),pa={key:3,class:"column is-3 mb-6 mt-4"},va=ne("p",null,[ne("b",null,"Cancel Membership")],-1),fa={key:4,class:"column is-3 mb-6 mt-4"},ha=ne("p",null,[ne("b",null,"Payment Now")],-1),ya={key:5,class:"mb-4 column is-12"},ba=de("Save Changes"),_a=de(" New Membership "),ga={key:7,class:"column is-12 mb-6 mt-4"},ka={key:1},xa={class:"d-flex justify-content-end w-100"},ja=de("Cancel"),Ca={key:8,class:"columns is-multiline column mt-4 is-12"},Ma=ne("b",null,"Contract Date:",-1),wa={class:"column is-12"},Pa=ne("h1",{class:"title is-6"},"Active Waiver Information",-1),Da={class:"text-center"},$a=ne("img",{src:Se,width:"40",alt:""},null,-1),Sa=de(" View PDF ");var Ya=G({expose:[],props:{},setup(t){Q((()=>{c(r)})),X(null),X(null),X(null),X(null),X(null);const s=X(!1);X(null);const i=K((()=>{if(r.unshift(m.value[0]),r.push(d.value[0]),N(r,"prorrateo").change=function(e){this.model?N(e,"schedules").disabled=!0:N(e,"schedules").disabled=!1},N(r,"recurrence").class="is-4",l.value&&n.value){let e=["locations_id","diciplines","staff_id","discount"];return r.filter((t=>e.includes(t.name)))}return r})),u=()=>{N(r,"amount").required=!1,N(r,"initiation_fee").required=!1,N(r,"diciplines").required=!1;const e=B(r);h(e).then((e=>{W.success("Success"),s.value=!1,N(r,"amount").required=!0,N(r,"initiation_fee").required=!0,N(r,"diciplines").required=!0}))},x=async()=>{s.value=!0,await y(i.value,o.value),s.value=!1},j=()=>{confirm("Are you sure you want to perform this action?")&&(s.value=!0,b().then((e=>{W.success("Memberships Cancel"),window.location.reload(),s.value=!1})))},C=e=>{_(e,n.value.id).then((e=>{if(e.data.status)W.success("Sign Success");else for(var t in W.error(e.data.mensaje),e.data.errores)e.data.errores[t].forEach((e=>{W.error(`${t} : ${e}`)}))})).catch((e=>{}))},M=e=>{},w=X(!1),P=X(null),D=()=>{confirm("Are you sure you want to perform this action?")&&(s.value=!0,g(n.value.id,P.value).then((e=>{W.success("Success Pause"),s.value=!1})).catch((e=>{for(var t in s.value=!1,e.response.data.errores)e.response.data.errores[t].forEach((e=>{W.error(`${t}: ${e}`)}))})))},$=X(!1),S=(e,t=3,a={})=>{if(!confirm("Do you want to try the payment?"))return;let s={invoice_id:l.value.subscription.latest_invoice,payment_type_id:t,payment_method:e,total:l.value.subscription.total_invoice};1==t&&(s.changeBack=a.changeBack,s.cash=a.cash),k(n.value.id,s).then((e=>{W.success("success"),window.location.reload()})).catch((e=>{if("object"==typeof e.response.data)for(var t in e.response.data)"array"==typeof e.response.data[t]||W.error(e.response.data[t]);else W.error(e.response.data)}))},Y=e=>{S(null,1,e)};return(t,r)=>{const o=a,c=ye,m=he,d=ge,h=Ce,y=Pe,b=xe,_=De,g=he,k=e,E=Me,A=we,V=$e,F=je;return ee(),te(F,null,{"header-left":se((()=>[Jt])),content:se((()=>[ne("div",Qt,[Z(l)&&Z(n)?(ee(),te("div",Kt,[ne(o,{class:"d-flex justify-content-between",color:"info"},{default:se((()=>[ne("span",null,[Xt,ne("p",Zt,re(Z(n).membership.name),1),ne("p",null,re(Z(n).recurrence.descriptions),1),Z(n).discount?(ee(),te("p",ea,[de(re(Z(n).discount.value)+" ",1),"percentaje"==Z(n).discount.type?(ee(),te("span",ta,"%")):(ee(),te("span",aa,"$"))])):ae("",!0)]),ne("span",la,[ne("p",null,[ne("small",null,[sa,de(" "+re(Z(n).payment_type.name),1)])]),ne("p",null,[ne("small",null,re(Z(n).recurrence.is_recurrence?"Recurrence":"no recurrence"),1)]),ne("p",na,re(Z(L)(Z(l).subscription.total_invoice/100)),1)])])),_:1})])):ae("",!0),Z(l)&&Z(n)?(ee(),te("div",ra,[Z(l).membership_members.is_recurrence?(ee(),te(c,{key:0,size:"small",active:s.value},{default:se((()=>[Z(n)&&Z(l).subscription?(ee(),te(o,{key:0,color:"info",outlined:null==Z(l).subscription.pause_collection,onClick:D,class:"mr-4 btn-card text-center"},{default:se((()=>[ia,null!=Z(l).subscription.pause_collection?(ee(),te("span",oa,"Active until: "+re(Z(l).subscription.pause_collection.resumes_at),1)):ae("",!0)])),_:1},8,["outlined"])):ae("",!0)])),_:1},8,["active"])):ae("",!0)])):ae("",!0),Z(l)&&Z(n)?(ee(),te("div",ua,[Z(l).membership_members.is_recurrence?(ee(),te(c,{key:0,size:"small",active:s.value},{default:se((()=>[Z(n)&&Z(l).subscription?(ee(),te(o,{key:0,color:"warning",outlined:null==Z(l).subscription.pause_collection,onClick:r[1]||(r[1]=e=>w.value=!0),class:"mr-4 btn-card text-center"},{default:se((()=>[ca,null!=Z(l).subscription.pause_collection?(ee(),te("span",ma,"Active until: "+re(Z(l).subscription.pause_collection.resumes_at),1)):ae("",!0)])),_:1},8,["outlined"])):ae("",!0)])),_:1},8,["active"])):ae("",!0),ne(d,{open:w.value,actions:"center",onClose:r[3]||(r[3]=e=>w.value=!1)},{content:se((()=>[ue(ne("input",{type:"date","onUpdate:modelValue":r[2]||(r[2]=e=>P.value=e),class:"input"},null,512),[[ve,P.value]])])),action:se((()=>[ne(m,{onClick:D,color:"primary",raised:""},{default:se((()=>[da])),_:1})])),_:1},8,["open"])])):ae("",!0),Z(l)&&Z(n)?(ee(),te("div",pa,[Z(l).membership_members.is_recurrence?(ee(),te(c,{key:0,size:"small",active:s.value},{default:se((()=>[Z(n)?(ee(),te(o,{key:0,color:"danger",outlined:"",onClick:j,class:"mr-4 btn-card text-center"},{default:se((()=>[va])),_:1})):ae("",!0)])),_:1},8,["active"])):ae("",!0)])):ae("",!0),Z(l)&&Z(n)?(ee(),te("div",fa,[Z(l).membership_members.is_recurrence?(ee(),te(c,{key:0,size:"small",active:s.value},{default:se((()=>[Z(n)?(ee(),te(o,{key:0,color:"success",outlined:"",onClick:r[4]||(r[4]=e=>$.value=!$.value),class:"mr-4 btn-card text-center"},{default:se((()=>[ha])),_:1})):ae("",!0)])),_:1},8,["active"])):ae("",!0)])):ae("",!0),$.value?(ee(),te("div",ya,[Z(l).user?(ee(),te(y,{key:0,onOnMethodPayment:S,memberid:Z(l).id,method_default:Z(l).user.pm_last_four,"show-new-card":!1,class:"mb-4",ancho:"is-4"},{default:se((()=>[ne(h,{total:Z(l).subscription.total_invoice,margin:"mx-0",class:"is-4",onOnPaymentCash:Y},null,8,["total"])])),_:1},8,["memberid","method_default"])):ae("",!0)])):ae("",!0),Z(p).length?ae("",!0):(ee(),te(o,{key:6,class:"mb-4 column is-12"},{default:se((()=>[ne(b,{"inputs-step":Z(i)},null,8,["inputs-step"]),Z(l)&&Z(l).trainers?(ee(),te(_,{key:0,avatars:Z(v)(Z(l).trainers),size:"small"},null,8,["avatars"])):ae("",!0),Z(l)&&Z(n)?(ee(),te(c,{key:1,size:"small",active:s.value},{default:se((()=>[ne(g,{class:"mt-5",onClick:u,color:"primary"},{default:se((()=>[ba])),_:1})])),_:1},8,["active"])):ae("",!0),Z(f)?ae("",!0):(ee(),te(c,{key:2,size:"small",active:s.value},{default:se((()=>[Z(n)?ae("",!0):(ee(),te(g,{key:0,class:"mt-5",onClick:x,color:"primary"},{default:se((()=>[_a])),_:1}))])),_:1},8,["active"]))])),_:1})),Z(n)?ae("",!0):(ee(),te("div",ga,[s.value?(ee(),te(k,{key:0,height:"300px",class:"mb-4"})):ae("",!0),Z(p).length?(ee(),te("div",ka,[(ee(!0),te(ie,null,oe(Z(p),((e,a)=>(ee(),te(A,{key:`presupuesto-${a}`,class:"mb-4",presupuesto:e},{default:se((()=>[ne("div",xa,[ne(E,{member:e.member,member_id:Z(l).id,membresia:e.membresia,contact:t.dataContact,presupuesto_id:e.presupuesto_id,"categories-members":t.categoriesMembers,"notas-input":t.notasInput,total:e.totales.upfront.amount_total,onPaymentAction:M,type:"edit"},null,8,["member","member_id","membresia","contact","presupuesto_id","categories-members","notas-input","total"])])])),_:2},1032,["presupuesto"])))),128)),ne(g,{onClick:r[5]||(r[5]=e=>p.value=[]),color:"danger"},{default:se((()=>[ja])),_:1})])):ae("",!0)])),Z(l)&&Z(n)?(ee(),te("div",Ca,[ne("div",null,[ne("p",null,[Ma,de(" "+re(Z(pe)(Z(l).membership_members.created_at).format("ddd - DD MMM yyyy")),1)])]),ne("div",wa,[ne(V,{onOnSign:C,"is-sign":!Z(n).sign,contract:`contract_${Z(l).id}_${Z(l).membership_members.id}_${Z(l).personal_identifications}.pdf`,"url-contract":`generateContract/${Z(l).id}`},null,8,["is-sign","contract","url-contract"])])])):ae("",!0),ae("",!0),Z(l)&&Z(n)?(ee(),te(o,{key:10,class:"mb-4"},{default:se((()=>[Pa,ne("div",Da,[ne("a",{target:"_blank",href:`${Z(I)}generateWeiver/${Z(l).id}`},[$a,ne("p",null," weiver_"+re(Z(l).id)+"_"+re(Z(l).membership_members.id)+"_"+re(Z(l).personal_identifications)+".pdf ",1),ne(m,{color:"success",outlined:"",class:"mt-4 py-1"},{default:se((()=>[Sa])),_:1})],8,["href"])])])),_:1})):ae("",!0)])])),_:1})}}});const Ea=ne("div",null,[ne("h1",{class:"title is-4 mb-0"},"Family Members"),ne("p",null,"Edit member's family members")],-1),Aa={class:"columns is-multiline"},Ia={key:0,class:"column is-4 mb-4"},Va=ne("div",null,[ne("h1",{class:"title is-4 mb-0"},"Parent"),ne("p",null,"Edit parent contact")],-1),Fa=de(" Save Changes "),za={class:""},Ta=ne("h1",{class:"title is-5"},"Parent Contact Information",-1),qa={class:"d-flex justify-content-end mr-6"};var Na=G({expose:[],setup(e){X([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]);const a=()=>{const e=perpareDataInputs(C.value);M(e).then((e=>{W.success("Success")}))};return(e,s)=>{const n=t,r=Ye,i=Ee,o=je,u=he,c=xe;return ee(),te("div",null,[Z(l)&&"Adult"==Z(l).category?(ee(),te(o,{key:0},{"header-left":se((()=>[Ea])),"header-right":se((()=>[])),content:se((()=>[ne("div",Aa,[Z(x)?(ee(),te("div",Ia,[ne(i,{title:`${Z(x).name} ${Z(x).second_name} ${Z(x).last_name}`,class:"border-1 p-4 radius-small"},{icon:se((()=>[ne(n,{size:"medium",picture:`${Z(I)}storage/${Z(x).photo}`,subtitle:"Principal Family"},null,8,["picture"])])),action:se((()=>[ne(r,{"id-member":Z(x).id},null,8,["id-member"])])),_:1},8,["title"])])):ae("",!0),(ee(!0),te(ie,null,oe(Z(j),((e,t)=>(ee(),te("div",{class:"column is-4 mb-4",key:`family-${t}`},[ne(i,{title:`${e.member.name} ${e.member.second_name} ${Z(l).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:se((()=>[ne(n,{size:"medium",picture:`${Z(I)}storage/${e.member.photo}`},null,8,["picture"])])),action:se((()=>[ne(r,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):ae("",!0),Z(l)&&"Minor"==Z(l).category?(ee(),te(o,{key:1},{"header-left":se((()=>[Va])),"header-right":se((()=>[ne(u,{onClick:a,color:"primary"},{default:se((()=>[Fa])),_:1})])),content:se((()=>[ne("div",za,[Ta,ne("div",qa,[ne(n,{picture:`${Z(I)}storage/${Z(q)(Z(C),"parent_photo")}`,size:"large"},null,8,["picture"])]),ne(c,{"inputs-step":Z(C)},null,8,["inputs-step"])])])),_:1})):ae("",!0)])}}});const La=ne("div",null,[ne("h1",{class:"title is-4 mb-0"},"Emergency Contact"),ne("p",null,"Edit member's emergency contact")],-1),Wa=de(" Save Changes "),Ba={class:""},Oa=ne("h1",{class:"title is-5"},"Emergency Contact Information",-1);var Ha=G({expose:[],setup(e){const t=()=>{const e=B(w.value);console.log(e),P(e).then((e=>{W.success("Success")}))};return(e,a)=>{const l=he,s=xe,n=je;return ee(),te(n,null,{"header-left":se((()=>[La])),"header-right":se((()=>[ne(l,{onClick:t,color:"primary"},{default:se((()=>[Wa])),_:1})])),content:se((()=>[ne("div",Ba,[Oa,ne(s,{"inputs-step":Z(w)},null,8,["inputs-step"])])])),_:1})}}});const Ra=ne("div",null,[ne("h1",{class:"title is-4 mb-0"},"Check-ins History"),ne("p",null,"Edit member's check-ins history")],-1),Ua={class:"p-6"},Ga={class:"d-flex"},Ja=ne("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),Qa=ne("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),Ka=de(" Export "),Xa={class:"mt-4"},Za={class:"table is-hoverable is-fullwidth"},el=ne("thead",null,[ne("tr",null,[ne("th",{scope:"col"},"DATE"),ne("th",{scope:"col"},"TIME"),ne("th",{scope:"col"},"STAFF")])],-1);var tl=G({expose:[],setup:e=>(e,t)=>{const a=be,s=_e,n=he,r=je;return Z(l)?(ee(),te(r,{key:0},{"header-left":se((()=>[Ra])),"header-right":se((()=>[])),content:se((()=>[ne("div",Ua,[ne("div",Ga,[ne(s,{class:"field mr-3"},{default:se((()=>[ne(a,null,{default:se((()=>[Ja])),_:1})])),_:1}),ne(s,{class:"field mr-3"},{default:se((()=>[ne(a,null,{default:se((()=>[Qa])),_:1})])),_:1}),ne(n,{color:"primary"},{default:se((()=>[Ka])),_:1})]),ne("div",Xa,[ne("table",Za,[el,ne("tbody",null,[(ee(!0),te(ie,null,oe(Z(D),((e,t)=>(ee(),te("tr",{key:`access-${t}`},[ne("td",null,re(Z(pe)(e.created_at).format("DD/MM/YYYY")),1),ne("td",null,re(Z(pe)(e.created_at).format("HH:mm:ss")),1),ne("td",null,re(e.user.name),1)])))),128))])])])])])),_:1})):ae("",!0)}});const al=de(" New Card "),ll={class:"column is-8 mx-auto"};var sl=G({expose:[],setup(e){const t=X(!1);Q((()=>{O(Ie.value)}));const a=()=>{const e=B(Ie.value);H.value||(t.value=!0,$(l.value.id,e).then((e=>{W.success("Success"),t.value=!1,O(Ie.value)})).catch((e=>{if("object"==typeof e.response.data)for(var a in e.response.data)e.response.data[a].forEach((e=>{W.error(`${a} : ${e}`)}));else W.error(e.response.data);t.value=!1})))};return(e,l)=>{const s=he,n=ye,r=Ae,i=be,o=_e,u=xe,c=je;return ee(),te(c,null,{"header-right":se((()=>[ne(n,{active:t.value,size:"small"},{default:se((()=>[ne(s,{onClick:a,color:"primary"},{default:se((()=>[al])),_:1})])),_:1},8,["active"])])),content:se((()=>[ne(o,null,{default:se((()=>[ne(i,null,{default:se((()=>[ne(r,{color:"orange",flipped:Z(Ve),onFlip:l[1]||(l[1]=e=>Ve.value=!Z(Ve)),number:Z(N)(Z(Ie),"card_number").model,name:Z(N)(Z(Ie),"card_name").model,expiry:`${Z(N)(Z(Ie),"date_day_expired").model}/${Z(N)(Z(Ie),"date_year_expired").model}`,cvc:Z(N)(Z(Ie),"cvv").model},null,8,["flipped","number","name","expiry","cvc"])])),_:1})])),_:1}),ne("div",ll,[ne(u,{"inputs-step":Z(Ie)},null,8,["inputs-step"])])])),_:1})}}});const nl=ne("div",null,[ne("h1",{class:"title is-4 mb-0"},"Purchases History"),ne("p",null,"Edit member's purchases history")],-1),rl=ne("p",{class:"title is-5"},"Card List",-1),il=ne("p",null,"Invoices",-1),ol={class:"table is-hoverable is-fullwidth"},ul=ne("thead",null,[ne("tr",null,[ne("th",{scope:"col"},"Description"),ne("th",{scope:"col"},"Created"),ne("th",{scope:"col"},"Start Period"),ne("th",{scope:"col"},"End Period"),ne("th",{scope:"col"},"Mount"),ne("th",{scope:"col"},"Method"),ne("th",{scope:"col"},"Download"),ne("th",{scope:"col"},"Status")])],-1),cl={key:0},ml={key:0},dl={key:1},pl={key:0},vl={key:1},fl=ne("i",{class:"fas fa-download","aria-hidden":"true"},null,-1),hl=ne("p",null,"Payment Attempts",-1),yl={class:"table is-hoverable is-fullwidth"},bl=ne("thead",null,[ne("tr",null,[ne("th",{scope:"col"},"Description"),ne("th",{scope:"col"},"Created"),ne("th",{scope:"col"},"Mount"),ne("th",{scope:"col"},"Method"),ne("th",{scope:"col"},"Download"),ne("th",{scope:"col"},"Status")])],-1),_l={key:0},gl=ne("i",{class:"fas fa-download","aria-hidden":"true"},null,-1);var kl=G({expose:[],setup(e){K((()=>n.value.payments)),K((()=>{let e=[];return Y.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e})),Q((async()=>{await S(l.value.id)}));const t=e=>{};return(e,s)=>{const r=Pe,i=sl,o=he,u=a,c=je;return Z(l)?(ee(),te(c,{key:0},{"header-left":se((()=>[nl])),"header-right":se((()=>[])),content:se((()=>[rl,Z(l).user?(ee(),te(r,{key:0,"show-option":!0,class:"mb-6",onOnMethodPayment:t,method_default:Z(l).user.pm_last_four,"show-new-card":!1},null,8,["method_default"])):ae("",!0),ne(i),ne(u,{class:"mb-4"},{default:se((()=>[il,ne("table",ol,[ul,Z(n)?(ee(),te("tbody",cl,[(ee(!0),te(ie,null,oe(Z(l).invoices,((e,t)=>(ee(),te("tr",{key:`invoice-${t}`},[ne("td",null,re(e.description),1),ne("td",null,re(Z(pe)(e.created).format("MM/DD/YYYY")),1),ne("td",null,[e.period_start?(ee(),te("span",ml,re(Z(pe)(e.period_start).format("MM/DD/YYYY")),1)):(ee(),te("span",dl))]),ne("td",null,[e.period_end?(ee(),te("span",pl,re(Z(pe)(e.period_end).format("MM/DD/YYYY")),1)):(ee(),te("span",vl))]),ne("td",null,re(Z(L)(e.total/100)),1),ne("td",null,re(e.collection_method),1),ne("td",null,[ne("a",{href:e.invoice_pdf,target:"_blank"},[ne(o,null,{default:se((()=>[fl])),_:1})],8,["href"])]),ne("td",null,re(e.status),1)])))),128))])):ae("",!0)])])),_:1}),ne(u,{class:"mb-4"},{default:se((()=>[hl,ne("table",yl,[bl,Z(n)?(ee(),te("tbody",_l,[(ee(!0),te(ie,null,oe(Z(l).pagos,((e,t)=>(ee(),te("tr",{key:`pagos-${t}`},[ne("td",null,re(e.description),1),ne("td",null,re(Z(pe)(e.created).format("MM/DD/YYYY")),1),ne("td",null,re(Z(L)(e.total/100)),1),ne("td",null,re(e.collection_method),1),ne("td",null,[ne("a",{href:e.invoice_pdf,target:"_blank"},[ne(o,null,{default:se((()=>[gl])),_:1})],8,["href"])]),ne("td",null,re(e.status),1)])))),128))])):ae("",!0)])])),_:1})])),_:1})):ae("",!0)}}});const xl=ne("div",null,[ne("h1",{class:"title is-4 mb-0"}," Waiver "),ne("p",null,"Edit member's waiver information")],-1),jl=de(" Convert to Members "),Cl={class:"columns is-multiline"},Ml={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},wl={href:"234",class:"text-center"},Pl=ne("img",{style:{width:"70px"},src:Se,alt:""},null,-1);var Dl=G({expose:[],setup(e){const t=X([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,a)=>{const l=he,s=je;return ee(),te(s,null,{"header-left":se((()=>[xl])),"header-right":se((()=>[ne(l,{color:"info"},{default:se((()=>[jl])),_:1})])),content:se((()=>[ne("div",Cl,[(ee(!0),te(ie,null,oe(t.value,((e,t)=>(ee(),te("div",{class:"column is-2 mb-4",key:`family-${t}`},[ne("div",Ml,[ne("a",wl,[Pl,ne("p",null,re(e.name),1)])])])))),128))])])),_:1})}}});const $l={key:0,class:"columns is-multiline"},Sl={class:"column is-3"},Yl={class:"column is-9"},El={class:"columns is-multiline column is-12"},Al={class:"columns is-multiline column is-12"},Il={key:1,class:"columns is-multiline"},Vl={class:"column is-3"},Fl={class:"column is-9"},zl={class:"title is-5 mb-0"},Tl={key:0},ql={class:"d-flex justify-content-between"},Nl=ne("b",null,"Member since.",-1),Ll=ne("b",null,"Membership Active:",-1),Wl=ne("b",null,"Due Date: ",-1),Bl={key:0};var Ol=G({expose:[],setup(t){const i=le();ze.value="Member Profile",fe({title:"Members"});const u=X(!1),c=X("personalInformation"),m=e=>{c.value=e.value};J((()=>i.query),((e,t)=>{Object.keys(e).length>0&&(h(),f())}));const d=X("FAILED PAYMENT"),p=X("");J((()=>i.hash),(e=>{c.value=i.hash.slice(1)})),J((()=>i.query.id),(e=>{c.value="personalInformation"}));const v=X(!0),f=()=>{v.value=!0,setTimeout((()=>{v.value=!1}),500)};Q((()=>{""!=i.hash&&(c.value=i.hash.slice(1)),Oe().then((e=>{R(r,"locations_id",He.value)})),Be().then((e=>{R(o,"country_id",e.contries),R(o,"city_id",e.cities),R(o,"state_id",e.states),R(E,"city_id",e.cities),R(E,"state_id",e.states),R(E,"country_id",e.contries)})),qe().then((e=>{R(r,"memberships_id",e.data.memberships)})),Te().then((e=>{R(r,"discount",e.data.discounts)})),Ne().then((e=>{R(r,"recurrences_id",e.data)})),Le().then((e=>{R(r,"staff_id",e.data)})),h()}));const h=async()=>{await A(i.query.id).then((e=>{for(var t in console.log("response.data",e.data),e.data)if("select_type"==t)"Individual"==e.data[t]?(N(o.value,"select_type").model=!1,N(o.value,"company_name").typeInput="hidden"):(N(o.value,"select_type").model=!0,N(o.value,"company_name").typeInput="text");else if("membership_members"==t)for(var a in e.data[t]||(d.value="Does not have a membership",p.value="Does not have a membership go to the Membership/Contract section and create a new membership and press New Membership",console.error("no posee una membresia :(")),e.data[t])"memberships_location"==a?e.data[t][a]?(N(r,"locations_id").model=e.data[t][a].companies_locations_id,We([e.data[t][a].companies_locations_id]).then((e=>{R(r,"diciplines",e.data)}))):console.error("no posee una locacion :("):"diciplines"==a?(N(r,"diciplines").model=[],e.data[t][a].forEach((e=>{N(r,"diciplines").model.push(e.diciplines_id)}))):null!=N(r,a)&&U(r,a,e.data[t][a]);else if("trainers"==t){let a=[];e.data[t].forEach((e=>{a.push(e.id)})),U(r,"staff_id",a)}else if("emergency"==t)for(a in e.data[t])U(w,a,e.data[t][a]);else if("guardian"==t)for(a in e.data[t])U(C,a,e.data[t][a]);else U(o,t,"leo_vet_fr"==t?1==e.data[t]:e.data[t]);v.value=!1}))};return(t,r)=>{const o=e,f=Ke,h=a,y=Ot,b=ke,_=Gt,g=Ya,k=Na,x=Ha,j=tl,C=kl,M=Dl,w=Fe;return ee(),te(w,null,{default:se((()=>[v.value?(ee(),te("div",$l,[ne("div",Sl,[ne(o,{height:"700px"})]),ne("div",Yl,[ne("div",El,[ne(o,{height:"150px"})]),ne("div",Al,[ne(o,{height:"420px"})])])])):ae("",!0),!v.value&&Z(l)?(ee(),te("div",Il,[ne("div",Vl,[ne(f,{category:Z(i).query.category,onChangeMenu:m},null,8,["category"])]),ne("div",Fl,[Z(s)?ae("",!0):(ee(),te(h,{key:0,class:"mb-4 d-flex justify-content-between align-items-center",color:"danger"},{default:se((()=>[ne("div",null,[ne("h3",zl,re(d.value),1),ne("p",null,re(p.value),1),Z(l).subscription?(ee(),te("small",Tl,[ne("p",null,re(Z(l).subscription.status),1)])):ae("",!0)])])),_:1})),u.value?(ee(),te(y,{key:1,class:"mb-4"})):ae("",!0),null!=Z(l).membership_members?(ee(),te(h,{key:2,class:"mb-4"},{default:se((()=>[ne("div",ql,[ne("div",null,[ne("p",null,[ne("b",null,"Member #"+re(Z(l).id),1)]),ne("p",null,[ne("small",null,[Nl,de(" "+re(Z(pe)(Z(l).created_at).format("ddd - DD MMM YYYY")),1)])]),ne("p",null,[Ll,de(" "+re(Z(n).membership.name),1)]),ne("p",null,[Wl,de(" "+re(Z(pe)(Z(l).subscription.proxima_factura).format("ddd - DD MMM YYYY")),1)])]),Z(l).subscription?(ee(),te("div",Bl,[ne(b,{color:"info",label:Z(l).subscription.status,rounded:""},null,8,["label"])])):ae("",!0)])])),_:1})):ae("",!0),ue(ne(_,{category:Z(i).query.category},null,8,["category"]),[[ce,"personalInformation"==c.value]]),ue(ne(g,null,null,512),[[ce,"memberMembership"==c.value]]),ue(ne(k,null,null,512),[[ce,"memberFamily"==c.value]]),ue(ne(x,null,null,512),[[ce,"memberEmergency"==c.value]]),ue(ne(j,null,null,512),[[ce,"memberCheckins"==c.value]]),ue(ne(C,null,null,512),[[ce,"memberPurchases"==c.value]]),ue(ne(M,null,null,512),[[ce,"memberWaiver"==c.value]])])])):ae("",!0)])),_:1})}}});export default Ol;
