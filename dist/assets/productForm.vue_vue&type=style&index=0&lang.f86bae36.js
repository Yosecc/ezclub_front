import{_ as e}from"./V-Button.vue_vue&type=script&setup=true&lang.b71f832b.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.00efb228.js";import{_ as s}from"./inputsLayaut.vue_vue&type=style&index=0&lang.67d0f0f9.js";import{_ as a}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.066d1ccf.js";import{_ as r}from"./V-Tag.vue_vue&type=script&setup=true&lang.d1f062ed.js";import{_ as o}from"./V-Card.vue_vue&type=script&setup=true&lang.11c3a205.js";import{d as l,b as c,o as i,h as u,k as n,j as p,E as d,K as m,aa as v,G as f,R as h,S as b,A as y,F as _}from"./vendor.41bfc188.js";import{i as g,c as j,d as k,e as w,f as $,s as x}from"./Products.230bdd1c.js";import{g as A,b as C,v as E,n as P,p as V,e as D}from"./index.6cb589a0.js";const S={class:"title is-4 mb-0"},Y=_(" Go Back "),B=_(" Save Changes "),F={class:"columns is-multiline mx-auto"},G={class:"p-6 column is-12"},M=n("h1",{class:"title is-5 mb-0"},"Product Picture",-1),T={class:"d-flex justify-content-center"},q={class:"text-center"},z={class:"column is-12"},K={key:0},L=n("h1",{class:"title is-5"},"Prices",-1),R={class:"table is-hoverable is-fullwidth"},U=n("thead",null,[n("tr",null,[n("th",{scope:"col"},"Status"),n("th",{scope:"col"},"Price"),n("th",{scope:"col"},"Create Date"),n("th",{scope:"col"},"User")])],-1),H={class:"w-100 justify-content-center d-flex"},I=_(" Add Price ");var J=l({expose:[],props:{type:{type:String,default:"create"}},setup(l){const _=l,J=v(),N=c((()=>"create"==_.type?{title:"Add a new product",subtitle:"Add information for a new product"}:{title:"Edit product",subtitle:"Edit information for a product"})),O=c((()=>`${C.value}storage/${E(g.value,"photo")}`)),Q=()=>{""!=A(j.value,"price").model?confirm("Are you sure you want to add a new price? This action will disable the previous price and it cannot be restored")&&w(A(j.value,"price").model).then((e=>{P.success("success save"),window.location.reload()})).catch((e=>{for(var t in e.response.data.errores)e.response.data.errores[t].forEach((e=>{P.error(`${t}: ${e}`)}))})):P.error("Price is required")},W=()=>{let e=V(g.value);e.price=A(j.value,"price").model;const t=new FormData;for(var s in e)"locations"==s?e[s].forEach((e=>{t.append("locations[]",e)})):t.append(s,e[s]);console.log(...t),"edit"==_.type&&$(t).then((e=>{P.success(e.data.message),D(g.value),J.back()})).catch((e=>{for(var t in e.response.data.errores)e.response.data.errores[t].forEach((e=>{P.error(`${t}: ${e}`)}))})),"create"==_.type&&x(t).then((e=>{P.success(e.data.message),D(g.value),J.back()})).catch((e=>{for(var t in e.response.data.errores)e.response.data.errores[t].forEach((e=>{P.error(`${t}: ${e}`)}))}))};return(c,v)=>{const _=e,w=t,$=s,x=a,C=r,E=o;return i(),u("div",null,[n(x,null,{"header-left":p((()=>[n("div",null,[n("h1",S,f(d(N).title),1),n("p",null,f(d(N).subtitle),1)])])),"header-right":p((()=>[n(_,{onClick:v[1]||(v[1]=e=>d(J).back()),class:"mr-3"},{default:p((()=>[Y])),_:1}),n(_,{onClick:W,color:"primary"},{default:p((()=>[B])),_:1})])),content:p((()=>[n("div",F,[n("div",G,[M,n("div",T,[n("div",q,[n(w,{picture:d(O),class:"mb-4",size:"xl"},null,8,["picture"]),n($,{"inputs-step":c.input_image},null,8,["inputs-step"])])])]),n("div",z,[n($,{"inputs-step":d(g)},null,8,["inputs-step"]),"create"==l.type?(i(),u($,{key:0,"inputs-step":d(j)},null,8,["inputs-step"])):m("",!0)])])])),_:1}),d(A)(d(g),"custom").model?m("",!0):(i(),u("div",K,["edit"==l.type?(i(),u(E,{key:0,class:"mt-4"},{default:p((()=>[L,n("table",R,[U,n("tbody",null,[(i(!0),u(h,null,b(d(k).prices,((e,t)=>(i(),u("tr",{key:`price-${t}`},[n("td",null,[n(C,{color:e.status?"success":"danger",label:e.status?"Active":"Archived",rounded:""},null,8,["color","label"])]),n("td",null,"$"+f(e.price),1),n("td",null,f(d(y)(e.created_at).format("MM-DD-YYYY")),1),n("td",null,f(e.user.name),1)])))),128))])]),n("div",H,[n($,{"inputs-step":d(j)},null,8,["inputs-step"]),n(_,{color:"info",onClick:Q,class:"mt-5 ml-3"},{default:p((()=>[I])),_:1})])])),_:1})):m("",!0)]))])}}});export{J as _};
