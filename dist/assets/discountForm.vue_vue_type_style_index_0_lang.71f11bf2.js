import{_}from"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import{_ as m}from"./formLayaut.vue_vue_type_style_index_0_lang.2638a67d.js";import{d as y,j as v,a8 as u,c as b,o as h,e as k,w as D,u as i,k as $,n as a,f as x,a7 as w,D as E}from"./index.4457215e.js";import{i as o,s as S,p as j}from"./Discounts.a9c8271e.js";var I=y({expose:[],props:{type:{type:String,default:"create"},buttons:{type:Array,default:["save","back"]},step:{type:Number,default:1}},setup(p){const s=p,c=w(),d=E();v(()=>{u(o.value)});const f=b(()=>s.type=="create"?{title:"Add a new discount",subtitle:"Add information for a new discount"}:{title:"Edit discount",subtitle:"Edit information for a discount"}),l=()=>{const n=$(o.value);s.type=="create"?S(n).then(t=>{if(t.data.status)a.success("Success"),u(o.value),c.back();else{a.error(t.data.mensaje);for(var e in t.data.errores)t.data.errores[e].forEach(r=>{a.error(`${e} : ${r}`)})}}):s.type=="edit"&&j(d.query.id,n).then(t=>{if(t.data.status)a.success("Success"),u(o.value),c.back();else{a.error(t.data.mensaje);for(var e in t.data.errores)t.data.errores[e].forEach(r=>{a.error(`${e} : ${r}`)})}})};return(n,t)=>{const e=_,r=m;return h(),k(r,{buttons:s.buttons,step:s.step,titles:i(f),onSaveData:l},{default:D(()=>[x(e,{"inputs-step":i(o)},null,8,["inputs-step"])]),_:1},8,["buttons","step","titles"])}}});export{I as _};
