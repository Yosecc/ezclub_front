import{_ as e}from"./V-PlaceholderPage.vue_vue&type=script&setup=true&lang.888f0e72.js";import{_ as s}from"./V-Avatar.vue_vue&type=script&setup=true&lang.ceac713f.js";import{_ as a}from"./V-IconButton.vue_vue&type=script&setup=true&lang.7401f10c.js";import{_ as t}from"./V-Tag.vue_vue&type=script&setup=true&lang.7000afa2.js";import{_ as l}from"./V-Button.vue_vue&type=script&setup=true&lang.3bef777d.js";import{_ as r}from"./V-Card.vue_vue&type=script&setup=true&lang.72cebf51.js";import{d as i,A as n,b as m,o as c,h as o,j as u,k as d,J as p,B as b,L as f,T as v,G as h,r as g,w as y,a8 as _,K as x,D as k,N as w,O as j}from"./vendor.95b3aaf6.js";import{h as P}from"./moment.08a7f518.js";import{_ as C,a as M}from"./search-4-dark.fb3880a5.js";const A={key:0},T={class:"d-flex justify-content-between mb-4"},V={class:"d-flex align-items-center"},B={class:"ml-5"},D={class:"title is-5 is-narrow mb-1"},E=d("p",null,"Member",-1),I={class:"title is-6 is-narrow"},R={key:0,class:"text-center mb-4"},S=d("p",null,"last payment attempt",-1),z={key:0},L={key:1},N={class:"d-flex justify-content-center"},O=h(" Update "),$=h(" Ckeck-in "),q={key:1},G=d("p",null,"No hay miembro seleccionado",-1);var J=i({expose:[],props:{status:{type:Boolean},member:{type:Object}},emits:["closeMemberCard"],setup(e,{emit:i}){const h=e;n((()=>{console.log(h.member)}));const g=m((()=>{let e=P(h.member.membership_members.payments[0].created_at),s=P();return P.duration(s.diff(e))._days}));return(i,n)=>{const m=s,y=a,_=t,x=l,k=r;return c(),o(v,{name:"fade-slow"},{default:u((()=>[e.status?(c(),o(k,{key:0,id:"sidebarMember",color:e.member.membership_members.payments[0].status?"info":"danger",class:"column is-6"},{default:u((()=>[e.member?(c(),o("div",A,[d("div",T,[d("div",V,[d(m,{picture:e.member.photo,color:void 0,initials:"AR",size:"sm"},null,8,["picture"]),d("div",B,[d("h1",D,p(e.member.name)+" "+p(e.member.second_name)+" "+p(e.member.last_name),1),E,d("h2",I,"# "+p(e.member.id),1)])]),d("div",null,[d(y,{color:"danger",onClick:n[1]||(n[1]=e=>i.$emit("closeMemberCard")),style:{background:"transparent"},light:"",raised:"",circle:"",icon:"feather:x"})])]),e.member.membership_members.payments[0].status?f("",!0):(c(),o("div",R,[d(_,{color:"white",label:"PAYMENT",class:"mb-3"}),S,b(g)>0?(c(),o("p",z,p(b(g))+" days past due",1)):(c(),o("p",L,p(b(P)(h.member.membership_members.payments[0].created_at).format("yy/mm/d hh:mm:ss")),1))])),d("div",N,[d(x,{to:{name:"members-profile",query:{id:e.member.id,category:e.member.category}},color:"primary",class:"m-3 button-custom",icon:"fas fa-pen"},{default:u((()=>[O])),_:1},8,["to"]),d(x,{color:"warning",class:"m-3 button-custom",icon:"fas fa-clock"},{default:u((()=>[$])),_:1})])])):(c(),o("div",q,[G]))])),_:1},8,["color"])):f("",!0)])),_:1})}}});const K={class:"page-content-inner"},U={class:"flex-list-wrapper flex-list-v1"},W=d("img",{class:"light-image",src:C,alt:""},null,-1),Y=d("img",{class:"dark-image",src:M,alt:""},null,-1),F={class:"flex-table"},H=d("span",{class:"is-grow"},"Member",-1),Q=d("span",null,"Member ID",-1),X=d("span",null,"Membership Type",-1),Z=d("span",null,"Trainer",-1),ee=d("span",null,"Phone #",-1),se=d("span",null,"Status",-1),ae=d("span",{class:"cell-end"},"Actions",-1),te={class:"flex-list-inner"},le={class:"item-name dark-inverted"},re={class:"flex-table-cell","data-th":"member-id"},ie={class:"light-text"},ne={class:"flex-table-cell","data-th":"Membership Type"},me={class:"light-text"},ce={class:"flex-table-cell is-media is-grow","data-th":"Trainer"},oe={key:1,class:"light-text dark-inverted ml-2"},ue={class:"flex-table-cell","data-th":"Phone"},de={class:"light-text"},pe={class:"flex-table-cell","data-th":"Status"},be={key:0,class:"tag is-success is-rounded"},fe={key:1,class:"tag is-danger is-rounded"},ve=d("div",{class:"flex-table-cell cell-end","data-th":"Actions"},null,-1);var he=i({expose:[],props:{members:{type:Array,required:!0},name:{type:String,default:"Item"},paginationData:{type:Object,default:{itemPerPage:15,totalItems:1,currentPage:1,maxLinksDisplayed:7}},filters:{type:String}},emits:["filterChange"],setup(a,{emit:t}){const l=a;x(),k(),g(""),g("all"),g({});const r=m((()=>l.filters?l.members.filter((e=>e.name.match(new RegExp(l.filters,"i"))||e.last_name.match(new RegExp(l.filters,"i"))||e.second_name.match(new RegExp(l.filters,"i"))||e.id==l.filters||e.phone==l.filters||e.personal_identifications==l.filters)):l.members)),i=g({status:!1,member:null}),n=()=>{i.value.status=!1,i.value.member=null},v=(e,s)=>e.substr(0,1)+s.substr(0,1);return y((()=>l.members),(()=>{})),(a,t)=>{const m=e,h=s,g=J;return c(),o("div",null,[d("div",K,[d("div",U,[d(m,{class:[0!==b(r).length&&"is-hidden"],title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:u((()=>[W,Y])),_:1},8,["class"]),d("div",F,[d("div",{class:["flex-table-header",[0===b(r).length&&"is-hidden"]]},[H,Q,X,Z,ee,se,ae],2),d("div",te,[d(_,{name:"list",tag:"div"},{default:u((()=>[(c(!0),o(w,null,j(b(r),(e=>(c(),o("div",{key:`${l.name}-${e.id}`,class:["flex-table-item cursor-pointer",e.membership_members.payments[0].status?"":"bg-danger"]},[d("div",{onClick:s=>{return a=!0,t=e,i.value.status=a,void(i.value.member=t);var a,t},class:"flex-table-cell is-media is-grow"},[d(h,{picture:e.photo,color:"primary",initials:v(e.name,e.last_name),size:"medium"},null,8,["picture","initials"]),d("div",null,[d("span",le,[d("h3",null,p(e.name)+" "+p(e.second_name)+" "+p(e.last_name),1)])])],8,["onClick"]),d("div",re,[d("span",ie,p(e.id),1)]),d("div",ne,[d("span",me,p(e.membership.name),1)]),d("div",ce,[null!=e.trainer?(c(),o(h,{key:0,picture:e.trainer.photo,color:"h-green",initials:v(e.trainer.name,e.trainer.last_name),size:"medium"},null,8,["picture","initials"])):f("",!0),null!=e.trainer?(c(),o("span",oe,p(e.trainer.name)+" "+p(e.trainer.second_name)+" "+p(e.trainer.last_name),1)):f("",!0)]),d("div",ue,[d("span",de,p(e.phone),1)]),d("div",pe,[1===e.status?(c(),o("span",be,p(e.status?"Active":"Payment"),1)):f("",!0),0===e.status?(c(),o("span",fe,p(e.status?"Active":"Payment"),1)):f("",!0)]),ve],2)))),128))])),_:1})])])])]),d(g,{status:i.value.status,member:i.value.member,onCloseMemberCard:n},null,8,["status","member"])])}}});export{he as _};
