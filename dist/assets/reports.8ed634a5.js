import{b as e,l as t,p as s,_ as a}from"./V-BillboardJS.vue_vue&type=style&index=0&lang.e1ae18bf.js";import{_ as n}from"./V-Card.vue_vue&type=script&setup=true&lang.d3d76712.js";import{_ as i}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.42e57244.js";import{A as l,r as o,d as c,P as r,O as p,w as u,o as d,c as m,i as v,j as f,k as b,I as g,l as y,F as h,H as _,S as j,U as S}from"./vendor.b96c0b62.js";import{p as x}from"./sidebarLayoutState.a7097173.js";import{A as V}from"./index.0f7dcc99.js";import{q as O}from"./Subscriptions.51d574dd.js";import{t as A}from"./themeColors.4f0e93f3.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.f720d5cc.js";import"./useDropdown.51b21268.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.78d7227b.js";import"./inputsLayaut.vue_vue&type=style&index=0&lang.082bb801.js";import"./V-Button.vue_vue&type=script&setup=true&lang.940c9f5e.js";import"./V-Placeload.43c61814.js";import"./V-Control.9f6b030b.js";import"./V-Field.vue_vue&type=script&setup=true&lang.9839f63b.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.55f1942d.js";import"./V-Modal.vue_vue&type=script&setup=true&lang.793fc7c9.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.7d0df25a.js";import"./V-Dropdown.5a213405.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.0b7fcd84.js";import"./Companies.7b7f230e.js";import"./activePanelState.a3a15c4d.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.cf9fc2aa.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.42120ae5.js";import"./video.19485659.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.3bd9126b.js";import"./darkModeState.1cad08fb.js";import"./AnimatedLogo.3baf4ecb.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.31d8f19f.js";import"./V-Block.vue_vue&type=script&setup=true&lang.96a9aa0d.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.0dc1dec1.js";import"./userPopovers.f4b9fc60.js";import"./Discounts.7f115937.js";const C=l({data1:[],data2:[],x:[]}),k=l({data:{type:e(),types:{data1:t(),data2:e()},x:"x",columns:[],names:{data1:"Subscription",data2:"Amount"},colors:{data1:A.accent,data2:A.primary,data3:A.orange,data4:A.purple}},bar:{width:{ratio:.5}},axis:{x:{type:"category",tick:{rotate:90,multiline:!1,tooltip:!0},height:100}},size:{height:500},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}});var P=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dataNew:C,options:k,onReady:e=>{e.load({columns:[C.x,C.data1,C.data2]})}});const N=e=>{const t=[];for(const s in e){let a=s;""==a&&(a="n/a"),t.push([a,e[s]])}return t},D=e=>{let t=[];const s=["x"],a=["age"];for(const n in e){let t=n;""==t&&(t=0),s.push(t),a.push(e[n].count)}return t=[s,a],t},E=e=>{const t=[];for(const s in e){const a=e[s].min,n=e[s].max,i=e[s].count_members,l=a+"-"+n;t.push([l,i])}return t};o([["Male",30],["Female",28]]);const R={data:{columns:[],colors:{data1:A.accent,data2:A.primary,data3:A.orange,data4:A.purple,setosa:A.orange,versicolor:A.purple,virginica:A.success},type:s(),onclick:(e,t)=>{console.log("[pieSimple] onclick",e,t)},onover:(e,t)=>{console.log("[pieSimple] onover",e,t)},onout:(e,t)=>{console.log("[pieSimple] onout",e,t)}},size:{height:280},padding:{bottom:20},title:{text:"Pie Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},w={data:{x:"x",type:e(),columns:[],colors:{data1:A.accent,data2:A.primary,data3:A.orange,data4:A.purple}},bar:{width:{ratio:.5}},size:{height:280},padding:{bottom:20},title:{text:"Bar Chart",position:"top-left",padding:{bottom:20,right:20,top:0,left:20}},legend:{position:"inset"}},J={class:"page-content-inner"},B={class:"mb-5 columns is-multiline"},I={class:"title is-5"},F={class:"column columns is-multiline is-12 mb-4"},G={class:"column is-12 d-flex justify-content-between"},M={class:"title is-5"},X={class:"column is-4"},L={class:"column is-4"},z={key:0,class:"column is-12"},T=y("p",{class:"title is-6 text-center"},"Diciplines",-1),$={class:"columns is-multiline"},q={class:"table is-hoverable is-fullwidth"},H=y("thead",null,[y("tr",null,[y("th",{scope:"col"},"Dicipline"),y("th",{scope:"col"},"Members count"),y("th",{scope:"col"},"Male"),y("th",{scope:"col"},"Female")])],-1);var U=c({expose:[],setup(e){x.value="Suscriptions",r({title:"List Suscriptions"});const t=p(),s=o(""),l=o("all");o([]);const c=o(!0);o("all"),u((()=>t.query.page),(()=>{A("all",s.value,t.query.page,k.value,!1,Y.value)})),u((()=>s.value),(()=>{}));const A=async(e,t="",s=1,a=null,n=!0,i=null,o=null)=>{l.value=e,c.value=!0,await V.get("v2/suscripcion/reports",{params:{[l.value]:!0,filter:t,page:s,category:a,estado:i,fecha_pago:o}}).then((e=>{O.value=e.data.suscripcionesXpayment,W.value=e.data.suscripcionesXmembresias;let t=["data1"].concat(O.value.cantidad),s=["data2"].concat(O.value.montos),a=["x"].concat(O.value.fechas);C.data1=t,C.data2=s,C.x=a,n&&U()})).catch((e=>{c.value=!1,console.log(e)}))},k=o("All");d((()=>{A("all",s.value,t.query.page,"All",Y.value)}));const U=()=>{c.value=!0,setTimeout((()=>{c.value=!1}),500)},Y=o(null);o("All"),o([{value:"All",name:"All"},{value:"COBRAR HOY",name:"COBRAR HOY"},{value:"PENDIENTE",name:"PENDIENTE"},{value:"VENCIDO",name:"VENCIDO"},{value:"PAGADO",name:"PAGADO"},{value:"CANCELADO",name:"CANCELADO"},{value:"EXPIRADO",name:"EXPIRADO"},{value:"PROX. EXPIRADO",name:"PROX. EXPIRADO"}]);const W=o(null),K=m((()=>{for(var e in W.value){const t=W.value[e],s=JSON.parse(JSON.stringify(R));s.title.text="Gender",s.data.columns=N(t.members),W.value[e].optionsGender=s;const a=JSON.parse(JSON.stringify(w));a.title.text="Ages",a.data.columns=D(t.edades),W.value[e].optionsEdades=a;const n=JSON.parse(JSON.stringify(R));if(n.title.text="Ages Ranges",n.data.columns=E(t.edades_rango),W.value[e].optionsRangos=n,Object.keys(t.diciplines).length)for(const i in W.value[e].diciplines){let t=JSON.parse(JSON.stringify(R));t.title.text="Gender",t.data.columns=N(W.value[e].diciplines[i].members),W.value[e].diciplines[i].optionsGenders=t;let s=JSON.parse(JSON.stringify(w));s.title.text="Age",s.data.columns=D(W.value[e].diciplines[i].edades),W.value[e].diciplines[i].optionsEdades=s}}return W.value}));m((()=>{let e=[];const t=W.value;for(const s in t)e.push({label:t[s].membership_name,value:t[s].membership_name});return e}));const Q=m((()=>{let e=0;const t=K.value;for(const s in t)e+=t[s].conteo_suscripciones;return e}));return o(null),(e,t)=>{const s=a,l=n,o=i;return v(),f(o,null,{default:b((()=>[g(" Content Wrapper "),y("div",J,[y("div",B,[g(' <div class="is-2 column">\n          <V-Field class="w-100">\n            <V-Control class="input-select">\n              <label for="fecha_pago">\n                <p><small>Status</small></p>\n              </label>\n              <div class="select">\n                <select v-model="statusSelect" @change="changeStado">\n                  <option\n                    v-for="(item, key) in estados"\n                    :key="`estados-${key}`"\n                    :value="item.value"\n                  >\n                    {{ item.name }}\n                  </option>\n                </select>\n              </div>\n            </V-Control>\n          </V-Field>\n        </div> '),g(' <V-Field class="is-6 column">\n          <label for="fecha_pago">\n            <p><small>Por definir</small></p>\n          </label>\n          <V-Control icon="feather:search">\n            <input\n              v-model="filters"\n              class="input custom-text-filter"\n              placeholder="Search..."\n              @keyup.enter="filtersSearch"\n            />\n          </V-Control>\n        </V-Field> '),g(' <div class="is-2 column">\n          \n        </div> '),g(' <div class="column is-4">\n          <label for="fecha_pago">\n            <p><small>Payment Date</small></p>\n          </label>\n          <input\n            type="date"\n            @change="changeStado"\n            id="fecha_pago"\n            class="input custom-text-filter"\n            v-model="fecha_pago"\n          />\n        </div> '),h(P).dataNew.data1.length?(v(),f(l,{key:0,class:"column is-12 mb-4"},{default:b((()=>[y(s,{options:h(P).options,onReady:h(P).onReady},null,8,["options","onReady"])])),_:1})):g("v-if",!0),g(' <div class="column columns is-12 mb-4" style="overflow: scroll">\n          <div\n            class="column is-4 mb-4"\n            v-for="(item, key) in membresiasGraficas"\n            :key="`ii-${key}`"\n          >\n            <VCard\n              @click="selectMembresia = item.membership_name"\n              :color="\n                item.membership_name == selectMembresia ? \'info\' : undefined\n              "\n            >\n              <p class="title is-5">{{ item.membership_name }}</p>\n            </VCard>\n          </div>\n        </div> '),y(l,{class:"mb-4"},{default:b((()=>[y("p",I,_(h(Q))+" Subscriptions",1)])),_:1}),(v(!0),f(j,null,S(h(K),((e,t)=>(v(),f(l,{class:"column columns is-multiline is-12 mb-6",key:`ii-${t}`},{default:b((()=>[y("div",F,[y("div",G,[y("p",M,_(e.membership_name)+" ("+_(e.conteo_suscripciones)+" subscriptions) ",1),g(' <p class="title is-5">{{ item.conteo_suscripciones }}</p> ')]),y("div",X,[y(l,null,{default:b((()=>[y(s,{options:e.optionsGender},null,8,["options"])])),_:2},1024)]),g(' <div class="column is-4">\n              <VCard>\n                <V-BillboardJS :options="item.optionsEdades" />\n              </VCard>\n            </div> '),y("div",L,[y(l,null,{default:b((()=>[y(s,{options:e.optionsRangos},null,8,["options"])])),_:2},1024)]),Object.keys(e.diciplines).length?(v(),f("div",z,[T,y(l,null,{default:b((()=>[y("div",$,[y("table",q,[H,y("tbody",null,[(v(!0),f(j,null,S(e.diciplines,((e,t)=>(v(),f("tr",{key:`iy-${t}`},[y("td",null,_(e.dicipline_name),1),y("td",null,_(e.numero_miembros),1),y("td",null,_(e.members.Male),1),y("td",null,_(e.members.Female),1)])))),128))])]),g(' <div\n                    class="column is-4"\n                    v-for="(dicipline, e) in item.diciplines"\n                    :key="`iy-${e}`"\n                  >\n                    <VCard class="columns is-multiline mb-4">\n                      <div class="column is-12 d-flex justify-content-between">\n                        <p class="title is-6">\n                          {{ dicipline.dicipline_name }} ({{ dicipline.numero_miembros }} members)\n                        </p>\n                      </div>\n                      <div class="column is-6">\n                        <V-BillboardJS :options="dicipline.optionsGenders" />\n                      </div>\n                      <div class="column is-6">\n                        <V-BillboardJS :options="dicipline.optionsEdades" />\n                      </div>\n                    </VCard>\n                  </div> ')])])),_:2},1024)])):g("v-if",!0)])])),_:2},1024)))),128))])])])),_:1})}}});export default U;
