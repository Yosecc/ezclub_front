import{_ as e}from"./V-Avatar.vue_vue&type=script&setup=true&lang.d100ee36.js";import{_ as t}from"./V-Card.vue_vue&type=script&setup=true&lang.e9e64dc2.js";import{_ as s}from"./inputsLayaut.vue_vue&type=style&index=0&lang.fe67fad1.js";import{_ as l}from"./V-Button.vue_vue&type=script&setup=true&lang.cc6d2b95.js";import{_ as a}from"./V-Loader.vue_vue&type=script&setup=true&lang.069747cb.js";import{g as n,a as i,p as o,m as u,n as c,b as r}from"./index.fc85b2ef.js";import{g as d}from"./Discounts.9a0ecf1b.js";import{g as p}from"./Staffs.e7cdeee4.js";import{a as m,f as v}from"./Companies.de583021.js";import{g as y}from"./Diciplines.bfdbbb3f.js";import{u as b,c as f,p as _,a as h,h as g,b as k,d as x,i as Y,e as D,s as M,f as C,j,r as O,k as z,v as A,l as w,m as P,n as V,o as L,q as R,t as I,g as S,w as q,x as N}from"./Subscriptions.4ead19cc.js";import{d as T,r as E,o as U,h as $,i as B,B as H,k as G,l as X,G as F,b as K,F as W,W as J,X as Q,H as Z,K as ee,R as te,_ as se,w as le,P as ae,S as ne,A as ie,L as oe}from"./vendor.4454b83d.js";import{_ as ue}from"./V-SwitchBlock.vue_vue&type=script&setup=true&lang.32bcd9b0.js";import{_ as ce}from"./V-Control.63a8a239.js";import{_ as re}from"./V-Field.vue_vue&type=script&setup=true&lang.b3ed284d.js";import{_ as de,a as pe,b as me,c as ve}from"./subscription-method-stripe-checkout.vue_vue&type=script&setup=true&lang.bbf8180f.js";import{_ as ye}from"./V-Modal.vue_vue&type=script&setup=true&lang.ef7028a7.js";import{_ as be}from"./Presupuesto.vue_vue&type=script&setup=true&lang.6af7358f.js";import{a as fe,g as _e}from"./MemberCards.874388ce.js";import{e as he}from"./Members.979dfb08.js";const ge=F("Save");var ke=T({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(e,{emit:u}){const c=e,r=E(!1),f=E(!1),_=E([{typeInput:"checkboxGroupSimpleEventInput",name:"locations",placeholder:"Locations access",text:"Locations access",required:!0,values:[],model:"",disabled:!1,class:"is-12",isLabel:!0,change:function(e,t){y(this.model).then((e=>{e.data.length&&i(t,"diciplines",e.data)}))},click:function(){}},{typeInput:"DropdownCheckbox",name:"diciplines",text:"Disciplines",placeholder:"Disciplines",required:!1,model:[],values:[],disabled:!1,class:"is-12",isLabel:!0,drop:!1},{typeInput:"selectDataActionChangeInput",name:"discount",placeholder:"Discount",values:[],data:null,model:"",disabled:!1,class:"is-12",isLabel:!0},{typeInput:"DropdownCheckbox",name:"staff_id",placeholder:"Trainer",values:[],model:[],disabled:!1,required:!1,class:"is-12",isLabel:!0,drop:!1},{typeInput:"date",typeInputDefault:"date",name:"fecha_vencimiento",placeholder:"Next payment date",model:"",class:"is-6",isLabel:!0,required:!0},{name:"payment_type_id",typeInput:"selectData",placeholder:"Payment Type",model:"",required:!0,values:[{id:1,name:"Cash"},{id:3,name:"Debit automatic"}],class:"is-6",isLabel:!0,filterOptionText:function(e){return e.name}}]);U((()=>{(async()=>{f.value=!0,n(_.value,"fecha_vencimiento").model=H(c.suscripcion.estado.fecha_vencimiento,"YYYY-MM-DD").format("YYYY-MM-DD"),n(_.value,"payment_type_id").model=c.suscripcion.payment_type_id,c.suscripcion.memberships_members&&c.suscripcion.memberships_members.diciplines.length&&(n(_.value,"diciplines").model=c.suscripcion.memberships_members.diciplines.map((e=>e.diciplines_id))),c.suscripcion.member&&c.suscripcion.member.trainers.length&&(n(_.value,"staff_id").model=c.suscripcion.member.trainers.map((e=>e.staffs_id))),c.suscripcion.discount&&(n(_.value,"discount").model=c.suscripcion.discount.id),await m().then((e=>{if(i(_,"locations",v.value),c.suscripcion&&c.suscripcion.memberships_members&&c.suscripcion.memberships_members.locaciones.length){const e=c.suscripcion.memberships_members.locaciones.map((e=>e.companies_locations_id));n(_.value,"locations").model=e,y(e).then((e=>{e.data.length&&i(_,"diciplines",e.data)}))}})),await d().then((e=>{i(_,"discount",e.data.discounts)})),await p().then((e=>{i(_,"staff_id",e.data)})),f.value=!1})()}));const h=async()=>{const e=o(_.value);r.value=!0,await b(c.suscripcion.id,e).then((e=>{r.value=!1,u("reload")}))};return(e,n)=>{const i=s,o=l,u=a,c=t;return $(),B(u,{class:"h-100",size:"small",active:f.value},{default:G((()=>[X(c,{class:""},{default:G((()=>[X(i,{"inputs-step":_.value},null,8,["inputs-step"]),X(u,{class:"h-100",size:"small",active:r.value},{default:G((()=>[X(o,{color:"primary",onClick:h,size:"small"},{default:G((()=>[ge])),_:1})])),_:1},8,["active"])])),_:1})])),_:1},8,["active"])}}});const xe=X("p",null,[X("b",null,"Cancel Suscription")],-1);var Ye=T({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(e,{emit:s}){const l=e,n=E(!1),i=()=>{n.value=!0,f(l.suscripcion.id,{}).then((e=>{n.value=!1,s("reload")})).catch((e=>{n.value=!1}))};return U((()=>{})),(e,s)=>{const l=t,o=a;return $(),B(o,{class:"h-100",size:"small",active:n.value},{default:G((()=>[X(l,{color:"danger",outlined:"",onClick:i,class:"\r\n        mr-4\r\n        btn-card\r\n        text-center\r\n        px-2\r\n        h-100\r\n        d-flex\r\n        align-items-center\r\n        justify-content-center\r\n      ",style:{"font-size":"14px"}},{default:G((()=>[xe])),_:1})])),_:1},8,["active"])}}});const De={key:0},Me={key:1},Ce=X("small",null,"by default it will be scheduled for the next payment",-1),je={class:"columns is-multiline"},Oe={class:"column is-4"},ze=X("p",{class:"title is-6 mb-1"},[X("b",null,"Total")],-1),Ae={class:"title is-3 mb-0"},we={class:"is-4 column mx-auto"},Pe={class:"is-4 column mx-auto"};var Ve=T({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(e,{emit:s}){const l=e,n=E(!0),i=E(!1),o=(e=null)=>{i.value=!0,e&&(e.isProrrateo=n.value),_(l.suscripcion.id,e).then((e=>{i.value=!1,r.value=!1,c.success("Success"),s("reload")})).catch((e=>{console.log(e),c.error("Error"),i.value=!1,r.value=!1}))},r=E(!1),d=()=>{r.value=!1},p=K((()=>l.suscripcion.memberships_members.multigym));K((()=>l.suscripcion.presupuesto));const m=K((()=>l.suscripcion.user)),v=E(0),y=()=>{p.value?(n.value=!1,o()):(h(l.suscripcion.id,{}).then((e=>{v.value=e.data})),n.value=!0,r.value=!0)};return(e,s)=>{const l=t,c=ue,b=ce,f=re,_=a,h=de,g=pe,k=ye;return $(),B(_,{class:"h-100",size:"small",active:i.value},{default:G((()=>[X(l,{color:"info",outlined:!W(p),onClick:y,class:"\r\n        mr-4\r\n        btn-card\r\n        text-center\r\n        px-2\r\n        h-100\r\n        d-flex\r\n        align-items-center\r\n        justify-content-center\r\n      ",style:{"font-size":"14px"}},{default:G((()=>[X("p",null,[W(p)?($(),B("b",Me,"Disable MultiGym ")):($(),B("b",De,"Activate MultiGym "))])])),_:1},8,["outlined"]),X(k,{open:r.value,size:"big",actions:"center",onClose:d},{content:G((()=>[X(f,null,{default:G((()=>[X(b,null,{default:G((()=>[X(c,{modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=e=>n.value=e),label:"Make the prorated charge",color:"primary"},null,8,["modelValue"])])),_:1})])),_:1}),J(X("p",null,[Ce],512),[[Q,!n.value]]),n.value?($(),B(l,{key:0,style:{"margin-bottom":"24px"}},{default:G((()=>[X("div",je,[X("div",Oe,[X(_,{size:"small",class:"h-100",active:i.value},{default:G((()=>[X(l,{class:"mb-4 h-100"},{default:G((()=>[X("div",null,[ze,X("p",Ae,Z(W(u)(v.value)),1)])])),_:1})])),_:1},8,["active"])]),X("div",we,[X(_,{size:"small",active:i.value},{default:G((()=>[X(h,{total:v.value,user:W(m),onOnPayment:o},null,8,["total","user"])])),_:1},8,["active"])]),X("div",Pe,[X(_,{size:"small",active:i.value},{default:G((()=>[X(g,{total:v.value,onOnPayment:o},null,8,["total"])])),_:1},8,["active"])])])])),_:1})):ee("",!0)])),action:G((()=>[])),_:1},8,["open"])])),_:1},8,["active"])}}});const Le=X("p",null,[X("b",null,"HOLD Membership")],-1),Re={key:0},Ie=F("Active until: "),Se=X("br",null,null,-1),qe=X("label",{for:"hold_date_start"},[X("p",null,"Hold date start")],-1),Ne=X("label",{for:"hold_date_end"},[X("p",null,"Hold date end")],-1),Te=F("Confirm");var Ee=T({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(e,{emit:s}){const n=e,i=E(!1),o=E(!1),u=E(H(n.suscripcion.hold_date_start).format("YYYY-MM-DD")),r=E(H(n.suscripcion.hold_date_end).format("YYYY-MM-DD")),d=()=>{g(n.suscripcion.id,{hold_date_start:u.value,hold_date_end:r.value}).then((e=>{o.value=!1,c.success("success"),s("reload")})).catch((e=>{o.value=!1}))},p=K((()=>n.suscripcion.isHold));return U((()=>{})),(e,s)=>{const c=t,m=a,v=l,y=ye;return $(),B(te,null,[X(m,{size:"small",class:"h-100",active:i.value},{default:G((()=>[X(c,{color:"warning",outlined:null==n.suscripcion.hold_date_end,onClick:s[1]||(s[1]=e=>W(p)?d():o.value=!0),class:"\r\n        mr-4\r\n        btn-card\r\n        text-center\r\n        h-100\r\n        px-2\r\n        d-flex\r\n        align-items-center\r\n        justify-content-center\r\n      ",style:{"font-size":"14px"}},{default:G((()=>[Le,X("p",null,[null!=n.suscripcion.hold_date_end?($(),B("span",Re,[Ie,Se,F(" "+Z(W(H)(n.suscripcion.hold_date_start).format("MM/DD/YYYY"))+" - "+Z(W(H)(n.suscripcion.hold_date_end).format("MM/DD/YYYY")),1)])):ee("",!0)])])),_:1},8,["outlined"])])),_:1},8,["active"]),X(y,{open:o.value,actions:"center",onClose:s[4]||(s[4]=e=>o.value=!1)},{content:G((()=>[qe,J(X("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=e=>u.value=e),class:"input mt-2 mb-4"},null,512),[[se,u.value]]),Ne,J(X("input",{type:"date","onUpdate:modelValue":s[3]||(s[3]=e=>r.value=e),class:"input mt-2 mb-4"},null,512),[[se,r.value]])])),action:G((()=>[X(v,{onClick:d,color:"primary",raised:""},{default:G((()=>[Te])),_:1})])),_:1},8,["open"])],64)}}});const Ue={class:"columns is-multiline"},$e={class:"title is-4"},Be={class:"title is-5 text-left mt-2"},He={class:"d-flex justify-content-end mb-4"},Ge={key:0},Xe={key:1},Fe=F("Accept and continue ");var Ke=T({expose:[],props:{suscripcion:{type:Object,default:{}},is_config:{type:Boolean,default:!0},is_recurrence:{type:Boolean,default:!0},restar:{type:Number,default:{text:"",amount:""}},amounts_not_ids:{type:Array,default:[]}},emits:["update:modelValue","reload","onReady","changeMembership"],setup(e,{emit:o}){const r=e;ae();const d=E([]),p=E(!0),m=E(!1),v=E(!1);U((()=>{_.value=!0,k().then((e=>{d.value=e.data})),x(1,"membership").then((e=>{i(Y,"discount",e.data.discounts)}))}));const y=K((()=>{const e=d.value.find((e=>e.id==M.memberships_id));return null==e?void 0:e.amounts.filter((e=>e.is_recurrence==p.value&&null!=e.recurrencia))})),b=K((()=>{for(var e in M)null!=n(Y.value,e)&&(M[e]=n(Y.value,e).model);return M})),f=()=>{D.value=null,v.value=!1,m.value=!0,_.value=!0,C(b.value).then((e=>{D.value=e.data,o("update:modelValue",D.value),_.value=!0,setTimeout((()=>{window.scrollTo(0,document.body.scrollHeight||document.documentElement.scrollHeight),m.value=!1}),300)})).catch((e=>{const t=e.response.data;for(var s in m.value=!1,t)if("object"==typeof t[s]&&"object"==typeof t[s])for(var l in t[s])c.error(t[s][l])}))},_=E(!0),h=()=>{v.value=!0;let e=b.value;o("onReady",e),_.value=!1};return le((()=>M.memberships_id),(()=>{D.value=null,o("changeMembership")})),(e,n)=>{const i=t,o=a,v=ue,b=ce,g=re,k=s,x=l,C=be;return $(),B(te,null,[X(i,{class:"mb-4"},{default:G((()=>[X(o,{size:"large",active:!d.value.length},{default:G((()=>[X("div",Ue,[($(!0),B(te,null,ne(d.value,((e,t)=>($(),B("div",{key:`membership-${t}`,class:"column is-4 btn btn-card",onClick:t=>W(M).memberships_id=e.id},[X(i,{color:W(M).memberships_id==e.id?"primary":void 0,class:"h-100"},{default:G((()=>[X("div",null,[X("h1",$e,Z(e.name),1)])])),_:2},1032,["color"])],8,["onClick"])))),128))])])),_:1},8,["active"])])),_:1}),X(i,{class:"mb-4"},{default:G((()=>[X("div",null,[r.is_recurrence?($(),B(g,{key:0},{default:G((()=>[X(b,null,{default:G((()=>[X(v,{modelValue:p.value,"onUpdate:modelValue":n[1]||(n[1]=e=>p.value=e),label:"Recurring Subscription",color:"primary"},null,8,["modelValue"])])),_:1})])),_:1})):ee("",!0),($(!0),B(te,null,ne(W(y),((e,t)=>($(),B("div",{key:`membership-precios-${t}`,class:"btn btn-card",onClick:t=>(e=>{r.amounts_not_ids.includes(e.id)?c.error("Select a membership with a higher price than the current one"):M.recurrences_id=e.id})(e)},[X(i,{color:W(M).recurrences_id==e.id?"primary":void 0,class:"mb-3 py-4"},{default:G((()=>[X("p",null,Z(e.recurrencia.descriptions),1),X("p",Be,Z(W(u)(e.amount)),1)])),_:2},1032,["color"])],8,["onClick"])))),128))])])),_:1}),r.is_config?($(),B(i,{key:0,class:""},{default:G((()=>[X(k,{"inputs-step":W(Y)},null,8,["inputs-step"])])),_:1})):ee("",!0),X("div",He,[X(o,{size:"large",active:m.value},{default:G((()=>[X(x,{onClick:f,color:W(D)?void 0:"primary",class:"d-flex justify-content-center mt-6 py-5 w-100",style:{"text-align":"center","text-transform":"uppercase","font-size":"20px","font-weight":"900"}},{default:G((()=>[W(D)?($(),B("span",Xe," restart")):($(),B("span",Ge,"start subscription"))])),_:1},8,["color"])])),_:1},8,["active"])]),W(D)?($(),B(i,{key:1,class:"mb-4"},{default:G((()=>[X(C,{presupuesto:W(D),restar:r.restar},null,8,["presupuesto","restar"])])),_:1})):ee("",!0),W(D)&&_.value?($(),B(x,{key:2,onClick:h,color:"primary",class:"d-flex justify-content-center py-5 px-6 ml-auto",style:{"text-align":"center","text-transform":"uppercase","font-size":"20px","font-weight":"900"}},{default:G((()=>[Fe])),_:1})):ee("",!0)],64)}}});const We={class:"columns is-multiline"},Je={class:"column is-4"},Qe=X("p",{class:"title is-6 mb-1"},[X("b",null,"Total")],-1),Ze={class:"title is-3 mb-0"},et={key:0,class:"is-4 column mx-auto"},tt={key:1,class:"is-4 column mx-auto"},st={key:2,class:"is-4 column mx-auto"};var lt=T({expose:[],props:{suscripcion:{type:Object,required:!0},amount:{type:Number,default:0},methods:{type:Array,default:[]},isLoaderActive:{type:Boolean,default:!1}},emits:["onPayment"],setup(e,{emit:s}){const l=e,n=K((()=>l.suscripcion.user)),i=(e=null)=>{s("onPayment",e)};return(s,o)=>{const c=t,r=a,d=de,p=pe,m=me;return $(),B(c,{style:{"margin-bottom":"24px"}},{default:G((()=>[X("div",We,[X("div",Je,[X(r,{size:"small",class:"h-100",active:e.isLoaderActive},{default:G((()=>[X(c,{class:"mb-4 h-100"},{default:G((()=>[X("div",null,[Qe,X("p",Ze,Z(W(u)(l.amount)),1)])])),_:1})])),_:1},8,["active"])]),l.methods.includes("debit_automatic")?($(),B("div",et,[X(r,{size:"small",active:e.isLoaderActive},{default:G((()=>[X(d,{total:e.amount,user:W(n),onOnPayment:i},null,8,["total","user"])])),_:1},8,["active"])])):ee("",!0),l.methods.includes("cash")?($(),B("div",tt,[X(r,{size:"small",active:e.isLoaderActive},{default:G((()=>[X(p,{total:e.amount,onOnPayment:i},null,8,["total"])])),_:1},8,["active"])])):ee("",!0),l.methods.includes("posnet")?($(),B("div",st,[X(r,{size:"small",active:e.isLoaderActive},{default:G((()=>[X(m,{total:e.amount,onOnPayment:i,define_status:!0},null,8,["total"])])),_:1},8,["active"])])):ee("",!0)])])),_:1})}}});const at=X("p",null,[X("b",null,"Upgrade Subscription")],-1),nt={class:"title is-7 mb-2"},it=X("p",{class:"title is-7 mb-2"},"Remaining Amount",-1),ot={class:"title is-3"};var ut=T({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(e,{emit:s}){const l=e,a=E(!1),n=ie({next_payment_date:"",amount:0,amounts_not_ids:[]}),i=()=>{o.value=!0,j(l.suscripcion.id).then((e=>{n.next_payment_date=e.data.next_payment_date,n.amount=e.data.amount,n.amounts_not_ids=e.data.amounts_not_ids})).catch((e=>{}))};U((()=>{}));const o=E(!1),c=()=>{o.value=!1},r=E(null),d=e=>{r.value=e,console.log("ready",e),m.value=!0},p=E(null),m=E(!1),v=K((()=>{let e=p.value.total;return e-=n.amount,e<-0&&(e=0),e}));le((()=>p.value),(e=>{m.value=!1})),le(o,(e=>{console.log("cambia",e),O()}));const y=()=>{m.value=!1},b=e=>{const t=Object.assign({},e,r.value);a.value=!0,z(l.suscripcion.id,t).then((e=>{a.value=!1,c(),s("reload")})).catch((e=>{a.value=!1}))};return(e,s)=>{const r=t,f=Ke,_=lt,h=ye;return $(),B(te,null,[X(r,{color:"primary",outlined:"",onClick:i,class:"\r\n      mr-4\r\n      btn-card\r\n      text-center\r\n      px-2\r\n      h-100\r\n      d-flex\r\n      align-items-center\r\n      justify-content-center\r\n    ",style:{"font-size":"14px"}},{default:G((()=>[at])),_:1}),X(h,{open:o.value,size:"big",actions:"center",onClose:c},{content:G((()=>[X("div",null,[X(r,{class:"mb-4"},{default:G((()=>[X("p",nt," Next payment date: "+Z(W(H)(W(n).next_payment_date,"MM-DD-YYYY").format("MM-DD-YYYY")),1),it,X("p",ot,Z(W(u)(W(n).amount)),1)])),_:1}),X(f,{onOnReady:d,modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),onChangeMembership:y,is_config:!1,is_recurrence:!1,restar:{text:"Remaining Amount",amount:W(n).amount},amounts_not_ids:W(n).amounts_not_ids,class:"mb-4"},null,8,["modelValue","restar","amounts_not_ids"]),m.value?($(),B(_,{key:0,methods:["debit_automatic","cash","terminal"],suscripcion:l.suscripcion,amount:W(v),"is-loader-active":a.value,onOnPayment:b,class:"mt-4"},null,8,["suscripcion","amount","is-loader-active"])):ee("",!0)])])),action:G((()=>[])),_:1},8,["open"])],64)}}});const ct=X("p",null,[X("b",null," Balances ")],-1),rt={class:"columns"},dt={class:"column is-4"},pt=X("p",{class:"title is-6 mb-1"},[X("b",null,"Total")],-1),mt={class:"title is-3 mb-0"},vt=X("label",{for:""},[X("p",null,"Amount")],-1),yt={class:"columns is-multiline"},bt={class:"column is-4"},ft=X("p",{class:"title is-6 mb-1"},[X("b",null,"Total")],-1),_t={class:"title is-3 mb-0"},ht={class:"is-4 column mx-auto"},gt={class:"is-4 column mx-auto"},kt={class:"table is-hoverable is-fullwidth"},xt=X("thead",null,[X("tr",null,[X("th",{scope:"col"},"Amount"),X("th",{scope:"col"},"Date")])],-1);var Yt=T({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["reload"],setup(e,{emit:s}){const l=e,n=E(null),i=E(!1),o=(e=null)=>{i.value=!0,e.amount=n.value,console.log(e),fe(p.value.id,e).then((e=>{i.value=!1,r.value=!1,c.success("Success"),s("reload")})).catch((e=>{e=e.response.data,i.value=!1,r.value=!1}))},r=E(!1),d=()=>{r.value=!1},p=K((()=>l.suscripcion.user)),m=E(0),v=E([]),y=()=>{_e(p.value.id).then((e=>{m.value=e.data.saldo,v.value=e.data.saldos,r.value=!0}))};return(e,s)=>{const l=t,c=a,b=ce,f=re,_=de,h=pe,g=ye;return $(),B(c,{class:"h-100",size:"small",active:i.value},{default:G((()=>[X(l,{color:"info",outlined:!0,onClick:y,class:"\r\n        mr-4\r\n        btn-card\r\n        text-center\r\n        px-2\r\n        h-100\r\n        d-flex\r\n        align-items-center\r\n        justify-content-center\r\n      ",style:{"font-size":"14px"}},{default:G((()=>[ct])),_:1}),X(g,{open:r.value,size:"big",actions:"center",onClose:d},{content:G((()=>[X("div",rt,[X("div",dt,[X(c,{size:"small",class:"h-100",active:i.value},{default:G((()=>[X(l,{class:"mb-4 h-100"},{default:G((()=>[X("div",null,[pt,X("p",mt,Z(W(u)(m.value)),1)])])),_:1})])),_:1},8,["active"])]),X(f,{class:"is-8 column"},{default:G((()=>[X(b,{style:{height:"100%"}},{default:G((()=>[vt,J(X("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=e=>n.value=e),class:"input mt-4",placeholder:"0.00",style:{height:"60%","font-size":"20px"}},null,512),[[se,n.value]])])),_:1})])),_:1})]),X(l,{style:{"margin-bottom":"24px"}},{default:G((()=>[X("div",yt,[X("div",bt,[X(c,{size:"small",class:"h-100",active:i.value},{default:G((()=>[X(l,{class:"mb-4 h-100"},{default:G((()=>[X("div",null,[ft,X("p",_t,Z(W(u)(n.value)),1)])])),_:1})])),_:1},8,["active"])]),X("div",ht,[X(c,{size:"small",active:i.value},{default:G((()=>[X(_,{total:n.value,user:W(p),onOnPayment:o},null,8,["total","user"])])),_:1},8,["active"])]),X("div",gt,[X(c,{size:"small",active:i.value},{default:G((()=>[X(h,{total:n.value,onOnPayment:o},null,8,["total"])])),_:1},8,["active"])])])])),_:1}),X(l,null,{default:G((()=>[X("table",kt,[xt,X("tbody",null,[($(!0),B(te,null,ne(v.value,((e,t)=>($(),B("tr",{key:`saldo-${t}`},[X("td",null,Z(W(u)(e.monto)),1),X("td",null,Z(W(H)(e.created_at).format("MM-DD-YYYY")),1)])))),128))])])])),_:1})])),action:G((()=>[])),_:1},8,["open"])])),_:1},8,["active"])}}});const Dt=X("p",null,[X("b",null," Invoices ")],-1),Mt=X("p",{class:"title is-6"},"Next Bill",-1),Ct={class:"d-flex w-100 justify-content-end mb-4"},jt=F("Create Invoice"),Ot=X("p",{class:"title is-5"},"Invoices",-1),zt={class:"table is-hoverable is-fullwidth"},At=X("thead",null,[X("tr",{class:"has-background-grey-dark"},[X("th",{scope:"col"},"ID"),X("th",{scope:"col"},"Amount"),X("th",{scope:"col"},"Date"),X("th",{scope:"col"},"Status"),X("th",{scope:"col"}),X("th",{scope:"col"},"Payment Type")])],-1),wt=X("i",{class:"fa fa-eye mr-2"},null,-1),Pt=F("View PDF"),Vt={key:0,style:{background:"#424242 !important"}},Lt=X("th",null,null,-1),Rt=X("th",null,"ID",-1),It=X("th",null,"Subtotal",-1),St=X("th",null,"Tax",-1),qt=X("th",null,"Amount",-1),Nt=X("th",null,"Date",-1),Tt=X("th",null,"Payment Type",-1),Et={key:1,style:{background:"#424242 !important"}},Ut=X("td",null,null,-1),$t={key:0,class:"title is-6"},Bt={key:1,class:"table is-hoverable is-fullwidth mt-4"},Ht={key:0},Gt={key:1},Xt=F("Link payment to invoice"),Ft=F("Convert and link to Invoice"),Kt={class:"table is-hoverable is-fullwidth"},Wt=X("thead",null,[X("tr",{class:"has-background-grey-dark"},[X("th",{scope:"col"},"ID"),X("th",{scope:"col"},"Amount"),X("th",{scope:"col"},"Date"),X("th",{scope:"col"},"Status"),X("th",{scope:"col"},"Payment Type"),X("th")])],-1),Jt={key:0},Qt=F("Link");var Zt=T({expose:[],props:{suscripcion:{type:Object,required:!0}},emits:["onReload"],setup(e,{emit:s}){const n=e;ae();const i=K((()=>!0)),o=E(!1),u=E(!1),r=()=>{o.value=!1},d=K((()=>n.suscripcion.memberships_members&&n.suscripcion.memberships_members.payments?n.suscripcion.memberships_members.payments:[])),p=K((()=>{if(Object.keys(n.suscripcion.facturas).length){let e=n.suscripcion.facturas[1];if(e)return e}return[]})),m=K((()=>n.suscripcion.presupuestonextbill));E(null);const v=ie({modal:!1,payment:{},generalInvoice:{},loadding:!1,changeDate:!1}),y=K((()=>p.value.data)),b=E(!1);return(e,f)=>{const _=t,h=be,g=l,k=a,x=ue,Y=ce,D=re,M=ye;return $(),B(k,{class:"h-100",size:"small",active:u.value},{default:G((()=>[X(_,{color:"orange",outlined:!0,onClick:f[1]||(f[1]=e=>o.value=!0),class:"mr-4 btn-card text-center px-2 h-100 d-flex align-items-center justify-content-center",style:{"font-size":"14px"}},{default:G((()=>[Dt])),_:1}),X(M,{open:o.value,size:"big",actions:"center",onClose:r},{content:G((()=>[X("div",null,[Mt,X(h,{presupuesto:W(m)},null,8,["presupuesto"]),X("div",Ct,[X(k,{size:"small",active:b.value},{default:G((()=>[X(g,{onClick:f[2]||(f[2]=e=>{return t=n.suscripcion.id,void(confirm("Are you sure you want to create a new invoice?")&&(b.value=!0,w(t).then((e=>{b.value=!1,c.success(e.data.message),s("onReload")})).catch((e=>{b.value=!1}))));var t})},{default:G((()=>[jt])),_:1})])),_:1},8,["active"])]),Ot,X("table",zt,[At,($(!0),B(te,null,ne(W(p).data,((e,t)=>($(),B("tbody",{style:{"background-color":"#212121"},key:`facturas-${t}`},[X("tr",null,[X("td",null,[X("p",null,Z(e.id),1)]),X("td",null,[X("p",null,Z(e.total),1)]),X("td",null,[X("p",null,Z(W(H)(e.created).format("MM-DD-YYYY")),1)]),X("td",null,[X("p",null,Z(e.status),1)]),X("td",null,[X("p",null,[X("a",{href:e.invoice_pdf,target:"_blank"},[wt,Pt],8,["href"])])]),X("td",null,[X("p",null,Z(e.payment_type.name),1)])]),e.membership_payment&&W(i)?($(),B("tr",Vt,[Lt,Rt,It,St,qt,Nt,Tt])):ee("",!0),e.membership_payment&&W(i)?($(),B("tr",Et,[Ut,X("td",null,Z(e.membership_payment.id),1),X("td",null,Z(e.membership_payment.subtotal),1),X("td",null,Z(e.membership_payment.tax),1),X("td",null,Z(e.membership_payment.amount),1),X("td",null,Z(W(H)(e.membership_payment.created_at).format("M-D-Y")),1),X("td",null,Z(e.membership_payment.payment_type.name),1)])):ee("",!0)])))),128))]),W(i)?($(),B("p",$t,"Payments")):ee("",!0),W(i)?($(),B("table",Bt,[($(!0),B(te,null,ne(W(d),((e,t)=>($(),B("tbody",{style:{backgroundColor:e.yaexiste?"#607D8B":"#424242",marginTop:"30px"},key:`incoide-${t}`},[X("tr",null,[X("td",null,[X("p",null,Z(e.id),1)]),X("td",null,[X("p",null,Z(e.amount),1)]),X("td",null,[X("p",null,Z(e.created_ad),1)]),X("td",null,[X("p",null,Z(1==e.status?"Paid":"Error"),1)]),X("td",null,[X("p",null,Z(e.status_description),1)]),X("td",null,[X("p",null,Z(e.payment_type.name),1)]),e.yaexiste?($(),B("td",Ht,[X("p",null,Z(e.yaexiste?"Payment Assigned":""),1)])):ee("",!0),e.yaexiste?ee("",!0):($(),B("td",Gt,[X(g,{onClick:t=>{W(v).modal=!0,W(v).payment=e}},{default:G((()=>[Xt])),_:2},1032,["onClick"]),X(g,{onClick:t=>(async e=>{confirm("Are you sure you want to create a new invoice?")&&(b.value=!0,P(n.suscripcion.id,e.id).then((e=>{b.value=!1,c.success(e.data.message),s("onReload")})).catch((e=>{b.value=!1})))})(e)},{default:G((()=>[Ft])),_:2},1032,["onClick"]),X(M,{open:W(v).modal,actions:"center",onClose:f[4]||(f[4]=e=>W(v).modal=!1)},{content:G((()=>[X("table",Kt,[Wt,($(!0),B(te,null,ne(W(y),((e,t)=>($(),B("tbody",{style:{"background-color":"#212121"},key:`facturas-${t}`},[e.membership_payment_id?ee("",!0):($(),B("tr",Jt,[X("td",null,[X("p",null,Z(e.id),1)]),X("td",null,[X("p",null,Z(e.total),1)]),X("td",null,[X("p",null,Z(W(H)(e.created).format("MM-DD-YYYY")),1)]),X("td",null,[X("p",null,Z(e.status),1)]),X("td",null,[X("p",null,Z(e.payment_type.name),1)]),X("td",null,[X(D,null,{default:G((()=>[X(Y,null,{default:G((()=>[X(x,{modelValue:W(v).changeDate,"onUpdate:modelValue":f[3]||(f[3]=e=>W(v).changeDate=e),label:"Update next payment date"},null,8,["modelValue"])])),_:1})])),_:1}),X(g,{onClick:t=>(async e=>{let t="Are you sure you want to link a new invoice";v.changeDate&&(t+="... Modifying the payment date implies marking the subscription as paid"),confirm(t)&&(v.generalInvoice=e,Object.keys(v.payment).length&&Object.keys(v.generalInvoice).length&&(v.loadding=!0,await A({payment_id:v.payment.id,general_invoice:v.generalInvoice.id,changeDate:v.changeDate,suscripcion_id:n.suscripcion.id}).then((e=>{v.modal=!1,v.loadding=!1,c.success(e.data.message),s("onReload")})).catch((e=>{v.loadding=!1}))))})(e),color:"primary"},{default:G((()=>[Qt])),_:2},1032,["onClick"])])]))])))),128))])])),action:G((()=>[])),_:2},1032,["open"])]))])],4)))),128))])):ee("",!0)])])),action:G((()=>[])),_:1},8,["open"])])),_:1},8,["active"])}}});const es=X("p",{class:"title is-4 mt-4"},"New subscription",-1);var ts=T({expose:[],props:{suscripcion:{type:Object,required:!0},type:{type:String,default:"new"}},emits:["reload"],setup(e,{emit:t}){const s=e,l=E(!1),a=ie({next_payment_date:"",amount:0,amounts_not_ids:[]}),n=E(null),i=e=>{n.value=e,console.log("ready",e),u.value=!0},o=E(null),u=E(!1);K((()=>{let e=o.value.total;return e-=a.amount,e<-0&&(e=0),e})),le((()=>o.value),(e=>{u.value=!1}));const c=()=>{u.value=!1},r=e=>{const a=Object.assign({},e,n.value);l.value=!0,"reprocess"==s.type&&V(s.suscripcion.id,a).then((e=>{l.value=!1,t("reload")})).catch((e=>{}))};return(e,t)=>{const a=Ke,n=lt;return $(),B("div",null,[es,X(a,{onOnReady:i,modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),onChangeMembership:c,class:"mb-4"},null,8,["modelValue"]),u.value&&o.value?($(),B(n,{key:0,methods:["debit_automatic","cash","terminal"],suscripcion:s.suscripcion,amount:o.value.total,"is-loader-active":l.value,onOnPayment:r,class:"mt-4"},null,8,["suscripcion","amount","is-loader-active"])):ee("",!0)])}}});const ss={class:"columns is-multiline",style:{"min-height":"350px"}},ls={class:"column is-3"},as=X("p",{class:"title is-6 mb-1"},[X("b",null,"Total")],-1),ns={key:0,class:"title is-3 mb-0"},is={key:1,class:"title is-3 mb-0"},os=X("div",{class:"column is-9"},null,-1),us=F("] "),cs={key:0,class:"is-4 column mx-auto"},rs={key:1,class:"is-4 column mx-auto"},ds={key:2,class:"is-4 column mx-auto"},ps={key:3,class:"is-4 column mx-auto"},ms=X("div",{class:"mb-4 column is-12"},null,-1);var vs=T({expose:[],props:{total:{type:Number,default:0,required:!0},user:{type:Object,default:{},required:!0},suscripcion_id:{type:Number,required:!0},metodos:{type:Array,default:["stripe-debit","cash","posnet"]}},emits:["proccessCheckout","reload"],setup(e,{emit:s}){const l=e;ae();const n=E(!1),i=e=>{n.value=!0,L(l.suscripcion_id,e).then((e=>{n.value=!1,s("proccessCheckout")})).catch((e=>{if(n.value=!1,s("reload"),"object"==typeof e.response.data)for(var t in e.response.data)if("object"==typeof e.response.data[t])for(var l in e.response.data[t]){if("object"==typeof e.response.data[t][l])for(var a in e.response.data[t][l])c.error(e.response.data[t][l][a]);"string"==typeof e.response.data[t][l]&&c.error(e.response.data[t][l])}}))};return(s,o)=>{const c=t,r=a,d=de,p=ve,m=pe,v=me;return $(),B("div",ss,[X("div",ls,[X(r,{size:"small",active:n.value},{default:G((()=>[X(c,{class:"mb-4"},{default:G((()=>[oe(s.$slots,"default"),X("div",null,[as,s.order?($(),B("p",ns,Z(W(u)(e.total)),1)):($(),B("p",is,Z(W(u)(e.total)),1))])])),_:3})])),_:1},8,["active"])]),os,us,l.metodos.includes("stripe-debit")?($(),B("div",cs,[X(r,{size:"small",active:n.value},{default:G((()=>[X(d,{total:l.total,user:l.user,onOnPayment:i},null,8,["total","user"])])),_:1},8,["active"])])):ee("",!0),l.metodos.includes("stripe-checkout")?($(),B("div",rs,[X(r,{size:"small",active:n.value},{default:G((()=>[X(p,{total:l.total,onOnPayment:i},null,8,["total"])])),_:1},8,["active"])])):ee("",!0),l.metodos.includes("cash")?($(),B("div",ds,[X(r,{size:"small",active:n.value},{default:G((()=>[X(m,{total:l.total,onOnPayment:i},null,8,["total"])])),_:1},8,["active"])])):ee("",!0),l.metodos.includes("posnet")?($(),B("div",ps,[X(r,{size:"small",active:n.value},{default:G((()=>[X(v,{total:l.total,onOnPayment:i,define_status:!0},null,8,["total"])])),_:1},8,["active"])])):ee("",!0),ms])}}});const ys={class:"w-100",style:{"min-height":"200px"}},bs={key:0,class:"h-100 w-100"},fs={key:0},_s={key:0,class:""},hs={style:{"font-size":"12px"}},gs={style:{"font-size":"12px"}},ks={key:1,class:""},xs={style:{"font-size":"12px"}},Ys={style:{"font-size":"12px"}},Ds={class:"d-flex justify-content-between"},Ms={key:0,class:"title is-5 mb-0"},Cs=F("Membership: "),js=F(" Current billing location: "),Os={class:"title is-4 mb-0"},zs={key:1},As={class:"text-right"},ws=X("b",null,"Payment Method:",-1),Ps={key:0},Vs={key:0,class:"title is-4 mb-0"},Ls=X("br",null,null,-1),Rs={key:1,class:"title is-4 mb-0"},Is=X("br",null,null,-1),Ss={key:2,class:"title is-6"},qs=X("br",null,null,-1),Ns={key:1},Ts=X("p",null,"no tiene presupuesto",-1),Es={class:"d-flex flex-row mt-4"},Us={class:"mr-3"},$s=X("b",null,"Consultation date: ",-1),Bs={class:"mr-3"},Hs=X("b",null,"Created date: ",-1),Gs={class:"mr-3"},Xs=X("b",null,"Start date: ",-1),Fs={class:"mr-3"},Ks=X("b",null,"Month: ",-1),Ws={key:0,class:"mr-3"},Js=X("b",null,"Start: ",-1),Qs={class:"mr-3"},Zs=X("b",null,"Next payment date: ",-1),el={key:1,class:"mr-3"},tl=X("b",null,"Cancellation Date: ",-1),sl={key:2,class:"mr-3"},ll=X("b",null,"Last payment attempt: ",-1),al={key:3,class:"mr-3"},nl=X("b",null,"Status Last payment attempt: ",-1),il={key:4,class:"d-flex"},ol={class:"mr-3"},ul=X("b",null,"Months late: ",-1),cl={class:"mr-3"},rl=X("b",null,"Days late: ",-1),dl={class:"mr-3"},pl=X("b",null,"Hours late: ",-1),ml=X("i",{style:{color:"white"},class:"fa fa-exclamation-triangle mr-4"},null,-1),vl={style:{"font-size":"10px"}},yl=X("b",null," Intent:",-1),bl={key:0,style:{"font-size":"10px"}},fl={style:{"font-size":"10px"}},_l={key:0,class:"columns"},hl={class:"column is-8 pt-0"},gl={class:"column is-4"},kl={class:"column is-12"},xl={class:"column is-12"},Yl={class:"column is-12"},Dl={class:"column is-12"},Ml={class:"column is-12"},Cl={class:"column is-12"},jl={class:"column is-12"},Ol={key:2};var zl=T({expose:[],props:{suscripcion:{type:Object,default:null},suscripcion_id:{type:Number,default:null},member_id:{type:Number,default:null},code:{type:String,default:null}},setup(s){const l=s,n=ae(),i=E(null),o=E(!1),c=E(!1),d=()=>{Object.assign(M,R),c.value=!0;let e=null;n.query.id&&(e=n.query.id),l.member_id&&(e=l.member_id),l.suscripcion_id?I(l.suscripcion_id,!1).then((e=>{i.value=e.data.suscripcion,c.value=!1})):null==e&&l.code?S(l.code).then((e=>{i.value=e.data.suscripcion,c.value=!1})):I(e,!0).then((e=>{i.value=e.data.suscripcion,c.value=!1}))},p=K((()=>l.suscripcion?l.suscripcion:i.value));U((()=>{d()})),le((()=>l.member_id),(()=>{d()}));const m=()=>{d()};return(s,l)=>{const n=e,i=t,v=ke,y=Ye,b=Ve,f=Ee,_=ut,h=Yt,g=de,k=a,x=Zt,Y=ts,D=vs,M=be;return $(),B(k,{size:"small",active:c.value},{default:G((()=>[X("div",ys,[W(p)?($(),B("div",bs,[X(i,{class:"mb-4 d-flex align-items-center"},{default:G((()=>[W(p).member?($(),B("div",fs,[X(n,{picture:`${W(r)}storage/${W(p).member.photo}`,color:"primary",initials:W(he)(W(p).member.name,W(p).member.last_name),size:"medium",class:"mr-4 mb-4"},null,8,["picture","initials"])])):ee("",!0),X("div",null,[W(p).member?($(),B("div",ks,[X("p",xs,Z(W(p).member.name)+" "+Z(W(p).member.last_name),1),X("p",Ys,Z(W(p).member.email),1)])):($(),B("div",_s,[X("p",hs," Username: "+Z(W(p).user.name),1),X("p",gs," Email: "+Z(W(p).user.email),1)]))])])),_:1}),X(i,{class:"mb-5",style:{background:W(p).estado.color}},{default:G((()=>[X("div",Ds,[X("span",null,[W(p).estado.estado_pago?($(),B("p",Ms," Status : "+Z(W(q).find((e=>e.value==W(p).estado.estado_pago)).name),1)):ee("",!0),X("p",null,[X("small",null,[Cs,X("small",null,[js,X("b",null,Z(W(p).memberships_members.location.name),1)])])]),X("p",Os,Z(W(p).membership.name),1),W(p).recurrence?($(),B("p",zs,Z(W(p).recurrence.recurrencia.descriptions),1)):ee("",!0)]),X("span",As,[X("p",null,[X("small",null,[ws,F(" "+Z(W(p).payment_type.name),1)])]),X("p",null,[X("small",null,Z(W(p).is_recurrence?"Recurrence":"no recurrence"),1)]),W(p).presupuesto?($(),B("span",Ps,[W(p).discount?($(),B("p",Rs,[F(Z(W(u)(W(p).presupuesto.total)),1),Is])):($(),B("p",Vs,[F(Z(W(u)(W(p).presupuesto.recurrente)),1),Ls])),W(p).discount?($(),B("p",Ss,[X("small",null,Z(W(p).discount.name),1),F(" : "+Z(W(u)(W(p).presupuesto.total)),1),qs])):ee("",!0)])):($(),B("span",Ns,[Ts]))])]),X("div",Es,[X("p",Us,[$s,F(" "+Z(W(H)(W(p).estado.fecha_validacion,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),X("p",Bs,[Hs,F(" "+Z(W(H)(W(p).estado.fecha_creacion,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),X("p",Gs,[Xs,F(" "+Z(W(H)(W(p).estado.fecha_inicio,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),X("p",Fs,[Ks,F(" "+Z(W(p).estado.meses_pagados),1)]),W(p).schedules_start?($(),B("p",Ws,[Js,F(" "+Z(W(H)(W(p).schedules_start,"YYYY-MM-DD").format("MM-DD-YYYY")),1)])):ee("",!0),X("p",Qs,[Zs,F(" "+Z(W(H)(W(p).estado.fecha_vencimiento,"YYYY-MM-DD").format("MM-DD-YYYY")),1)]),W(p).estado.fecha_suspencion?($(),B("p",el,[tl,F(" "+Z(W(H)(W(p).estado.fecha_suspencion,"YYYY-MM-DD").format("MM-DD-YYYY")),1)])):ee("",!0),W(p).memberships_members.payments.length?($(),B("p",sl,[ll,F(" "+Z(W(H)(W(p).memberships_members.payments[0].created_at).format("MM-DD-YYYY")),1)])):ee("",!0),W(p).memberships_members.payments.length?($(),B("p",al,[nl,F(" "+Z(W(p).memberships_members.payments[0].status)+" / "+Z(W(p).memberships_members.payments[0].status_description),1)])):ee("",!0),"VENCIDO"==W(p).estado.estado_pago?($(),B("div",il,[X("p",ol,[ul,F(" "+Z(W(p).estado.meses_retraso),1)]),X("p",cl,[rl,F(" "+Z(W(p).estado.dias_retraso),1)]),X("p",dl,[pl,F(" "+Z(W(p).estado.horas_retraso),1)])])):ee("",!0)]),W(p).estado.alerta?($(),B(i,{key:0,class:"mt-4"},{default:G((()=>[($(!0),B(te,null,ne(W(p).estado.alerta,((e,t)=>($(),B("div",{key:`alter-${t}`,class:"d-flex w-100"},[ml,X("p",null,Z(e),1)])))),128))])),_:1})):ee("",!0),W(p).estado.ultimo_intento?($(),B(i,{key:1,class:"px-3 py-2"},{default:G((()=>[X("p",vl,[X("b",null,"Status: "+Z(W(N).find((e=>e.value==W(p).estado.ultimo_intento.estado)).name),1),yl,F(" "+Z(W(p).estado.ultimo_intento.intento),1)]),"pagado"!=W(p).estado.ultimo_intento.estado?($(),B("p",bl,Z(W(p).estado.ultimo_intento.pago_id),1)):ee("",!0),X("p",fl," Date: "+Z(W(p).estado.ultimo_intento.fecha),1)])),_:1})):ee("",!0)])),_:1},8,["style"]),["PROX. CANCELADO","CANCELADO"].includes(W(p).estado.estado_pago)?ee("",!0):($(),B("div",_l,[X("div",hl,[X(v,{suscripcion:W(p),onReload:d},null,8,["suscripcion"])]),X("div",gl,["CANCELADO"!=W(p).estado.estado_pago?($(),B(i,{key:0,class:"columns is-multiline p-1"},{default:G((()=>[X("div",kl,[X(y,{suscripcion:W(p),onReload:d},null,8,["suscripcion"])]),X("div",xl,[X(b,{suscripcion:W(p),onReload:d},null,8,["suscripcion"])]),X("div",Yl,[X(f,{suscripcion:W(p),onReload:d},null,8,["suscripcion"])]),X("div",Dl,[X(_,{suscripcion:W(p),onReload:d},null,8,["suscripcion"])]),X("div",Ml,[X(h,{suscripcion:W(p),onReload:d},null,8,["suscripcion"])]),X("div",Cl,[X(k,{size:"small",active:o.value},{default:G((()=>[X(g,{total:0,card:!0,user:W(p).user,onOnPayment:d},null,8,["user"])])),_:1},8,["active"])]),X("div",jl,[X(x,{suscripcion:W(p),onOnReload:d},null,8,["suscripcion"])])])),_:1})):ee("",!0)])])),W(p)&&["CANCELADO","PROX. CANCELADO"].includes(W(p).estado.estado_pago)?($(),B(Y,{key:1,suscripcion:W(p),type:"reprocess",onReload:d},null,8,["suscripcion"])):ee("",!0),["CANCELADO","PROX. CANCELADO","HOLD"].includes(W(p).estado.estado_pago)?ee("",!0):($(),B("div",Ol,[W(p)&&W(p).presupuesto&&"PAGADO"!=W(p).estado.estado_pago?($(),B(D,{key:0,total:W(p).presupuesto.total,user:W(p).user,suscripcion_id:W(p).id,onProccessCheckout:m,onReload:d},null,8,["total","user","suscripcion_id"])):ee("",!0),W(p)&&W(p).presupuesto&&"PAGADO"!=W(p).estado.estado_pago?($(),B(i,{key:1},{default:G((()=>[X(M,{presupuesto:W(p).presupuesto},null,8,["presupuesto"])])),_:1})):ee("",!0)]))])):ee("",!0)])])),_:1},8,["active"])}}});export{zl as _};
