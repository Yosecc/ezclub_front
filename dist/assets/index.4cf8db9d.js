import{_ as e}from"./V-Placeload.e1b5c41e.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.119fc4d3.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.e9093fe9.js";import{m as l,i as s,a as n,b as r,s as i,c as u,p as o,d as c,e as m,f as d,g as p,h as v,j as f,k as h,l as y,n as b,o as _,q as g,r as k,t as j,u as M,v as x,D as C,w as D}from"./Members.6debc1eb.js";import{a as w,P as $,A as Y,F as P}from"./index.7534d22c.js";import{d as S,w as E,z as A,b as I,r as T,D as F,o as V,h as N,K as z,A as W,j as H,k as q,J as L,L as R,N as B,F as U,Q as O,a3 as G,G as J,R as K,y as Q}from"./vendor.685e53b0.js";import{_ as X}from"./V-Button.vue_vue&type=script&setup=true&lang.e4f3f19e.js";import{_ as Z}from"./V-Loader.vue_vue&type=script&setup=true&lang.bfc6d522.js";import{_ as ee}from"./V-Control.2f65f00c.js";import{_ as te}from"./V-Field.vue_vue&type=script&setup=true&lang.c6cf6183.js";import{_ as ae}from"./V-Modal.vue_vue&type=script&setup=true&lang.146bedbc.js";import{k as le,v as se,i as ne,m as re,n as ie,p as ue,s as oe,a as ce}from"./ActivityPanel.vue_vue&type=style&index=0&lang.73e0ff3f.js";import{h as me}from"./moment.08a7f518.js";import{_ as de,a as pe,d as ve}from"./Companies.f10d73e6.js";import{_ as fe}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.fc314ba9.js";import{_ as he}from"./signComponent.vue_vue&type=script&setup=true&lang.9f6d5041.js";import{_ as ye}from"./pdf_icon.4b8e9b3e.js";import{_ as be}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.cc61794c.js";import{_ as _e}from"./V-Block.vue_vue&type=script&setup=true&lang.218e9dd3.js";import{_ as ge}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.79f3fcb2.js";import{p as ke}from"./sidebarLayoutState.b1e70c1b.js";import{g as je}from"./Discounts.4aa1a7e6.js";import{g as Me}from"./Memberships.74df47d6.js";import{g as xe,r as Ce}from"./Recurrences.eb295250.js";import{h as De}from"./Staffs.d2e83008.js";import{a as we}from"./Diciplines.6f5a6e19.js";import{g as $e}from"./config.6f037bc6.js";import"./useDropdown.0a27f828.js";import"./V-Dropdown.4b56e22f.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.a7327817.js";import"./notyf.es.f84e4201.js";import"./activePanelState.618a6e66.js";import"./fastpizza.1e58d0ec.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.0ae318bf.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.fbfe4d00.js";import"./V-Tag.vue_vue&type=script&setup=true&lang.62f4b657.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.87188a55.js";import"./V-Message.vue_vue&type=script&setup=true&lang.8a404c76.js";import"./V-Tabs.vue_vue&type=script&setup=true&lang.5d7a09f8.js";import"./navbarLayoutState.77e8f928.js";import"./video.89824664.js";import"./darkModeState.ac572066.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.7abfdf0e.js";import"./AnimatedLogo.77bc3feb.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.0d63a362.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.9f34b4f7.js";import"./userPopovers.f4b9fc60.js";import"./Toolbar.vue_vue&type=script&setup=true&lang.0749519e.js";const Ye={class:"d-flex justify-content-center align-items-center flex-column mb-4"},Pe={class:"mt-5 text-center"},Se={class:"title is-5 is-narrow"},Ee={class:"w-100 mt-5"},Ae=q("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var Ie=S({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:n}){const r=e,i=W();E((()=>i.hash),(e=>{m.value=u.findIndex((e=>e.component==i.hash.slice(1)))})),A((()=>{""!=i.hash&&(m.value=u.findIndex((e=>e.component==i.hash.slice(1))))}));const u=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"}],o=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],c=I((()=>["Adult","Minor"].includes(r.category)?u:o)),m=T(0),d=T(null),p=I((()=>null!=c.value[m.value]?c.value[m.value].component:d.value));return(e,r)=>{const i=t,u=a;return F(l)?(V(),N(u,{key:0,color:F(s)?void 0:"danger"},{default:H((()=>[q("div",Ye,[q(i,{picture:`${F(w)}storage/${F(l).photo}`,size:"xl"},null,8,["picture"]),q("div",Pe,[q("h2",Se,L(F(l).name)+" "+L(F(l).second_name)+" "+L(F(l).last_name),1)])]),q("div",Ee,[q("ul",null,[(V(!0),N(R,null,B(F(c),((e,t)=>(V(),N("li",{key:`item-${t}`},[q(u,{class:["\n              mb-3\n              item_menu\n              d-flex\n              justify-content-between\n              align-items-center\n            ",m.value==t?"active":""],color:m.value==t?"warning":void 0,elevated:m.value==t,onClick:e=>(e=>{m.value=e,n("changeMenu",p)})(t)},{default:H((()=>[q("p",null,L(e.name),1),Ae])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1},8,["color"])):z("",!0)}}});const Te=q("div",{id:"payment-element"},null,-1),Fe=J(" Pay now "),Ve=q("div",{id:"payment-message",class:"hidden"},null,-1);var Ne=S({expose:[],props:{amount:{type:Number,required:!0},id:{type:Number,required:!0},url:{type:String,default:"stripe"},member_membership:{type:Number,default:0}},setup(t){const l=t,s=Stripe($.value);E((()=>l.id),(e=>{console.log("cambio"),n.value=!0,m()}));const n=T(!0);T({id:l.id,amount:l.amount});const r=T(),i=I((()=>"stripe"!=l.url?{payment_type_id:3,amount:l.amount}:{id:l.id,member_mermship_id:l.member_membership,amount:l.amount,payment_type_id:1})),u=T(null),o=T(null),c=T(!1),m=async()=>{let e=await Y.post(l.url,i.value).then((e=>{u.value=e.data.clientSecret,r.value=s.elements({clientSecret:u.value}),o.value=r.value.create("payment"),o.value.mount("#payment-element")})).catch((e=>{}));return n.value=!1,e},d=async e=>{e.preventDefault(),c.value=!0,await s.confirmPayment({elements:r.value,confirmParams:{return_url:`${P.value}members/process?payment_type=3&id=`+l.id+`&membership=${l.member_membership}`}}),c.value=!1};return A((()=>{m()})),(t,l)=>{const s=e,r=X,i=Z,u=a;return V(),N(R,null,[n.value?(V(),N(s,{key:0,height:"500px"})):z("",!0),U(q(u,{class:"mt-6"},{default:H((()=>[q("form",{onSubmit:G(d,["prevent"]),id:"payment-form"},[Te,q(i,{size:"small",active:c.value},{default:H((()=>[q(r,{id:"submit",class:"mt-4",color:"success"},{default:H((()=>[Fe])),_:1})])),_:1},8,["active"]),Ve],40,["onSubmit"])])),_:1},512),[[O,!n.value]])],64)}}});const ze={class:"table is-hoverable is-striped is-fullwidth"},We=q("th",{scope:"col"},"Members",-1),He=q("th",{scope:"col"},"Membership Name",-1),qe=q("th",{scope:"col"},"Recurrence",-1),Le=q("th",{scope:"col"},"Prorated",-1),Re=q("th",{scope:"col"},"Membership Cost",-1),Be=q("th",{scope:"col"},"Initiation Fee",-1),Ue=q("th",{scope:"col"},"Discount",-1),Oe=q("th",{scope:"col"},"Taxes",-1),Ge={key:0,scope:"col"},Je=q("th",{scope:"col"},"Sub Total",-1),Ke={key:0},Qe={key:0},Xe={key:1},Ze={key:2},et={key:0},tt=q("br",null,null,-1),at={key:1},lt={key:0},st={key:1},nt={key:0},rt={key:0},it={key:1},ut={key:1},ot={key:3},ct={class:"is-end"},mt={class:"d-flex justify-content-between"},dt=J(" Card Payment "),pt=J(" Cash Payment "),vt={class:"d-flex mb-4 justify-content-between"},ft={class:"title is-5"},ht=J(" Total: "),yt={class:"title is-5"},bt=J(" Cash Total: "),_t={class:"\n            d-flex\n            justify-content-center\n            align-items-center\n            flex-column\n            mb-4\n          "},gt=q("p",{class:"title is-5 mb-4"},"Change Back:",-1),kt={class:"title is-3 mb-0"},jt={class:"d-flex justify-content-center flex-wrap mb-4"},Mt=q("div",{class:"w-100"},null,-1),xt={class:"d-flex justify-content-center"},Ct=J("Reset"),Dt=J("Confirm");var wt=S({expose:[],setup(e){T(!1);const t=T(!1),s=I((()=>{let e=le(r.value,"memberships_id");return null!=e?e:[]})),u=I((()=>{let e=le(r.value,"recurrences_id");return null!=e?e:[]})),o=I((()=>{let e=se(r.value,"initiation_fee");return null!=e?e:[]})),c=I((()=>{let e=ne(r.value,"discount");return null!=e?e:[]})),m=I((()=>{let e=parseFloat(me().format("DD")),t=0,a=0;return u.value.days>=30&&(a=e-u.value.payday,t=u.value.amount/u.value.days*a),{days:a,amount:Math.abs(Math.round(t))}})),d=I((()=>(e=>{if(""!=se(r.value,"memberships_id"))return"percentaje"==(e=e.value?e.value:e).tax.type?{text:`${e.tax.value}%`,value:e.tax.value,type:"procentaje"}:{text:re(e.tax.value),value:e.tax.value}})(s))),p=T(null),v=I((()=>{let e=0;return e+=u.value.amount,se(r.value,"is_initiation_fee").length||(e+=o.value),e-=m.value.amount,c.value.data&&("dolar"==c.value.data.type?e-=c.value.data.value:"percentaje"==c.value.data.type&&(e-=e/100*c.value.data.value)),e+=e/100*d.value.value,l.value.penalty&&(p.value=s.value.penalty,e+=p.value),l.value.leo_vet_fr&&(e-=e/100*s.value.descuento_vet),e})),f=I((()=>{let e=0;return e+=v.value,e})),h=T(!1),y=T(0),b=I((()=>{const e=parseFloat(y.value)-parseFloat(f.value);return e>0?e:0}));T(1);const _=async()=>{await i(n.value.id,{total:f.value,payment_type_id:1,cash:y.value,cash_back:b.value}).then((e=>{ie.success("Payment Success"),window.location.reload()})).catch((e=>{}))};return(e,i)=>{const g=X,k=a,j=Ne,M=ee,x=te,C=ae;return V(),N("div",null,[q(k,{class:""},{default:H((()=>{return[q("table",ze,[q("thead",null,[q("tr",null,[We,He,qe,Le,Re,Be,Ue,Oe,p.value?(V(),N("th",Ge,"Penalty")):z("",!0),Je])]),0!=F(s).length?(V(),N("tbody",Ke,[q("tr",null,[q("td",null,[q("p",null,[q("b",null,L(F(l).name)+" "+L(F(l).second_name)+" "+L(F(l).last_name),1)])]),0!=F(s).legnth?(V(),N("td",Qe,L(F(s).name),1)):z("",!0),0!=F(u).length?(V(),N("td",Xe,L(F(u).descriptions),1)):z("",!0),0!=F(u).length?(V(),N("td",Ze,[F(u).days>=30?(V(),N("span",et,[J(L(F(m).days)+" days : ",1),tt,J(" - "+L(F(re)(F(m).amount)),1)])):(V(),N("span",at,"-"))])):z("",!0),q("td",null,L(F(re)((e=F(u),e.amount))),1),q("td",null,[F(se)(F(r),"is_initiation_fee").length?(V(),N("span",st,L(F(re)(0)),1)):(V(),N("span",lt,L(F(re)(F(o))),1))]),q("td",null,[null!=F(c).data?(V(),N("span",nt,["dolar"==F(c).data.type?(V(),N("span",rt," - "+L(F(re)(F(c).data.value)),1)):z("",!0),"percentaje"==F(c).data.type?(V(),N("span",it,L(F(c).data.value)+"%",1)):z("",!0)])):(V(),N("span",ut,"-"))]),q("td",null,L(F(d).text),1),p.value?(V(),N("td",ot,L(F(re)(p.value)),1)):z("",!0),q("td",null,L(F(re)(F(v))),1)]),q("tr",null,[q("td",{style:{"text-align":"right"},colspan:p.value?"9":"8"}," Total ",8,["colspan"]),q("td",ct,L(F(re)(F(f))),1)])])):z("",!0)]),q("div",mt,[q(g,{color:"success",disabled:0==F(s).length||isNaN(F(f)),onClick:i[1]||(i[1]=e=>t.value=!0)},{default:H((()=>[dt])),_:1},8,["disabled"]),q(g,{disabled:0==F(s).length||isNaN(F(f)),color:"warning",onClick:i[2]||(i[2]=e=>h.value=!0)},{default:H((()=>[pt])),_:1},8,["disabled"])])];var e})),_:1}),t.value?(V(),N(j,{key:0,class:"",url:`new_payment/${F(n).id}`,amount:F(f),id:F(l).id,member_membership:F(n).id},null,8,["url","amount","id","member_membership"])):z("",!0),q(C,{open:h.value,actions:"center",onClose:i[6]||(i[6]=e=>h.value=!1)},{content:H((()=>[q("div",vt,[q("p",ft,[ht,q("b",null,L(F(re)(F(f))),1)]),q("p",yt,[bt,q("b",null,L(F(re)(y.value)),1)])]),q("div",_t,[gt,q("p",kt,[q("b",null,L(F(re)(F(b))),1)])]),q("div",jt,[q(g,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:i[3]||(i[3]=e=>y.value=F(f))},{default:H((()=>[J(" Full Payment "+L(F(re)(F(f))),1)])),_:1}),Mt,(V(),N(R,null,B([5,10,20,50,100],((e,t)=>q(g,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>y.value+=e},{default:H((()=>[J(" $"+L(e),1)])),_:2},1032,["onClick"]))),64))]),q("div",xt,[q(x,null,{default:H((()=>[q(M,null,{default:H((()=>[U(q("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>y.value=e),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[K,y.value]])])),_:1})])),_:1})])])),action:H((()=>[q(g,{onClick:i[5]||(i[5]=e=>y.value=0),class:"d-flex justify-content-center",raised:""},{default:H((()=>[Ct])),_:1}),q(g,{color:"success",onClick:_,disabled:F(f)>y.value,class:"d-flex justify-content-center",raised:""},{default:H((()=>[Dt])),_:1},8,["disabled"])])),_:1},8,["open"])])}}});const $t=q("div",null,[q("h1",{class:"title is-4 mb-0"},"Personal Information"),q("p",null,"Edit member's personal information")],-1),Yt=J(" Save Changes "),Pt=J(" Convert to Members ");var St=S({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;I((()=>"Prospect"==t.category));const a=()=>{let e=ue(u.value),t=new FormData;for(var a in e)"id_leo_vet_fr"==a?null==e[a]&&t.append(a,0):t.append(a,e[a]);o(t).then((e=>{ie.success("Edit Success")}))};return(e,l)=>{const s=X,n=de,r=fe;return V(),N(r,null,{"header-left":H((()=>[$t])),"header-right":H((()=>[q(s,{onClick:a,color:"primary"},{default:H((()=>[Yt])),_:1}),"Prospect"==t.category?(V(),N(s,{key:0,color:"info",class:"ml-3"},{default:H((()=>[Pt])),_:1})):z("",!0)])),content:H((()=>[q(n,{"inputs-step":F(u)},null,8,["inputs-step"])])),_:1})}}});const Et=q("div",null,[q("h1",{class:"title is-4 mb-0"},"Membership / Contract"),q("p",null,"Edit member's membership and contract information")],-1),At=J(" Cancel Membership "),It=J(" Save Changes "),Tt=q("h1",{class:"title is-6"},"Active Contract Information",-1),Ft={class:"columns is-multiline"},Vt={class:"column is-12"},Nt={key:0,class:"columns is-multiline column mt-4 is-12"},zt=q("b",null,"Contract Date:",-1),Wt={class:"column is-12"},Ht=q("h1",{class:"title is-6"},"Inactive Contract Information",-1),qt={class:"table is-hoverable is-fullwidth"},Lt=q("thead",null,[q("tr",null,[q("th",{scope:"col"},"Contract"),q("th",{scope:"col"},"Agreement Date"),q("th",{scope:"col"},"Sold By"),q("th",{scope:"col"},"Membership Type"),q("th",{scope:"col"},"Decipline"),q("th",{scope:"col"},"Start Date"),q("th",{scope:"col"},"End Date"),q("th",{scope:"col"},"Auto Renew"),q("th",{scope:"col"},"Discount Type")])],-1),Rt=q("img",{src:ye,width:"40",alt:""},null,-1),Bt={key:0},Ut={key:1},Ot={key:0},Gt=q("td",null,"N/A",-1),Jt=q("h1",{class:"title is-6"},"Active Waiver Information",-1),Kt={class:"text-center"},Qt=q("img",{src:ye,width:"40",alt:""},null,-1),Xt=J(" View PDF ");var Zt=S({expose:[],setup(e){A((()=>{c(r.value),i()}));const t=()=>{const e=ue(r.value);d(e).then((e=>{ie.success("Success")}))},s=()=>{p().then((e=>{ie.success("Memberships Cancel"),window.location.reload()}))},i=()=>{n.value&&(ne(r.value,"is_initiation_fee").disabled=!0,ne(r.value,"recurrences_id").disabled=!0,ne(r.value,"amount").disabled=!0,ne(r.value,"memberships_id").disabled=!0)},u=e=>{v(e,n.value.id).then((e=>{if(e.data.status)ie.success("Sign Success");else for(var t in ie.error(e.data.mensaje),e.data.errores)e.data.errores[t].forEach((e=>{ie.error(`${t} : ${e}`)}))})).catch((e=>{}))};return(e,i)=>{const o=X,c=de,d=he,p=a,v=X,f=fe;return V(),N("div",null,[q(f,null,{"header-left":H((()=>[Et])),"header-right":H((()=>[F(n)?(V(),N(o,{key:0,onClick:s,class:"mr-4"},{default:H((()=>[At])),_:1})):z("",!0),F(n)?(V(),N(o,{key:1,onClick:t,color:"primary"},{default:H((()=>[It])),_:1})):z("",!0)])),content:H((()=>[q(p,{class:"mb-4"},{default:H((()=>[Tt,q("div",Ft,[q("div",Vt,[q(c,{"inputs-step":F(r)},null,8,["inputs-step"])]),F(l)&&F(n)?(V(),N("div",Nt,[q("div",null,[q("p",null,[zt,J(" "+L(F(me)(F(l).membership_members.created_at).format("ddd - DD MMM yyyy")),1)])]),q("div",Wt,[q(d,{onOnSign:u,"is-sign":!F(n).sign,contract:`contract_${F(l).id}_${F(l).membership_members.id}_${F(l).personal_identifications}.pdf`,"url-contract":`${F(w)}generateContract/${F(l).id}`},null,8,["is-sign","contract","url-contract"])])])):z("",!0)])])),_:1}),F(l)?(V(),N(p,{key:0,class:"mb-4"},{default:H((()=>[Ht,q("table",qt,[Lt,q("tbody",null,[(V(!0),N(R,null,B(F(m),((e,t)=>(V(),N("tr",{key:`item-${t}`},[q("td",null,[q("a",{href:e.contract},[Rt],8,["href"])]),q("td",null,L(F(me)(e.created_at).format("dd - DD MMM YYYY")),1),q("td",null,L(e.user.name),1),q("td",null,L(e.membership.name),1),q("td",null,[""!=e.diciplines||null!=e.diciplines||null!=e.diciplines?(V(),N("span",Bt,[(V(!0),N(R,null,B(e.diciplines,((e,t)=>(V(),N("span",{key:`dicipline-${t}`},[q("span",null,L(e.dicipline.name),1)])))),128))])):(V(),N("span",Ut,"N/A"))]),q("td",null,L(F(me)(e.created_at).format("dd - DD MMM YYYY")),1),q("td",null,L(F(me)(e.cacelation_date).format("dd - DD MMM YYYY")),1),q("td",null,[q("span",null,L(e.is_recurrence?"Recurrence":"Not Recurrence"),1),e.is_recurrence?(V(),N("span",Ot,L(e.recurrence.recurrence),1)):z("",!0)]),Gt])))),128))])])])),_:1})):z("",!0),F(l)&&F(n)?(V(),N(p,{key:1,class:"mb-4"},{default:H((()=>[Jt,q("div",Kt,[q("a",{target:"_blank",href:`${F(w)}generateWeiver/${F(l).id}`},[Qt,q("p",null," weiver_"+L(F(l).id)+"_"+L(F(l).membership_members.id)+"_"+L(F(l).personal_identifications)+".pdf ",1),q(v,{color:"success",outlined:"",class:"mt-4 py-1"},{default:H((()=>[Xt])),_:1})],8,["href"])])])),_:1})):z("",!0)])),_:1})])}}});const ea=q("div",null,[q("h1",{class:"title is-4 mb-0"},"Family Members"),q("p",null,"Edit member's family members")],-1),ta={class:"columns is-multiline"},aa={key:0,class:"column is-4 mb-4"},la=q("div",null,[q("h1",{class:"title is-4 mb-0"},"Parent"),q("p",null,"Edit parent contact")],-1),sa=J(" Save Changes "),na={class:""},ra=q("h1",{class:"title is-5"},"Parent Contact Information",-1),ia={class:"d-flex justify-content-end mr-6"};var ua=S({expose:[],setup(e){T([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]);const a=()=>{const e=perpareDataInputs(y.value);b(e).then((e=>{ie.success("Success")}))};return(e,s)=>{const n=t,r=be,i=_e,u=fe,o=X,c=de;return V(),N("div",null,[F(l)&&"Adult"==F(l).category?(V(),N(u,{key:0},{"header-left":H((()=>[ea])),"header-right":H((()=>[])),content:H((()=>[q("div",ta,[F(f)?(V(),N("div",aa,[q(i,{title:`${F(f).name} ${F(f).second_name} ${F(f).last_name}`,class:"border-1 p-4 radius-small"},{icon:H((()=>[q(n,{size:"medium",picture:`${F(w)}storage/${F(f).photo}`,subtitle:"Principal Family"},null,8,["picture"])])),action:H((()=>[q(r,{"id-member":F(f).id},null,8,["id-member"])])),_:1},8,["title"])])):z("",!0),(V(!0),N(R,null,B(F(h),((e,t)=>(V(),N("div",{class:"column is-4 mb-4",key:`family-${t}`},[q(i,{title:`${e.member.name} ${e.member.second_name} ${F(l).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:H((()=>[q(n,{size:"medium",picture:`${F(w)}storage/${e.member.photo}`},null,8,["picture"])])),action:H((()=>[q(r,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):z("",!0),F(l)&&"Minor"==F(l).category?(V(),N(u,{key:1},{"header-left":H((()=>[la])),"header-right":H((()=>[q(o,{onClick:a,color:"primary"},{default:H((()=>[sa])),_:1})])),content:H((()=>[q("div",na,[ra,q("div",ia,[q(n,{picture:`${F(w)}storage/${F(se)(F(y),"parent_photo")}`,size:"large"},null,8,["picture"])]),q(c,{"inputs-step":F(y)},null,8,["inputs-step"])])])),_:1})):z("",!0)])}}});const oa=q("div",null,[q("h1",{class:"title is-4 mb-0"},"Emergency Contact"),q("p",null,"Edit member's emergency contact")],-1),ca=J(" Save Changes "),ma={class:""},da=q("h1",{class:"title is-5"},"Emergency Contact Information",-1);var pa=S({expose:[],setup(e){const t=()=>{const e=ue(_.value);console.log(e),g(e).then((e=>{ie.success("Success")}))};return(e,a)=>{const l=X,s=de,n=fe;return V(),N(n,null,{"header-left":H((()=>[oa])),"header-right":H((()=>[q(l,{onClick:t,color:"primary"},{default:H((()=>[ca])),_:1})])),content:H((()=>[q("div",ma,[da,q(s,{"inputs-step":F(_)},null,8,["inputs-step"])])])),_:1})}}});const va=q("div",null,[q("h1",{class:"title is-4 mb-0"},"Check-ins History"),q("p",null,"Edit member's check-ins history")],-1),fa={class:"p-6"},ha={class:"d-flex"},ya=q("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),ba=q("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),_a=J(" Export "),ga={class:"mt-4"},ka={class:"table is-hoverable is-fullwidth"},ja=q("thead",null,[q("tr",null,[q("th",{scope:"col"},"DATE"),q("th",{scope:"col"},"TIME"),q("th",{scope:"col"},"STAFF")])],-1);var Ma=S({expose:[],setup:e=>(e,t)=>{const a=ee,s=te,n=X,r=fe;return F(l)?(V(),N(r,{key:0},{"header-left":H((()=>[va])),"header-right":H((()=>[])),content:H((()=>[q("div",fa,[q("div",ha,[q(s,{class:"field mr-3"},{default:H((()=>[q(a,null,{default:H((()=>[ya])),_:1})])),_:1}),q(s,{class:"field mr-3"},{default:H((()=>[q(a,null,{default:H((()=>[ba])),_:1})])),_:1}),q(n,{color:"primary"},{default:H((()=>[_a])),_:1})]),q("div",ga,[q("table",ka,[ja,q("tbody",null,[(V(!0),N(R,null,B(F(k),((e,t)=>(V(),N("tr",{key:`access-${t}`},[q("td",null,L(F(me)(e.created_at).format("DD/MM/YYYY")),1),q("td",null,L(F(me)(e.created_at).format("HH:mm:ss")),1),q("td",null,L(e.user.name),1)])))),128))])])])])])),_:1})):z("",!0)}});const xa=q("div",null,[q("h1",{class:"title is-4 mb-0"},"Purchases History"),q("p",null,"Edit member's purchases history")],-1),Ca={class:"p-6"},Da={class:"mt-4"},wa={class:"table is-hoverable is-fullwidth"},$a=q("thead",null,[q("tr",null,[q("th",{scope:"col"},"DATE"),q("th",{scope:"col"},"TIME"),q("th",{scope:"col"},"AMOUNT"),q("th",{scope:"col"},"PAYMENT TYPE"),q("th",{scope:"col"},"ITEMS"),q("th",{scope:"col"},"STATUS")])],-1),Ya={key:0};var Pa=S({expose:[],setup(e){const t=I((()=>n.value.payments)),a=I((()=>{let e=[];return m.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e}));return A((()=>{})),(e,s)=>{const r=fe;return F(l)?(V(),N(r,{key:0},{"header-left":H((()=>[xa])),"header-right":H((()=>[])),content:H((()=>[q("div",Ca,[q("div",Da,[q("table",wa,[$a,F(n)?(V(),N("tbody",Ya,[(V(!0),N(R,null,B(F(t),((e,t)=>(V(),N("tr",{key:`payment-${t}`},[q("td",null,L(F(me)(e.created_at).format("DD/MM/YYYY")),1),q("td",null,L(F(me)(e.created_at).format("HH:mm:ss")),1),q("td",null,L(F(re)(e.amount)),1),q("td",null,L(e.payment_type.name),1),q("td",null,L(F(n).membership.name),1),q("td",null,L(e.status?"succedded":"error"),1)])))),128))])):z("",!0),(V(!0),N(R,null,B(F(a),((e,t)=>(V(),N("tbody",{key:`paymentHistory-${t}`},[(V(!0),N(R,null,B(e.payments,((t,a)=>(V(),N("tr",{key:`pay-${a}`},[q("td",null,L(F(me)(t.created_at).format("DD/MM/YYYY")),1),q("td",null,L(F(me)(t.created_at).format("HH:mm:ss")),1),q("td",null,L(F(re)(t.amount)),1),q("td",null,L(t.payment_type.name),1),q("td",null,L(e.membership),1),q("td",null,L(t.status?"succeded":"error"),1)])))),128))])))),128))])])])])),_:1})):z("",!0)}}});const Sa=q("div",null,[q("h1",{class:"title is-4 mb-0"}," Waiver "),q("p",null,"Edit member's waiver information")],-1),Ea=J(" Convert to Members "),Aa={class:"columns is-multiline"},Ia={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},Ta={href:"234",class:"text-center"},Fa=q("img",{style:{width:"70px"},src:ye,alt:""},null,-1);var Va=S({expose:[],setup(e){const t=T([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,a)=>{const l=X,s=fe;return V(),N(s,null,{"header-left":H((()=>[Sa])),"header-right":H((()=>[q(l,{color:"info"},{default:H((()=>[Ea])),_:1})])),content:H((()=>[q("div",Aa,[(V(!0),N(R,null,B(t.value,((e,t)=>(V(),N("div",{class:"column is-2 mb-4",key:`family-${t}`},[q("div",Ia,[q("a",Ta,[Fa,q("p",null,L(e.name),1)])])])))),128))])])),_:1})}}});const Na={key:1,class:"columns is-multiline"},za={class:"column is-3"},Wa={class:"column is-9"},Ha=q("h3",{class:"title is-5 mb-0"},"Filed Payment",-1),qa=J(" Process Payment "),La=J(" New membership "),Ra=q("b",null,"Member since.",-1),Ba=q("b",null,"Membership Active:",-1),Ua=q("b",null,"Due Date: ",-1),Oa={key:0},Ga=q("b",null,"Last payment attempt: ",-1);var Ja=S({expose:[],setup(t){const i=W();ke.value="Member Profile",Q({title:"Members"});const o=T(!1),c=T("personalInformation"),m=e=>{c.value=e.value};E((()=>i.query),((e,t)=>{Object.keys(e).length>0&&(v(),p())})),E((()=>i.hash),(e=>{c.value=i.hash.slice(1)})),E((()=>i.query.id),(e=>{c.value="personalInformation"}));const d=T(!0),p=()=>{d.value=!0,setTimeout((()=>{d.value=!1}),500)};A((()=>{""!=i.hash&&(c.value=i.hash.slice(1)),pe().then((e=>{oe(r,"locations_id",ve.value)})),$e().then((e=>{oe(u,"country_id",e.contries),oe(u,"city_id",e.cities),oe(u,"state_id",e.states),oe(j,"city_id",e.cities),oe(j,"state_id",e.states),oe(j,"country_id",e.contries)})),Me().then((e=>{oe(r,"memberships_id",e.data.memberships)})),je().then((e=>{oe(r,"discount",e.data.discounts)})),xe().then((e=>{oe(r,"recurrences_id",e.data)})),De().then((e=>{oe(r,"staff_id",e.data)})),v()}));const v=async()=>{await M(i.query.id).then((e=>{for(var t in console.log(e.data.membership_members),e.data)if("select_type"==t)"Individual"==e.data[t]?ne(u.value,"select_type").model=!1:ne(u.value,"select_type").model=!0;else if("membership_members"==t){if(!e.data[t])return void console.error("no posee una membresia :(");for(var a in e.data[t])if("memberships_location"==a){if(!e.data[t][a])return void console.error("no posee una locacion :(");ne(r.value,"locations_id").model=e.data[t][a].companies_locations_id,we([e.data[t][a].companies_locations_id]).then((e=>{oe(r,"diciplines",e.data)}))}else if("recurrence"==a){let a=[];if(e.data[t].membership.amounts.forEach((e=>{let t=Ce.value.find((t=>t.id==e.recurrences_id));t.amount=e.amount,a.push(t)})),ne(r.value,"recurrences_id").model=e.data[t].recurrences_id,!a.find((a=>a.id==e.data[t].recurrences_id)))return void console.error("no tiene un plan de membresia :( recurrences");ne(r.value,"amount").model=a.find((a=>a.id==e.data[t].recurrences_id)).amount}else"is_recurrence"==a?ne(r.value,"recurrence").model=e.data[t][a]?[a]:[]:"diciplines"==a?(ne(r.value,"diciplines").model=[],e.data[t][a].forEach((e=>{ne(r.value,"diciplines").model.push(e.diciplines_id)}))):"membership"==a?ne(r.value,"initiation_fee").model=e.data[t][a].initiation_fee:"is_initiation_fee"==a?ne(r.value,"is_initiation_fee").model=0==e.data[t][a]?[a]:[]:"discount"==a?(ne(r.value,"discount").disabled=!0,null!=e.data[t][a]&&(ne(r.value,"discount").model=e.data[t][a].id)):ce(r,a,e.data[t][a])}else if("staff_id"==t)ce(r,t,e.data[t]);else if("emergency"==t)for(a in e.data[t])ce(_,a,e.data[t][a]);else if("guardian"==t)for(a in e.data[t])ce(y,a,e.data[t][a]);else ce(u,t,"leo_vet_fr"==t?1==e.data[t]?t:[]:e.data[t]);d.value=!1}))},f=()=>{const e=ue(r.value);e.members_id=l.value.id,D(e).then((e=>{l.value.membership_members=e.data.membership_member,o.value=!0})).catch((e=>{for(var t in e.response.data.errores)e.response.data.errores[t].forEach((e=>{ie.error(`${t}: ${e}`)}))}))};return(t,u)=>{const p=e,v=Ie,h=X,y=a,b=wt,_=St,g=Zt,k=ua,j=pa,M=Ma,D=Pa,w=Va,$=ge;return V(),N($,null,{default:H((()=>[d.value?(V(),N(p,{key:0,height:"500px"})):z("",!0),!d.value&&F(l)?(V(),N("div",Na,[q("div",za,[q(v,{category:F(i).query.category,onChangeMenu:m},null,8,["category"])]),q("div",Wa,[F(s)?z("",!0):(V(),N(y,{key:0,class:"mb-4 d-flex justify-content-between align-items-center",color:"danger"},{default:H((()=>[Ha,q("div",null,[F(le)(F(r),"memberships_id")&&!F(x)?(V(),N(h,{key:0,color:"success",onClick:u[1]||(u[1]=e=>o.value=!0)},{default:H((()=>[qa])),_:1})):z("",!0),F(x)?(V(),N(h,{key:1,disabled:!F(le)(F(r),"memberships_id"),color:"success",onClick:f},{default:H((()=>[La])),_:1},8,["disabled"])):z("",!0)])])),_:1})),o.value?(V(),N(b,{key:1,class:"mb-4"})):z("",!0),null!=F(l).membership_members?(V(),N(y,{key:2,class:"mb-4"},{default:H((()=>[q("div",null,[q("p",null,[q("b",null,"Member #"+L(F(l).id),1)]),q("p",null,[q("small",null,[Ra,J(" "+L(F(me)(F(l).created_at).format("ddd - DD MMM YYYY")),1)])]),q("p",null,[Ba,J(" "+L(F(n).membership.name),1)]),q("p",null,[Ua,J(" "+L(F(C).format("ddd - DD MMM YYYY")),1)]),F(n).payments?(V(),N("p",Oa,[Ga,J(L(F(me)(F(n).payments[0].created_at).format("ddd - DD MMM YYYY")),1)])):z("",!0)])])),_:1})):z("",!0),U(q(_,{category:F(i).query.category},null,8,["category"]),[[O,"personalInformation"==c.value]]),U(q(g,null,null,512),[[O,"memberMembership"==c.value]]),U(q(k,null,null,512),[[O,"memberFamily"==c.value]]),U(q(j,null,null,512),[[O,"memberEmergency"==c.value]]),U(q(M,null,null,512),[[O,"memberCheckins"==c.value]]),U(q(D,null,null,512),[[O,"memberPurchases"==c.value]]),U(q(w,null,null,512),[[O,"memberWaiver"==c.value]])])])):z("",!0)])),_:1})}}});export default Ja;
