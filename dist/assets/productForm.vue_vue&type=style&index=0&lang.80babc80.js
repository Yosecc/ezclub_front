import{_ as e}from"./V-Button.vue_vue&type=script&setup=true&lang.a97a12f7.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.acbf948e.js";import{_ as a}from"./Companies.57563fa8.js";import{_ as s}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.d27a24ca.js";import{d as r,b as o,o as n,h as i,D as c,j as p,k as u,K as l,E as d,H as m}from"./vendor.e3a29b40.js";import{i as v,c as f,s as b}from"./Products.d23005eb.js";import{v as h,p as y,n as _,c as g}from"./ActivityPanel.vue_vue&type=style&index=0&lang.1e718eba.js";import{a as j}from"./index.4e4bd47d.js";const x={class:"title is-4 mb-0"},k=m(" Go Back "),E=m(" Save Changes "),$={class:"column mx-auto"},A={class:"p-6"},C=u("h1",{class:"title is-5 mb-0"},"Product Picture",-1),P={class:"d-flex justify-content-center"},w={class:"text-center"};var V=r({expose:[],props:{type:{type:String,default:"create"}},setup(r){const m=r,V=c(),B=o((()=>"create"==m.type?{title:"Add a new product",subtitle:"Add information for a new product"}:{title:"Edit product",subtitle:"Edit information for a product"})),D=o((()=>`${j.value}storage/${h(v.value,"photo")}`)),S=()=>{const e=y(v.value),t=new FormData;for(var a in e)"locations"==a?e[a].forEach((e=>{t.append("locations[]",e)})):t.append(a,e[a]);console.log(...t),"edit"==m.type&&f(t).then((e=>{_.success(e.data.message),g(v.value),V.back()})).catch((e=>{for(var t in e.response.data.errores)e.response.data.errores[t].forEach((e=>{_.error(`${t}: ${e}`)}))})),"create"==m.type&&b(t).then((e=>{_.success(e.data.message),g(v.value),V.back()})).catch((e=>{for(var t in e.response.data.errores)e.response.data.errores[t].forEach((e=>{_.error(`${t}: ${e}`)}))}))};return(r,o)=>{const c=e,m=t,f=a,b=s;return n(),i(b,null,{"header-left":p((()=>[u("div",null,[u("h1",x,l(d(B).title),1),u("p",null,l(d(B).subtitle),1)])])),"header-right":p((()=>[u(c,{onClick:o[1]||(o[1]=e=>d(V).back()),class:"mr-3"},{default:p((()=>[k])),_:1}),u(c,{onClick:S,color:"primary"},{default:p((()=>[E])),_:1})])),content:p((()=>[u("div",$,[u("div",A,[C,u("div",P,[u("div",w,[u(m,{picture:d(D),class:"mb-4",size:"xl"},null,8,["picture"]),u(f,{"inputs-step":r.input_image},null,8,["inputs-step"])])])]),u(f,{"inputs-step":d(v)},null,8,["inputs-step"])])])),_:1})}}});export{V as _};
