import{_ as Z}from"./V-Progress.vue_vue_type_script_setup_true_lang.15284a16.js";import{_ as tt}from"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import{_ as G}from"./V-Button.vue_vue_type_script_setup_true_lang.72d178c7.js";import{d as H,r as M,o as i,e as r,f as t,F as Q,G as T,t as w,w as n,B as et,j as at,aD as V,aB as h,aE as A,aC as D,c as P,u as o,y,aF as R,a7 as ot,aG as b,aH as F,A as st,aA as nt,aI as d,Q as it,i as u}from"./index.4457215e.js";import{_ as rt}from"./V-Card.vue_vue_type_script_setup_true_lang.f80f1beb.js";import{_ as ct}from"./V-CreditCard.vue_vue_type_script_setup_true_lang.b6cc3769.js";import{u as lt}from"./useNotyf.5fd67cd7.js";import{c as x,s as I,d as J}from"./config.f468f56a.js";import{s as E}from"./servicesPacks.89d0fb17.js";import{i as z,l as dt}from"./darkModeState.1f6503fc.js";import{n as O}from"./Companies.4f645ec0.js";import"./V-Control.92200beb.js";import"./V-Field.vue_vue_type_script_setup_true_lang.33752939.js";import"./V-SwitchSegment.vue_vue_type_script_setup_true_lang.96e64ac9.js";import"./V-Modal.vue_vue_type_script_setup_true_lang.f0368080.js";import"./V-Checkbox.vue_vue_type_script_setup_true_lang.70a8d51f.js";import"./V-Placeload.9684d098.js";import"./themeColors.4f0e93f3.js";const ut={class:"onboarding-wrapper onboarding-v4"},_t={class:"onboarding-wrap"},mt={class:"onboarding-wrap-inner d-flex justify-content-center"},pt={class:"onboarding-content mt-4"},vt={class:"dark-inverted"},ft={class:"button-wrap"},ht={style:{"font-size":"1.3rem",color:"black","font-weight":"900"}};var yt=H({expose:[],props:{data:{type:Array},value:{type:Number,default:0}},emits:["changeSelect"],setup(S,{emit:L}){const g=M(S.value),j=k=>{g.value=k};return(k,C)=>{const v=G;return i(),r("div",ut,[t("div",_t,[t("div",mt,[(i(!0),r(Q,null,T(S.data,(_,B)=>(i(),r("div",{class:["onboarding-card ",_.id==g.value?"active":""],key:`item-${B}`},[t("img",{class:"",src:_.image,alt:""},null,8,["src"]),t("div",pt,[t("h3",vt,w(_.name),1),t("p",null,w(_.description),1),t("div",ft,[t(v,{color:"primary",onClick:m=>(k.$emit("changeSelect",_.id),j(_.id)),rounded:"",elevated:""},{default:n(()=>[t("span",ht,"$"+w(_.price),1)]),_:2},1032,["onClick"])])])],2))),128))])])])}}});const gt={class:"auth-wrapper-inner is-single"},kt={class:"auth-nav"},Ct=t("div",{class:"left"},null,-1),$t={class:"center"},bt={class:"right"},xt={class:"dark-mode ml-auto"},wt=t("span",null,null,-1),St={class:"single-form-wrap mt-6"},Lt={class:"inner-wrap"},Nt={class:"auth-head"},jt={key:0,class:"form-card"},Bt={class:"d-flex justify-content-end"},Vt=u(" Continue "),At={key:1,class:"form-card"},Dt={class:"d-flex justify-content-between"},Pt=u(" Back "),Rt=u(" Continue "),Ft={key:2,class:"form-card"},It={class:"d-flex justify-content-around"},Jt=u(" Add Location "),Ot=u(" Remove Location "),Et={class:"d-flex justify-content-between"},zt=u(" Back "),Gt=u(" Continue "),Ht={key:3,class:"form-card"},Mt={class:"d-flex justify-content-between"},Qt=u(" Back "),Tt=u(" Continue "),Wt={key:4,class:"form-card"},qt={class:"d-flex justify-content-between"},Kt=u(" Back "),Ut=u(" Register ");var fe=H({expose:[],setup(S){const L=ot(),N=lt(),g=M(!1);et({title:"Registration Process"}),at(()=>{x.value.length==0&&L.push({name:"auth-register"}),O.value.map(e=>{e.name=="company_city_id"&&(e.values=x.value),e.name=="company_state_id"&&(e.values=I.value),e.name=="company_country_id"&&(e.values=J.value)}),V.value.map(e=>{e.name=="city_id"&&(e.values=x.value),e.name=="state_id"&&(e.values=I.value),e.name=="country_id"&&(e.values=J.value)}),h.value.push(JSON.parse(JSON.stringify(V.value))),A.value.map(e=>{e.name=="contact_city_id"&&(e.values=x.value),e.name=="contact_state_id"&&(e.values=I.value),e.name=="contact_country_id"&&(e.values=J.value),e.name=="contact_name"&&(e.model=D.value.firstName),e.name=="contact_email"&&(e.model=D.value.email)})});const j=e=>{b.value.model=e},k=P(()=>E.value.find(e=>e.id==b.value.model).locations_num),C=e=>F.value.find(a=>a.name==e),v=(e,a={anidados:!1,array:!0})=>{const f=p=>{let l={};return a.array&&p.forEach(s=>{l[s.name]=s.model}),a.array||(l[p.name]=p.model),l};if(!a.anidados)return f(e);if(a.anidados){let p=e,l=[];return p.forEach(s=>{l.push(f(s))}),l}},_=async()=>{const e={...v(O.value),...v(A.value),...D.value,...v(b.value,{array:!1}),...v(F.value),locations:v(h.value,{anidados:!0,array:!0})};console.log("data",e),await st.post("companies/create",e).then(a=>{let f=a.data.user;if(a.data.status)g.value=!0,nt(f),N.success(`Welcome, ${f.name}`),L.push({name:"index"}),g.value=!1;else for(let p in a.data.errores)N.error(`${a.data.mensaje}: ${a.data.errores[p]}`)}).catch(a=>{console.log(a.response.data)})},B=P(()=>{if(d.value==1)return"Company Information";if(d.value==3)return"Company Locations";if(d.value==4)return"Contact Information";if(d.value==2)return"Service Packs"}),m=e=>{d.value=e},W=P(()=>d.value*100/4),q=()=>{h.value.push(JSON.parse(JSON.stringify(V.value)))},K=e=>{h.value.splice(e,1)};return(e,a)=>{const f=it("RouterLink"),p=Z,l=tt,s=G,U=yt,X=rt,Y=ct;return i(),r("div",gt,[t("div",kt,[Ct,t("div",$t,[t(f,{to:{name:"index"},class:""},{default:n(()=>[t("img",{src:o(dt),width:"150",class:"d-block mr-auto ml-auto",alt:""},null,8,["src"])]),_:1})]),t("div",bt,[t("label",xt,[t("input",{type:"checkbox",checked:!o(z),onChange:a[1]||(a[1]=c=>{z.value=!c.target.checked})},null,40,["checked"]),wt])])]),t("div",St,[t("div",Lt,[t("div",Nt,[t("h2",null,w(o(B)),1)]),t(p,{size:"small",value:o(W)},null,8,["value"]),o(d)==1?(i(),r("div",jt,[t(l,{"inputs-step":o(O)},null,8,["inputs-step"]),t("div",Bt,[t(s,{onClick:a[2]||(a[2]=c=>m(2)),color:"primary"},{default:n(()=>[Vt]),_:1})])])):y("",!0),o(d)==2?(i(),r("div",At,[t(U,{data:o(E),value:o(b).model,onChangeSelect:j},null,8,["data","value"]),t("div",Dt,[t(s,{onClick:a[3]||(a[3]=c=>m(1)),color:"danger"},{default:n(()=>[Pt]),_:1}),t(s,{onClick:a[4]||(a[4]=c=>m(3)),color:"primary"},{default:n(()=>[Rt]),_:1})])])):y("",!0),o(d)==3?(i(),r("div",Ft,[(i(!0),r(Q,null,T(o(h),(c,$)=>(i(),r(X,{key:`location-${$}`,class:"mb-4"},{default:n(()=>[t(l,{"inputs-step":c},null,8,["inputs-step"]),t("div",It,[$+1==o(h).length&&o(k)>o(h).length?(i(),r(s,{key:0,onClick:q,class:"mx-auto d-block",color:"info"},{default:n(()=>[Jt]),_:1})):y("",!0),$>0?(i(),r(s,{key:1,onClick:Xt=>K($),class:"mx-auto d-block",color:"danger"},{default:n(()=>[Ot]),_:2},1032,["onClick"])):y("",!0)])]),_:2},1024))),128)),t("div",Et,[t(s,{onClick:a[5]||(a[5]=c=>m(2)),color:"danger"},{default:n(()=>[zt]),_:1}),t(s,{onClick:a[6]||(a[6]=c=>m(4)),color:"primary"},{default:n(()=>[Gt]),_:1})])])):y("",!0),o(d)==4?(i(),r("div",Ht,[t(l,{"inputs-step":o(A)},null,8,["inputs-step"]),t("div",Mt,[t(s,{onClick:a[7]||(a[7]=c=>m(3)),color:"danger"},{default:n(()=>[Qt]),_:1}),t(s,{onClick:a[8]||(a[8]=c=>m(5)),color:"primary"},{default:n(()=>[Tt]),_:1})])])):y("",!0),o(d)==5?(i(),r("div",Wt,[t(Y,{color:"orange",number:C("number_card").model,name:C("name_card").model,expiry:C("expiration_date").model,cvc:C("password_card").model,flipped:o(R),onFlip:a[9]||(a[9]=c=>R.value=!o(R))},null,8,["number","name","expiry","cvc","flipped"]),t(l,{class:"mt-6","inputs-step":o(F)},null,8,["inputs-step"]),t("div",qt,[t(s,{onClick:a[10]||(a[10]=c=>m(4)),color:"danger"},{default:n(()=>[Kt]),_:1}),t(s,{onClick:_,color:"primary"},{default:n(()=>[Ut]),_:1})])])):y("",!0)])])])}}});export{fe as default};
