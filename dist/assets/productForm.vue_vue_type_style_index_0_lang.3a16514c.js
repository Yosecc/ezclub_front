import{_ as I}from"./V-Button.vue_vue_type_script_setup_true_lang.72d178c7.js";import{_ as B}from"./V-Avatar.vue_vue_type_script_setup_true_lang.b4183814.js";import{_ as S}from"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import{_ as F}from"./V-CardAdvanced.vue_vue_type_script_setup_true_lang.66aff21d.js";import{_ as N}from"./V-Tag.vue_vue_type_script_setup_true_lang.0d8ff65f.js";import{_ as Y}from"./V-Card.vue_vue_type_script_setup_true_lang.f80f1beb.js";import{d as L,c as w,o as u,e as d,f as e,w as c,u as o,y as $,C as M,ah as T,t as m,g as h,F as U,G as j,h as G,i as g,a7 as R,n as i,k as q,a8 as P}from"./index.4457215e.js";import{i as p,c as f,d as z,e as W,f as H,s as J}from"./Products.d4085bf4.js";const K={class:"title is-4 mb-0"},O=g(" Go Back "),Q=g(" Save Changes "),X={class:"columns is-multiline mx-auto"},Z={class:"p-6 column is-12"},ee=e("h1",{class:"title is-5 mb-0"},"Product Picture",-1),te={class:"d-flex justify-content-center"},se={class:"text-center"},oe={class:"column is-12"},ae={key:0},re=e("h1",{class:"title is-5"},"Prices",-1),ne={class:"table is-hoverable is-fullwidth"},ce=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Price"),e("th",{scope:"col"},"Create Date"),e("th",{scope:"col"},"User")])],-1),ie={class:"w-100 justify-content-center d-flex"},le=g(" Add Price ");var ye=L({expose:[],props:{type:{type:String,default:"create"}},setup(v){const y=v,b=R(),k=w(()=>y.type=="create"?{title:"Add a new product",subtitle:"Add information for a new product"}:{title:"Edit product",subtitle:"Edit information for a product"}),C=w(()=>`${M.value}storage/${T(p.value,"photo")}`),x=()=>{h(f.value,"price").model!=""?confirm("Are you sure you want to add a new price? This action will disable the previous price and it cannot be restored")&&W(h(f.value,"price").model).then(a=>{i.success("success save"),window.location.reload()}).catch(a=>{for(var s in a.response.data.errores)a.response.data.errores[s].forEach(r=>{i.error(`${s}: ${r}`)})}):i.error("Price is required")},A=()=>{let a=q(p.value);a.price=h(f.value,"price").model;const s=new FormData;for(var r in a)r=="locations"?a[r].forEach(t=>{s.append("locations[]",t)}):s.append(r,a[r]);console.log(...s),y.type=="edit"&&H(s).then(t=>{i.success(t.data.message),P(p.value),b.back()}).catch(t=>{for(var n in t.response.data.errores)t.response.data.errores[n].forEach(_=>{i.error(`${n}: ${_}`)})}),y.type=="create"&&J(s).then(t=>{i.success(t.data.message),P(p.value),b.back()}).catch(t=>{for(var n in t.response.data.errores)t.response.data.errores[n].forEach(_=>{i.error(`${n}: ${_}`)})})};return(a,s)=>{const r=I,t=B,n=S,_=F,V=N,E=Y;return u(),d("div",null,[e(_,null,{"header-left":c(()=>[e("div",null,[e("h1",K,m(o(k).title),1),e("p",null,m(o(k).subtitle),1)])]),"header-right":c(()=>[e(r,{onClick:s[1]||(s[1]=l=>o(b).back()),class:"mr-3"},{default:c(()=>[O]),_:1}),e(r,{onClick:A,color:"primary"},{default:c(()=>[Q]),_:1})]),content:c(()=>[e("div",X,[e("div",Z,[ee,e("div",te,[e("div",se,[e(t,{picture:o(C),class:"mb-4",size:"xl"},null,8,["picture"]),e(n,{"inputs-step":a.input_image},null,8,["inputs-step"])])])]),e("div",oe,[e(n,{"inputs-step":o(p)},null,8,["inputs-step"]),v.type=="create"?(u(),d(n,{key:0,"inputs-step":o(f)},null,8,["inputs-step"])):$("",!0)])])]),_:1}),o(h)(o(p),"custom").model?$("",!0):(u(),d("div",ae,[v.type=="edit"?(u(),d(E,{key:0,class:"mt-4"},{default:c(()=>[re,e("table",ne,[ce,e("tbody",null,[(u(!0),d(U,null,j(o(z).prices,(l,D)=>(u(),d("tr",{key:`price-${D}`},[e("td",null,[e(V,{color:l.status?"success":"danger",label:l.status?"Active":"Archived",rounded:""},null,8,["color","label"])]),e("td",null,"$"+m(l.price),1),e("td",null,m(o(G)(l.created_at).format("MM-DD-YYYY")),1),e("td",null,m(l.user.name),1)]))),128))])]),e("div",ie,[e(n,{"inputs-step":o(f)},null,8,["inputs-step"]),e(r,{color:"info",onClick:x,class:"mt-5 ml-3"},{default:c(()=>[le]),_:1})])]),_:1})):$("",!0)]))])}}});export{ye as _};
