import{_ as e}from"./V-Placeload.1d820ea1.js";import{_ as t}from"./V-Avatar.vue_vue&type=script&setup=true&lang.bdc086ca.js";import{_ as a}from"./V-Card.vue_vue&type=script&setup=true&lang.c40c0974.js";import{d as s,O as l,w as n,I as i,b as r,r as o,E as u,o as c,i as m,H as p,j as d,k as v,G as f,S as b,U as y,W as h,X as _,ad as g,F as k,A as M,_ as x,z as C,P as j}from"./vendor.01c5c571.js";import{m as w,b as D,c as P,d as $,i as Y,p as S,e as E,f as I,h as V,j as A,k as z,l as F,n as T,o as N,q,r as B,t as H,u as W,v as L,w as R,x as O,y as U,z as G,A as J,B as K,C as X,D as Q,E as Z,F as ee,G as te,H as ae,I as se,J as le,K as ne,L as ie,M as re,N as oe}from"./Members.20b981f1.js";import{b as ue,P as ce,A as me,F as pe,c as de,v as ve,g as fe,m as be,n as ye,p as he,e as _e,h as ge,a as ke,s as Me}from"./index.ac5a5b37.js";import{_ as xe}from"./V-Button.vue_vue&type=script&setup=true&lang.b455daa2.js";import{_ as Ce}from"./V-Loader.vue_vue&type=script&setup=true&lang.fbbd0b75.js";import{_ as je}from"./V-Control.a79cbb72.js";import{_ as we}from"./V-Field.vue_vue&type=script&setup=true&lang.f41a6402.js";import{_ as De}from"./V-Modal.vue_vue&type=script&setup=true&lang.456f1f93.js";import{_ as Pe}from"./V-Tag.vue_vue&type=script&setup=true&lang.a0cbaab0.js";import{_ as $e}from"./inputsLayaut.vue_vue&type=style&index=0&lang.67fcb901.js";import{_ as Ye}from"./V-CardAdvanced.vue_vue&type=script&setup=true&lang.9315f184.js";import{_ as Se,a as Ee,b as Ie}from"./Presupuesto.vue_vue&type=script&setup=true&lang.1e109330.js";import{_ as Ve}from"./MemberCards.vue_vue&type=script&setup=true&lang.5b1e2baa.js";import{_ as Ae}from"./V-AvatarStack.vue_vue&type=script&setup=true&lang.49471977.js";import{_ as ze}from"./signComponent.vue_vue&type=script&setup=true&lang.7b9e16bd.js";import{_ as Fe}from"./pdf_icon.aad29815.js";import{_ as Te}from"./FlexTableDropdown.vue_vue&type=script&setup=true&lang.81a8ec12.js";import{_ as Ne}from"./V-Block.vue_vue&type=script&setup=true&lang.3e21cb15.js";import{_ as qe}from"./V-CreditCard.vue_vue&type=script&setup=true&lang.6895080b.js";import{p as Be,f as He}from"./PaymentMethodsData.6bd3eda1.js";import{_ as We}from"./SidebarLayout.vue_vue&type=script&setup=true&lang.177f0718.js";import{p as Le}from"./sidebarLayoutState.157f604e.js";import{g as Re}from"./Discounts.53bba3f2.js";import{a as Oe}from"./Memberships.e9a15642.js";import{g as Ue}from"./Recurrences.4fc245a2.js";import{h as Ge}from"./Staffs.362f7cdb.js";import{g as Je}from"./Diciplines.d932f21d.js";import{e as Ke}from"./config.24c0850c.js";import{b as Xe,e as Qe}from"./Companies.6a501d7e.js";import"./V-SwitchSegment.vue_vue&type=script&setup=true&lang.e78ec04d.js";import"./V-Checkbox.vue_vue&type=script&setup=true&lang.dc692e4a.js";import"./V-Dropdown.85d3f5b7.js";import"./V-Icon.vue_vue&type=script&setup=true&lang.3bbb02a2.js";import"./useDropdown.71ab9e78.js";import"./ActivityPanel.vue_vue&type=style&index=0&lang.ac438191.js";import"./activePanelState.ee613b81.js";import"./fastpizza.1e58d0ec.js";import"./TaskPanel.vue_vue&type=style&index=0&lang.0beea281.js";import"./video.61743804.js";import"./SearchPanel.vue_vue&type=style&index=0&lang.37b282ef.js";import"./darkModeState.c7ff6ad3.js";import"./AnimatedLogo.b7a972ed.js";import"./V-IconBox.vue_vue&type=script&setup=true&lang.b45d9c72.js";import"./UserPopoverContent.vue_vue&type=script&setup=true&lang.1efafbd0.js";import"./userPopovers.f4b9fc60.js";const Ze={class:"d-flex justify-content-center align-items-center flex-column mb-4"},et={class:"mt-5 text-center"},tt={class:"title is-5 is-narrow"},at={class:"w-100 mt-5"},st=v("i",{class:"iconify",style:{"font-size":"20px",color:"white"},"data-icon":"feather:arrow-right","aria-hidden":"true"},null,-1);var lt=s({expose:[],props:{category:{type:String,default:"Adult"}},emits:["changeMenu"],setup(e,{emit:s}){const h=e,_=l();n((()=>_.hash),(e=>{x.value=g.findIndex((e=>e.component==_.hash.slice(1)))})),i((()=>{""!=_.hash&&(x.value=g.findIndex((e=>e.component==_.hash.slice(1))))}));const g=[{name:"Personal Information",component:"personalInformation"},{name:"Membership/Contract",component:"memberMembership"},{name:"Family Members",component:"memberFamily"},{name:"Emergency",component:"memberEmergency"},{name:"Check-ins",component:"memberCheckins"},{name:"Purchases",component:"memberPurchases"},{name:"Credit",component:"memberCredit"}],k=[{name:"Personal Information",component:"personalInformation"},{name:"Waiver",component:"memberWaiver"}],M=r((()=>["Adult","Minor"].includes(h.category)?g:k)),x=o(0),C=o(null),j=r((()=>null!=M.value[x.value]?M.value[x.value].component:C.value));return(e,l)=>{const n=t,i=a;return u(w)?(c(),m(i,{key:0,class:"cardprofile"},{default:d((()=>[v("div",Ze,[v(n,{picture:u(w).photo?`${u(ue)}storage/${u(w).photo}`:"",size:"xl"},null,8,["picture"]),v("div",et,[p(" <p>{{ member }}</p> "),v("h2",tt,f(u(w).name)+" "+f(u(w).second_name)+" "+f(u(w).last_name),1)])]),v("div",at,[v("ul",null,[(c(!0),m(b,null,y(u(M),((e,t)=>(c(),m("li",{key:`item-${t}`},[v(i,{class:["\n              mb-3\n              item_menu\n              d-flex\n              justify-content-between\n              align-items-center\n            ",x.value==t?"active":""],color:x.value==t?"warning":void 0,elevated:x.value==t,onClick:e=>(e=>{x.value=e,s("changeMenu",j)})(t)},{default:d((()=>[v("p",null,f(e.name),1),st])),_:2},1032,["class","color","elevated","onClick"])])))),128))])])])),_:1})):p("v-if",!0)}}});const nt=v("div",{id:"payment-element"},[p("Stripe.js injects the Payment Element")],-1),it=k(" Pay now "),rt=v("div",{id:"payment-message",class:"hidden"},null,-1);var ot=s({expose:[],props:{amount:{type:Number,required:!0},id:{type:Number,required:!0},url:{type:String,default:"stripe"},member_membership:{type:Number,default:0}},setup(t){const s=t,l=Stripe(ce.value);n((()=>s.id),(e=>{console.log("cambio"),u.value=!0,C()}));const u=o(!0);o({id:s.id,amount:s.amount});const f=o(),y=r((()=>"stripe"!=s.url?{payment_type_id:3,amount:s.amount}:{id:s.id,member_mermship_id:s.member_membership,amount:s.amount,payment_type_id:1})),k=o(null),M=o(null),x=o(!1),C=async()=>{let e=await me.post(s.url,y.value).then((e=>{k.value=e.data.clientSecret,f.value=l.elements({clientSecret:k.value}),M.value=f.value.create("payment"),M.value.mount("#payment-element")})).catch((e=>{}));return u.value=!1,e},j=async e=>{e.preventDefault(),x.value=!0,await l.confirmPayment({elements:f.value,confirmParams:{return_url:`${pe.value}members/process?payment_type=3&id=`+s.id+`&membership=${s.member_membership}`}}),x.value=!1};return i((()=>{C()})),(t,s)=>{const l=e,n=xe,i=Ce,r=a;return c(),m(b,null,[u.value?(c(),m(l,{key:0,height:"500px"})):p("v-if",!0),h(v(r,{class:"mt-6"},{default:d((()=>[p(" <p>{{ memberMermship }}</p> "),v("form",{onSubmit:g(j,["prevent"]),id:"payment-form"},[p(' <input id="card-holder-name" type="text"> '),nt,p(' <button id="submit">\r\n        <div class="spinner hidden" id="spinner"></div>\r\n        <span id="button-text">Pay now</span>\r\n      </button> '),v(i,{size:"small",active:x.value},{default:d((()=>[v(n,{id:"submit",class:"mt-4",color:"success"},{default:d((()=>[it])),_:1})])),_:1},8,["active"]),rt],40,["onSubmit"])])),_:1},512),[[_,!u.value]])],64)}}});const ut={class:"table is-hoverable is-striped is-fullwidth"},ct=v("th",{scope:"col"},"Members",-1),mt=v("th",{scope:"col"},"Membership Name",-1),pt=v("th",{scope:"col"},"Recurrence",-1),dt=v("th",{scope:"col"},"Prorated",-1),vt=v("th",{scope:"col"},"Membership Cost",-1),ft=v("th",{scope:"col"},"Initiation Fee",-1),bt=v("th",{scope:"col"},"Discount",-1),yt=v("th",{scope:"col"},"Taxes",-1),ht={key:0,scope:"col"},_t=v("th",{scope:"col"},"Sub Total",-1),gt={key:0},kt={key:0},Mt={key:1},xt={key:2},Ct={key:0},jt=v("br",null,null,-1),wt={key:1},Dt={key:0},Pt={key:1},$t={key:0},Yt={key:0},St={key:1},Et={key:1},It={key:3},Vt={class:"is-end"},At={class:"d-flex justify-content-between"},zt=k(" Card Payment "),Ft=k(" Cash Payment "),Tt={class:"d-flex mb-4 justify-content-between"},Nt={class:"title is-5"},qt=k(" Total: "),Bt={class:"title is-5"},Ht=k(" Cash Total: "),Wt={class:"\r\n            d-flex\r\n            justify-content-center\r\n            align-items-center\r\n            flex-column\r\n            mb-4\r\n          "},Lt=v("p",{class:"title is-5 mb-4"},"Change Back:",-1),Rt={class:"title is-3 mb-0"},Ot={class:"d-flex justify-content-center flex-wrap mb-4"},Ut=v("div",{class:"w-100"},null,-1),Gt={class:"d-flex justify-content-center"},Jt=k("Reset"),Kt=k("Confirm");var Xt=s({expose:[],setup(e){o(!1);const t=o(!1);i((()=>{console.log("se monto el payment")}));const s=r((()=>{let e=de(P,"memberships_id");return null!=e?e:[]})),l=r((()=>{let e=de(P,"recurrences_id");return null!=e?e:[]})),n=r((()=>{let e=ve(P,"initiation_fee");return null!=e?e:[]})),_=r((()=>{let e=fe(P,"discount");return null!=e?e:[]})),g=r((()=>{let e=parseFloat(M().format("DD")),t=0,a=0;return l.value.days>=30&&(a=e-l.value.payday,t=l.value.amount/l.value.days*a),{days:a,amount:Math.abs(Math.round(t))}})),C=r((()=>(e=>{if(""!=ve(P,"memberships_id"))return"percentaje"==(e=e.value?e.value:e).tax.type?{text:`${e.tax.value}%`,value:e.tax.value,type:"procentaje"}:{text:be(e.tax.value),value:e.tax.value}})(s))),j=o(null),Y=r((()=>{let e=0;return e+=l.value.amount,ve(P,"is_initiation_fee").length||(e+=n.value),e-=g.value.amount,_.value.data&&("dolar"==_.value.data.type?e-=_.value.data.value:"percentaje"==_.value.data.type&&(e-=e/100*_.value.data.value)),e+=e/100*C.value.value,w.value.penalty&&(j.value=s.value.penalty,e+=j.value),w.value.leo_vet_fr&&(e-=e/100*s.value.descuento_vet),e})),S=r((()=>{let e=0;return e+=Y.value,e})),E=o(!1),I=o(0),V=r((()=>{const e=parseFloat(I.value)-parseFloat(S.value);return e>0?e:0}));o(1);const A=async()=>{await $(D.value.id,{total:S.value,payment_type_id:1,cash:I.value,cash_back:V.value}).then((e=>{ye.success("Payment Success"),window.location.reload()})).catch((e=>{}))};return(e,i)=>{const r=xe,o=a,M=ot,$=je,z=we,F=De;return c(),m("div",null,[v(o,{class:""},{default:d((()=>{return[v("table",ut,[v("thead",null,[v("tr",null,[ct,mt,pt,dt,vt,ft,bt,yt,j.value?(c(),m("th",ht,"Penalty")):p("v-if",!0),_t])]),0!=u(s).length?(c(),m("tbody",gt,[v("tr",null,[v("td",null,[v("p",null,[v("b",null,f(u(w).name)+" "+f(u(w).second_name)+" "+f(u(w).last_name),1)])]),0!=u(s).legnth?(c(),m("td",kt,f(u(s).name),1)):p("v-if",!0),0!=u(l).length?(c(),m("td",Mt,f(u(l).descriptions),1)):p("v-if",!0),0!=u(l).length?(c(),m("td",xt,[u(l).days>=30?(c(),m("span",Ct,[k(f(u(g).days)+" days : ",1),jt,k(" - "+f(u(be)(u(g).amount)),1)])):(c(),m("span",wt,"-"))])):p("v-if",!0),v("td",null,f(u(be)((e=u(l),e.amount))),1),v("td",null,[u(ve)(u(P),"is_initiation_fee").length?(c(),m("span",Pt,f(u(be)(0)),1)):(c(),m("span",Dt,f(u(be)(u(n))),1))]),v("td",null,[null!=u(_).data?(c(),m("span",$t,["dolar"==u(_).data.type?(c(),m("span",Yt," - "+f(u(be)(u(_).data.value)),1)):p("v-if",!0),"percentaje"==u(_).data.type?(c(),m("span",St,f(u(_).data.value)+"%",1)):p("v-if",!0)])):(c(),m("span",Et,"-"))]),v("td",null,f(u(C).text),1),j.value?(c(),m("td",It,f(u(be)(j.value)),1)):p("v-if",!0),v("td",null,f(u(be)(u(Y))),1)]),v("tr",null,[v("td",{style:{"text-align":"right"},colspan:j.value?"9":"8"}," Total ",8,["colspan"]),v("td",Vt,f(u(be)(u(S))),1)])])):p("v-if",!0)]),v("div",At,[v(r,{color:"success",disabled:0==u(s).length||isNaN(u(S)),onClick:i[1]||(i[1]=e=>t.value=!0)},{default:d((()=>[zt])),_:1},8,["disabled"]),v(r,{disabled:0==u(s).length||isNaN(u(S)),color:"warning",onClick:i[2]||(i[2]=e=>E.value=!0)},{default:d((()=>[Ft])),_:1},8,["disabled"])])];var e})),_:1}),t.value?(c(),m(M,{key:0,class:"",url:`new_payment/${u(D).id}`,amount:u(S),id:u(w).id,member_membership:u(D).id},null,8,["url","amount","id","member_membership"])):p("v-if",!0),v(F,{open:E.value,actions:"center",onClose:i[6]||(i[6]=e=>E.value=!1)},{content:d((()=>[v("div",Tt,[v("p",Nt,[qt,v("b",null,f(u(be)(u(S))),1)]),v("p",Bt,[Ht,v("b",null,f(u(be)(I.value)),1)])]),v("div",Wt,[Lt,v("p",Rt,[v("b",null,f(u(be)(u(V))),1)])]),v("div",Ot,[v(r,{bold:"",class:"m-3",style:{"font-size":"14px"},onClick:i[3]||(i[3]=e=>I.value=u(S))},{default:d((()=>[k(" Full Payment "+f(u(be)(u(S))),1)])),_:1}),Ut,(c(),m(b,null,y([5,10,20,50,100],((e,t)=>v(r,{key:`calculato-${t}`,bold:"",class:"m-3",style:{"font-size":"14px"},onClick:t=>I.value+=e},{default:d((()=>[k(" $"+f(e),1)])),_:2},1032,["onClick"]))),64))]),v("div",Gt,[v(z,null,{default:d((()=>[v($,null,{default:d((()=>[h(v("input",{"onUpdate:modelValue":i[4]||(i[4]=e=>I.value=e),type:"text",class:"input text-center",placeholder:"Cash"},null,512),[[x,I.value]])])),_:1})])),_:1})])])),action:d((()=>[v(r,{onClick:i[5]||(i[5]=e=>I.value=0),class:"d-flex justify-content-center",raised:""},{default:d((()=>[Jt])),_:1}),v(r,{color:"success",onClick:A,disabled:u(S)>I.value,class:"d-flex justify-content-center",raised:""},{default:d((()=>[Kt])),_:1},8,["disabled"])])),_:1},8,["open"])])}}});const Qt=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Personal Information"),v("p",null,"Edit member's personal information")],-1),Zt=k(" Save Changes "),ea=k(" Convert to Members ");var ta=s({expose:[],props:{category:{type:String,default:"Adult"}},setup(e){const t=e;r((()=>"Prospect"==t.category));const a=o(!1),s=()=>{a.value=!0;let e=he(Y.value),t=new FormData;for(var s in e)t.append(s,e[s]);S(t).then((e=>{ye.success("Edit Success"),a.value=!1})).catch((e=>{a.value=!1}))};return(e,l)=>{const n=xe,i=Ce,r=$e,o=Ye;return c(),m(o,null,{"header-left":d((()=>[Qt])),"header-right":d((()=>[v(i,{size:"small",active:a.value},{default:d((()=>[v(n,{onClick:s,color:"primary"},{default:d((()=>[Zt])),_:1}),"Prospect"==t.category?(c(),m(n,{key:0,color:"info",class:"ml-3"},{default:d((()=>[ea])),_:1})):p("v-if",!0)])),_:1},8,["active"])])),content:d((()=>[v(r,{"inputs-step":u(Y)},null,8,["inputs-step"])])),_:1})}}});const aa=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Membership / Contract"),v("p",null,"Edit member's membership and contract information")],-1),sa={class:"columns is-multiline justify-content-center"},la={key:0,class:"column is-12"},na=v("p",null,[v("small",null,"Membership")],-1),ia={class:"title is-4 mb-0"},ra={key:0},oa={key:0},ua={key:1},ca={class:"text-right"},ma=v("b",null,"Payment Method:",-1),pa={class:"title is-4"},da={key:1,class:"column is-3 mb-6 mt-4"},va=v("p",null,[v("b",null,"HOLD Membership")],-1),fa={key:0},ba={key:2,class:"column is-3 mb-6 mt-4"},ya=v("p",null,[v("b",null,"Pause Payment")],-1),ha={key:0},_a=k("Confirm"),ga={key:3,class:"column is-3 mb-6 mt-4"},ka=v("p",null,[v("b",null,"Cancel Membership")],-1),Ma={key:4,class:"column is-3 mb-6 mt-4"},xa=v("p",null,[v("b",null,"Payment Now")],-1),Ca={key:5,class:"mb-4 column is-12"},ja=k("Save Changes"),wa=k(" New Membership "),Da={key:7,class:"column is-12 mb-6 mt-4"},Pa={key:1},$a={class:"d-flex justify-content-end w-100"},Ya=k("Cancel"),Sa={key:8,class:"columns is-multiline column mt-4 is-12"},Ea=v("b",null,"Contract Date:",-1),Ia={class:"column is-12"},Va=v("h1",{class:"title is-6"},"Active Waiver Information",-1),Aa={class:"text-center"},za=v("img",{src:Fe,width:"40",alt:""},null,-1),Fa=k(" View PDF ");var Ta=s({expose:[],props:{},setup(t){i((()=>{E(P)})),o(null),o(null),o(null),o(null),o(null);const s=o(!1);o(null);const l=r((()=>{if(P.unshift(I.value[0]),P.push(V.value[0]),fe(P,"prorrateo").change=function(e){this.model?fe(e,"schedules").disabled=!0:fe(e,"schedules").disabled=!1},fe(P,"recurrence").class="is-4",w.value&&D.value){let e=["locations_id","diciplines","staff_id","discount"];return P.filter((t=>e.includes(t.name)))}return P})),n=()=>{fe(P,"amount").required=!1,fe(P,"initiation_fee").required=!1,fe(P,"diciplines").required=!1;const e=he(P);T(e).then((e=>{ye.success("Success"),s.value=!1,fe(P,"amount").required=!0,fe(P,"initiation_fee").required=!0,fe(P,"diciplines").required=!0}))},_=async()=>{s.value=!0,await N(l.value,Y.value),s.value=!1},g=()=>{confirm("Are you sure you want to perform this action?")&&(s.value=!0,q().then((e=>{ye.success("Memberships Cancel"),window.location.reload(),s.value=!1})))},C=e=>{B(e,D.value.id).then((e=>{if(e.data.status)ye.success("Sign Success");else for(var t in ye.error(e.data.mensaje),e.data.errores)e.data.errores[t].forEach((e=>{ye.error(`${t} : ${e}`)}))})).catch((e=>{}))},j=e=>{},$=o(!1),S=o(null),L=()=>{confirm("Are you sure you want to perform this action?")&&(s.value=!0,H(D.value.id,S.value).then((e=>{ye.success("Success Pause"),s.value=!1})).catch((e=>{for(var t in s.value=!1,e.response.data.errores)e.response.data.errores[t].forEach((e=>{ye.error(`${t}: ${e}`)}))})))},R=o(!1),O=(e,t=3,a={})=>{if(!confirm("Do you want to try the payment?"))return;let l={invoice_id:w.value.subscription.latest_invoice,payment_type_id:t,payment_method:e,total:w.value.subscription.total_invoice};1==t&&(l.changeBack=a.changeBack,l.cash=a.cash),s.value=!0,W(D.value.id,l).then((e=>{ye.success("success"),window.location.reload()})).catch((e=>{if("object"==typeof e.response.data)for(var t in e.response.data)"array"==typeof e.response.data[t]||ye.error(e.response.data[t]);else ye.error(e.response.data)})).finally((()=>{s.value=!1}))},U=e=>{O(null,1,e)};return(t,i)=>{const r=a,o=Ce,P=xe,Y=De,E=Se,I=Ve,V=$e,T=Ae,N=xe,q=e,B=Ee,H=Ie,W=ze,G=Ye;return c(),m(G,null,{"header-left":d((()=>[aa])),content:d((()=>[v("div",sa,[u(w)&&u(D)?(c(),m("div",la,[v(r,{class:"d-flex justify-content-between",color:"info"},{default:d((()=>[v("span",null,[na,v("p",ia,f(u(D).membership.name),1),v("p",null,f(u(D).recurrence.descriptions),1),u(D).discount?(c(),m("p",ra,[k(f(u(D).discount.value)+" ",1),"percentaje"==u(D).discount.type?(c(),m("span",oa,"%")):(c(),m("span",ua,"$"))])):p("v-if",!0)]),v("span",ca,[v("p",null,[v("small",null,[ma,k(" "+f(u(D).payment_type.name),1)])]),v("p",null,[v("small",null,f(u(D).recurrence.is_recurrence?"Recurrence":"no recurrence"),1)]),v("p",pa,f(u(be)(u(w).subscription.total_invoice/100)),1)])])),_:1})])):p("v-if",!0),u(w)&&u(D)?(c(),m("div",da,[u(w).membership_members.is_recurrence?(c(),m(o,{key:0,size:"small",active:s.value},{default:d((()=>[u(D)&&u(w).subscription?(c(),m(r,{key:0,color:"info",outlined:null==u(w).subscription.pause_collection,onClick:L,class:"mr-4 btn-card text-center"},{default:d((()=>[va,null!=u(w).subscription.pause_collection?(c(),m("span",fa,"Active until: "+f(u(w).subscription.pause_collection.resumes_at),1)):p("v-if",!0)])),_:1},8,["outlined"])):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),u(w)&&u(D)?(c(),m("div",ba,[u(w).membership_members.is_recurrence?(c(),m(o,{key:0,size:"small",active:s.value},{default:d((()=>[u(D)&&u(w).subscription?(c(),m(r,{key:0,color:"warning",outlined:null==u(w).subscription.pause_collection,onClick:i[1]||(i[1]=e=>$.value=!0),class:"mr-4 btn-card text-center"},{default:d((()=>[ya,null!=u(w).subscription.pause_collection?(c(),m("span",ha,"Active until: "+f(u(w).subscription.pause_collection.resumes_at),1)):p("v-if",!0)])),_:1},8,["outlined"])):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0),v(Y,{open:$.value,actions:"center",onClose:i[3]||(i[3]=e=>$.value=!1)},{content:d((()=>[h(v("input",{type:"date","onUpdate:modelValue":i[2]||(i[2]=e=>S.value=e),class:"input"},null,512),[[x,S.value]])])),action:d((()=>[v(P,{onClick:L,color:"primary",raised:""},{default:d((()=>[_a])),_:1})])),_:1},8,["open"])])):p("v-if",!0),u(w)&&u(D)?(c(),m("div",ga,[u(w).membership_members.is_recurrence?(c(),m(o,{key:0,size:"small",active:s.value},{default:d((()=>[u(D)?(c(),m(r,{key:0,color:"danger",outlined:"",onClick:g,class:"mr-4 btn-card text-center"},{default:d((()=>[ka])),_:1})):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),u(w)&&u(D)?(c(),m("div",Ma,[u(w).membership_members.is_recurrence?(c(),m(o,{key:0,size:"small",active:s.value},{default:d((()=>[u(D)?(c(),m(r,{key:0,color:"success",outlined:"",onClick:i[4]||(i[4]=e=>R.value=!R.value),class:"mr-4 btn-card text-center"},{default:d((()=>[xa])),_:1})):p("v-if",!0)])),_:1},8,["active"])):p("v-if",!0)])):p("v-if",!0),R.value?(c(),m("div",Ca,[u(w).user?(c(),m(I,{key:0,onOnMethodPayment:O,memberid:u(w).id,method_default:u(w).user.pm_last_four,"show-new-card":!1,class:"mb-4",ancho:"is-4"},{default:d((()=>[v(E,{total:u(w).subscription.total_invoice,margin:"mx-0",class:"is-4",onOnPaymentCash:U},null,8,["total"])])),_:1},8,["memberid","method_default"])):p("v-if",!0)])):p("v-if",!0),u(A).length?p("v-if",!0):(c(),m(r,{key:6,class:"mb-4 column is-12"},{default:d((()=>[v(V,{"inputs-step":u(l)},null,8,["inputs-step"]),u(w)&&u(w).trainers?(c(),m(T,{key:0,avatars:u(z)(u(w).trainers),size:"small"},null,8,["avatars"])):p("v-if",!0),u(w)&&u(D)?(c(),m(o,{key:1,size:"small",active:s.value},{default:d((()=>[v(N,{class:"mt-5",onClick:n,color:"primary"},{default:d((()=>[ja])),_:1})])),_:1},8,["active"])):p("v-if",!0),u(F)?p("v-if",!0):(c(),m(o,{key:2,size:"small",active:s.value},{default:d((()=>[u(D)?p("v-if",!0):(c(),m(N,{key:0,class:"mt-5",onClick:_,color:"primary"},{default:d((()=>[wa])),_:1}))])),_:1},8,["active"]))])),_:1})),p(" Presupuesto "),u(D)?p("v-if",!0):(c(),m("div",Da,[s.value?(c(),m(q,{key:0,height:"300px",class:"mb-4"})):p("v-if",!0),u(A).length?(c(),m("div",Pa,[(c(!0),m(b,null,y(u(A),((e,a)=>(c(),m(H,{key:`presupuesto-${a}`,class:"mb-4",presupuesto:e},{default:d((()=>[v("div",$a,[v(B,{member:e.member,member_id:u(w).id,membresia:e.membresia,contact:t.dataContact,presupuesto_id:e.presupuesto_id,"categories-members":t.categoriesMembers,"notas-input":t.notasInput,total:e.totales.upfront.amount_total,onPaymentAction:j,type:"edit"},null,8,["member","member_id","membresia","contact","presupuesto_id","categories-members","notas-input","total"])])])),_:2},1032,["presupuesto"])))),128)),v(N,{onClick:i[5]||(i[5]=e=>A.value=[]),color:"danger"},{default:d((()=>[Ya])),_:1})])):p("v-if",!0)])),p(" Contract "),u(w)&&u(D)?(c(),m("div",Sa,[v("div",null,[v("p",null,[Ea,k(" "+f(u(M)(u(w).membership_members.created_at).format("ddd - DD MMM yyyy")),1)])]),v("div",Ia,[v(W,{onOnSign:C,"is-sign":!u(D).sign,contract:`contract_${u(w).id}_${u(w).membership_members.id}_${u(w).personal_identifications}.pdf`,"url-contract":`generateContract/${u(w).id}`},null,8,["is-sign","contract","url-contract"])])])):p("v-if",!0),p("v-if",!0),p(" WAIVER "),u(w)&&u(D)?(c(),m(r,{key:10,class:"mb-4"},{default:d((()=>[Va,v("div",Aa,[v("a",{target:"_blank",href:`${u(ue)}generateWeiver/${u(w).id}`},[za,v("p",null," weiver_"+f(u(w).id)+"_"+f(u(w).membership_members.id)+"_"+f(u(w).personal_identifications)+".pdf ",1),v(P,{color:"success",outlined:"",class:"mt-4 py-1"},{default:d((()=>[Fa])),_:1})],8,["href"])])])),_:1})):p("v-if",!0)])])),_:1})}}});const Na=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Family Members"),v("p",null,"Edit member's family members")],-1),qa={class:"columns is-multiline"},Ba={key:0,class:"column is-4 mb-4"},Ha=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Parent"),v("p",null,"Edit parent contact")],-1),Wa=k(" Save Changes "),La={class:""},Ra=v("h1",{class:"title is-5"},"Parent Contact Information",-1),Oa={class:"d-flex justify-content-end mr-6"};var Ua=s({expose:[],setup(e){o([{id:1,name:"Wonder Woman",subtitle:"Mother/Adult",img:"https://picsum.photos/150/150"},{id:2,name:"Lionel Messi",subtitle:"Father/Minor",img:"https://picsum.photos/150/151"}]);const a=()=>{const e=perpareDataInputs(O.value);U(e).then((e=>{ye.success("Success")}))};return(e,s)=>{const l=t,n=Te,i=Ne,r=Ye,o=xe,f=$e;return c(),m("div",null,[u(w)&&"Adult"==u(w).category?(c(),m(r,{key:0},{"header-left":d((()=>[Na])),"header-right":d((()=>[p(' <VButton color="primary"> Save Changes </VButton> ')])),content:d((()=>[v("div",qa,[p(" <p>{{ memberParent.photo }}</p> "),u(L)?(c(),m("div",Ba,[v(i,{title:`${u(L).name} ${u(L).second_name} ${u(L).last_name}`,class:"border-1 p-4 radius-small"},{icon:d((()=>[v(l,{size:"medium",picture:`${u(ue)}storage/${u(L).photo}`,subtitle:"Principal Family"},null,8,["picture"])])),action:d((()=>[v(n,{"id-member":u(L).id},null,8,["id-member"])])),_:1},8,["title"])])):p("v-if",!0),(c(!0),m(b,null,y(u(R),((e,t)=>(c(),m("div",{class:"column is-4 mb-4",key:`family-${t}`},[v(i,{title:`${e.member.name} ${e.member.second_name} ${u(w).last_name}`,subtitle:e.member.relationships,class:"border-1 p-4 radius-small"},{icon:d((()=>[v(l,{size:"medium",picture:`${u(ue)}storage/${e.member.photo}`},null,8,["picture"])])),action:d((()=>[v(n,{"id-member":e.members_id},null,8,["id-member"])])),_:2},1032,["title","subtitle"])])))),128))])])),_:1})):p("v-if",!0),u(w)&&"Minor"==u(w).category?(c(),m(r,{key:1},{"header-left":d((()=>[Ha])),"header-right":d((()=>[v(o,{onClick:a,color:"primary"},{default:d((()=>[Wa])),_:1})])),content:d((()=>[v("div",La,[Ra,v("div",Oa,[v(l,{picture:`${u(ue)}storage/${u(ve)(u(O),"parent_photo")}`,size:"large"},null,8,["picture"])]),v(f,{"inputs-step":u(O)},null,8,["inputs-step"])])])),_:1})):p("v-if",!0)])}}});const Ga=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Emergency Contact"),v("p",null,"Edit member's emergency contact")],-1),Ja=k(" Save Changes "),Ka={class:""},Xa=v("h1",{class:"title is-5"},"Emergency Contact Information",-1);var Qa=s({expose:[],setup(e){const t=()=>{const e=he(G.value);console.log(e),J(e).then((e=>{ye.success("Success")}))};return(e,a)=>{const s=xe,l=$e,n=Ye;return c(),m(n,null,{"header-left":d((()=>[Ga])),"header-right":d((()=>[v(s,{onClick:t,color:"primary"},{default:d((()=>[Ja])),_:1})])),content:d((()=>[v("div",Ka,[Xa,v(l,{"inputs-step":u(G)},null,8,["inputs-step"])])])),_:1})}}});const Za=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Check-ins History"),v("p",null,"Edit member's check-ins history")],-1),es={class:"p-6"},ts={class:"d-flex"},as=v("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),ss=v("input",{type:"date",class:"input",placeholder:"input.placeholder"},null,-1),ls=k(" Export "),ns={class:"mt-4"},is={class:"table is-hoverable is-fullwidth"},rs=v("thead",null,[v("tr",null,[v("th",{scope:"col"},"DATE"),v("th",{scope:"col"},"TIME"),v("th",{scope:"col"},"STAFF")])],-1);var os=s({expose:[],setup:e=>(e,t)=>{const a=je,s=we,l=xe,n=Ye;return u(w)?(c(),m(n,{key:0},{"header-left":d((()=>[Za])),"header-right":d((()=>[])),content:d((()=>[v("div",es,[v("div",ts,[v(s,{class:"field mr-3"},{default:d((()=>[v(a,null,{default:d((()=>[as])),_:1})])),_:1}),v(s,{class:"field mr-3"},{default:d((()=>[v(a,null,{default:d((()=>[ss])),_:1})])),_:1}),v(l,{color:"primary"},{default:d((()=>[ls])),_:1})]),v("div",ns,[v("table",is,[rs,v("tbody",null,[(c(!0),m(b,null,y(u(K),((e,t)=>(c(),m("tr",{key:`access-${t}`},[v("td",null,f(u(M)(e.created_at).format("DD/MM/YYYY")),1),v("td",null,f(u(M)(e.created_at).format("HH:mm:ss")),1),v("td",null,f(e.user.name),1)])))),128))])])])])])),_:1})):p("v-if",!0)}});const us=k(" New Card "),cs={class:"column is-8 mx-auto"};var ms=s({expose:[],setup(e){const t=o(!1);i((()=>{_e(Be.value)}));const a=()=>{const e=he(Be.value);ge.value||(t.value=!0,X(w.value.id,e).then((e=>{ye.success("Success"),t.value=!1,_e(Be.value)})).catch((e=>{if("object"==typeof e.response.data)for(var a in e.response.data)e.response.data[a].forEach((e=>{ye.error(`${a} : ${e}`)}));else ye.error(e.response.data);t.value=!1})))};return(e,s)=>{const l=xe,n=Ce,i=qe,r=je,o=we,p=$e,f=Ye;return c(),m(f,null,{"header-right":d((()=>[v(n,{active:t.value,size:"small"},{default:d((()=>[v(l,{onClick:a,color:"primary"},{default:d((()=>[us])),_:1})])),_:1},8,["active"])])),content:d((()=>[v(o,null,{default:d((()=>[v(r,null,{default:d((()=>[v(i,{color:"orange",flipped:u(He),onFlip:s[1]||(s[1]=e=>He.value=!u(He)),number:u(fe)(u(Be),"card_number").model,name:u(fe)(u(Be),"card_name").model,expiry:`${u(fe)(u(Be),"date_day_expired").model}/${u(fe)(u(Be),"date_year_expired").model}`,cvc:u(fe)(u(Be),"cvv").model},null,8,["flipped","number","name","expiry","cvc"])])),_:1})])),_:1}),v("div",cs,[v(p,{"inputs-step":u(Be)},null,8,["inputs-step"])])])),_:1})}}});const ps=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Purchases History"),v("p",null,"Edit member's purchases history")],-1),ds=v("p",{class:"title is-5"},"Card List",-1),vs=v("p",null,"Invoices",-1),fs={class:"table is-hoverable is-fullwidth"},bs=v("thead",null,[v("tr",null,[v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Created"),v("th",{scope:"col"},"Start Period"),v("th",{scope:"col"},"End Period"),v("th",{scope:"col"},"Mount"),v("th",{scope:"col"},"Method"),v("th",{scope:"col"},"Download"),v("th",{scope:"col"},"Status")])],-1),ys={key:0},hs={key:0},_s={key:1},gs={key:0},ks={key:1},Ms=v("i",{class:"fas fa-download","aria-hidden":"true"},null,-1),xs=v("br",null,null,-1),Cs={key:1},js=v("td",null,"Subscription",-1),ws={key:0},Ds={key:1},Ps={key:0},$s={key:1},Ys=v("td",null,null,-1),Ss=v("td",null,[p(' <a :href="invoice.invoice_pdf" target="_blank">\n                  <VButton>\n                    <i class="fas fa-download" aria-hidden="true"></i>\n                  </VButton>\n                </a> ')],-1);var Es=s({expose:[],setup(e){r((()=>D.value.payments)),r((()=>{let e=[];return Z.value.forEach((t=>{e.push({membership:t.membership.name,payments:t.payments})})),e})),i((async()=>{await Q(w.value.id)}));const t=e=>{};return(e,s)=>{const l=Ve,n=ms,i=xe,r=a,o=Ye;return u(w)?(c(),m(o,{key:0},{"header-left":d((()=>[ps])),"header-right":d((()=>[])),content:d((()=>[ds,u(w).user?(c(),m(l,{key:0,"show-option":!0,class:"mb-6",onOnMethodPayment:t,method_default:u(w).user.pm_last_four,"show-new-card":!1},null,8,["method_default"])):p("v-if",!0),v(n),v(r,{class:"my-4"},{default:d((()=>[vs,v("table",fs,[bs,u(w).subscription&&u(w).subscription.invoices?(c(),m("tbody",ys,[(c(!0),m(b,null,y(u(w).subscription.invoices,((e,t)=>(c(),m("tr",{key:`invoice-${t}`},[v("td",null,f(e.billing_reason),1),v("td",null,f(u(M)(e.created).format("MM/DD/YYYY")),1),v("td",null,[e.period_start?(c(),m("span",hs,f(u(M)(e.period_start).format("MM/DD/YYYY")),1)):(c(),m("span",_s))]),v("td",null,[e.period_end?(c(),m("span",gs,f(u(M)(e.period_end).format("MM/DD/YYYY")),1)):(c(),m("span",ks))]),v("td",null,f(u(be)(e.amount_paid/100)),1),v("td",null,f(e.collection_method),1),v("td",null,[v("a",{href:e.invoice_pdf,target:"_blank"},[v(i,null,{default:d((()=>[Ms])),_:1})],8,["href"])]),v("td",null,[k(f(e.status)+" ",1),xs,v("small",null,f(e.description_status),1)])])))),128))])):u(w).membership_members&&u(w).membership_members.invoice_local?(c(),m("tbody",Cs,[(c(!0),m(b,null,y(u(w).membership_members.invoice_local,((e,t)=>(c(),m("tr",{key:`invoice-${t}`},[js,v("td",null,f(u(M)(e.created).format("MM/DD/YYYY")),1),v("td",null,[e.period_start?(c(),m("span",ws,f(u(M)(e.period_start).format("MM/DD/YYYY")),1)):(c(),m("span",Ds))]),v("td",null,[e.period_end?(c(),m("span",Ps,f(u(M)(e.period_end).format("MM/DD/YYYY")),1)):(c(),m("span",$s))]),v("td",null,f(u(be)(e.amount/100)),1),Ys,Ss,v("td",null,[k(f(e.status?"paid":"incomplete"),1),p(" <br /> "),p(" <small>{{ invoice.description_status }}</small> ")])])))),128))])):p("v-if",!0),p(" <tbody\n            v-for=\"(payment, key) in paymentsMemberchipsHistory\"\n            :key=\"`paymentHistory-${key}`\"\n          >\n            <tr v-for=\"(p, k) in payment.payments\" :key=\"`pay-${k}`\">\n              <td>{{ moment(p.created_at).format('DD/MM/YYYY') }}</td>\n              <td>{{ moment(p.created_at).format('HH:mm:ss') }}</td>\n              <td>{{ moneda(p.amount) }}</td>\n              <td>{{ p.payment_type.name }}</td>\n              <td>{{ payment.membership }}</td>\n              <td>{{ p.status ? 'succeded' : 'error' }}</td>\n            </tr>\n          </tbody> ")])])),_:1}),p("v-if",!0)])),_:1})):p("v-if",!0)}}});const Is=v("div",null,[v("h1",{class:"title is-4 mb-0"}," Waiver "),v("p",null,"Edit member's waiver information")],-1),Vs=k(" Convert to Members "),As={class:"columns is-multiline"},zs={class:"border-1 document_box p-4 d-flex justify-content-center radius-small"},Fs={href:"234",class:"text-center"},Ts=v("img",{style:{width:"70px"},src:Fe,alt:""},null,-1);var Ns=s({expose:[],setup(e){const t=o([{name:"Waiver_010221.pdf",url:""},{name:"Waiver_010221.pdf",url:""}]);return(e,a)=>{const s=xe,l=Ye;return c(),m(l,null,{"header-left":d((()=>[Is])),"header-right":d((()=>[v(s,{color:"info"},{default:d((()=>[Vs])),_:1})])),content:d((()=>[v("div",As,[(c(!0),m(b,null,y(t.value,((e,t)=>(c(),m("div",{class:"column is-2 mb-4",key:`family-${t}`},[v("div",zs,[v("a",Fs,[Ts,v("p",null,f(e.name),1)])])])))),128))])])),_:1})}}});const qs=k("Confirm");var Bs=s({expose:[],props:{openModal:{type:Boolean,default:!1}},emits:["closeModal","refreshTransactions"],setup(e,{emit:t}){const a=e,s=o(!1),l=async()=>{const e=he(ee.value),a={amount:e.amount,description:e.description};s.value=!0;try{"Add Credit"===e.transaction_type?await te(w.value.id,a):await ae(w.value.id,a),_e(ee.value),ye.success("Success"),t("closeModal"),t("refreshTransactions")}catch(l){"string"==typeof l.response.data.message?ye.error(l.response.data.message):ye.error(l)}finally{s.value=!1}},n=()=>{_e(ee.value),t("closeModal")};return(e,t)=>{const i=$e,r=xe,o=De;return c(),m(o,{open:a.openModal,title:"Create a new transaction",size:"small",actions:"right",onClose:n},{content:d((()=>[v(i,{"inputs-step":u(ee)},null,8,["inputs-step"])])),action:d((()=>[v(r,{color:"primary",raised:"",onClick:l,loading:s.value},{default:d((()=>[qs])),_:1},8,["loading"])])),_:1},8,["open"])}}});const Hs=v("div",null,[v("h1",{class:"title is-4 mb-0"},"Credit History"),v("p",null,"Edit member's credit history")],-1),Ws=k(" New Transaction "),Ls={class:"title"},Rs={class:"mt-4"},Os={class:"table is-hoverable is-fullwidth"},Us=v("thead",null,[v("tr",null,[v("th",{scope:"col"},"ID"),v("th",{scope:"col"},"Description"),v("th",{scope:"col"},"Date"),v("th",{scope:"col"},"Type"),v("th",{scope:"col"},"Amount")])],-1),Gs={key:0};var Js=s({expose:[],setup(e){const t=C({open:!1}),s=o(0);i((async()=>{l()}));const l=async()=>{await se(w.value.id),(async()=>{const{data:e}=await le(w.value.id);s.value=e.balance})()},n=()=>{t.open=!t.open},r=()=>{t.open=!1};return(e,i)=>{const o=xe,h=Bs,_=a,g=Ye;return u(w)?(c(),m(g,{key:0},{"header-left":d((()=>[Hs])),"header-right":d((()=>[v(o,{onClick:n,color:"primary"},{default:d((()=>[Ws])),_:1})])),content:d((()=>[v(h,{"open-modal":u(t).open,onCloseModal:r,onRefreshTransactions:l},null,8,["open-modal"]),v("p",Ls,"Credit: "+f(s.value)+"$",1),v(_,{class:"p-"},{default:d((()=>[v("div",Rs,[v("table",Os,[Us,u(ne)?(c(),m("tbody",Gs,[(c(!0),m(b,null,y(u(ne).data,((e,t)=>(c(),m("tr",{key:`transaction-${t}`},[v("td",null,f(e.id),1),v("td",null,f(e.meta.description),1),v("td",null,f(u(M)(e.created_at).format("MM/DD/YYYY")),1),v("td",null,f(e.type),1),v("td",null,f(e.amount),1)])))),128))])):p("v-if",!0)])])])),_:1})])),_:1})):p("v-if",!0)}}});const Ks={key:0,class:"columns is-multiline"},Xs={class:"column is-3"},Qs={class:"column is-9"},Zs={class:"columns is-multiline column is-12"},el={class:"columns is-multiline column is-12"},tl={key:1,class:"columns is-multiline"},al={class:"column is-3"},sl={class:"column is-9"},ll={class:"d-flex justify-content-between"},nl=v("b",null,"Member since.",-1),il=v("b",null,"Membership Active:",-1),rl=v("b",null,"Due Date: ",-1),ol={key:0},ul=v("b",null,"Discount: ",-1),cl={key:0};var ml=s({expose:[],setup(t){const s=l();Le.value="Member Profile",j({title:"Members"});const b=o(!1),y=o("personalInformation"),g=e=>{y.value=e.value};n((()=>s.query),((e,t)=>{Object.keys(e).length>0&&(E(),S())}));const x=o("ERROR MEMBERSHIP"),C=o("");n(w,(e=>{e.sinMembresia&&(x.value="NO MEMBERSHIP",C.value="Please, select a membership"),e.isSolvente||e.sinMembresia||!e.subscription||(x.value=`Membership ${e.subscription.status}`,C.value=e.subscription.latest_invoice&&e.subscription.latest_invoice.payments_intents.length>0?`Last payment status : ${e.subscription.latest_invoice.payments_intents[0].status}`:""),e.subscription&&e.subscription.subscription&&!e.subscription.latest_invoice&&(C.value=`Last payment status : ${e.subscription.subscription.status}`),e.membership_members&&e.membership_members.cacelation_date&&(C.value=`Cancel date : ${M(e.membership_members.cacelation_date).format("MM-DD-YYYY")}`)})),n((()=>s.hash),(e=>{y.value=s.hash.slice(1)})),n((()=>s.query.id),(e=>{y.value="personalInformation"}));const $=o(!0),S=()=>{$.value=!0,setTimeout((()=>{$.value=!1}),500)};i((()=>{""!=s.hash&&(y.value=s.hash.slice(1)),Xe().then((e=>{ke(P,"locations_id",Qe.value)})),Ke().then((e=>{ke(Y,"country_id",e.contries),ke(Y,"city_id",e.cities),ke(Y,"state_id",e.states),ke(ie,"city_id",e.cities),ke(ie,"state_id",e.states),ke(ie,"country_id",e.contries)})),Oe().then((e=>{ke(P,"memberships_id",e.data.memberships)})),Re().then((e=>{ke(P,"discount",e.data.discounts)})),Ue().then((e=>{ke(P,"recurrences_id",e.data)})),Ge().then((e=>{ke(P,"staff_id",e.data)})),E()}));const E=async()=>{await re(s.query.id).then((e=>{for(var t in console.log("response.data",e.data),e.data)if("select_type"==t)"Individual"==e.data[t]?(fe(Y.value,"select_type").model=!1,fe(Y.value,"company_name").typeInput="hidden"):(fe(Y.value,"select_type").model=!0,fe(Y.value,"company_name").typeInput="text");else if("membership_members"==t)for(var a in e.data[t]||(x.value="Does not have a membership",C.value="Does not have a membership go to the Membership/Contract section and create a new membership and press New Membership",console.error("no posee una membresia :(")),e.data[t])"memberships_location"==a?e.data[t][a]?(fe(P,"locations_id").model=e.data[t][a].companies_locations_id,Je([e.data[t][a].companies_locations_id]).then((e=>{ke(P,"diciplines",e.data)}))):console.error("no posee una locacion :("):"diciplines"==a?(fe(P,"diciplines").model=[],e.data[t][a].forEach((e=>{fe(P,"diciplines").model.push(e.diciplines_id)}))):null!=fe(P,a)&&Me(P,a,e.data[t][a]);else if("trainers"==t){let a=[];e.data[t].forEach((e=>{a.push(e.id)})),Me(P,"staff_id",a)}else if("emergency"==t)for(a in e.data[t])Me(G,a,e.data[t][a]);else if("guardian"==t)for(a in e.data[t])Me(O,a,e.data[t][a]);else Me(Y,t,"leo_vet_fr"==t?1==e.data[t]:e.data[t]);$.value=!1}))},I=r((()=>{let e="";return w.value.subscription?(e=w.value.subscription.subscription&&"active"==w.value.subscription.subscription.status?"active":w.value.subscription.status,"active"==w.value.subscription.status||w.value.subscription.status):w.value.sinMembresia&&(e=w.value.user&&w.value.user.pm_last_four?"nomembershipcontarjeta":"nomembership"),e}));return(t,l)=>{const n=e,i=lt,r=a,o=Xt,x=Pe,j=ta,P=Ta,Y=Ua,S=Qa,E=os,V=Es,A=Ns,z=Js,F=We;return c(),m(F,null,{default:d((()=>[$.value?(c(),m("div",Ks,[v("div",Xs,[v(n,{height:"700px"})]),v("div",Qs,[v("div",Zs,[v(n,{height:"150px"})]),v("div",el,[v(n,{height:"420px"})])])])):p("v-if",!0),!$.value&&u(w)?(c(),m("div",tl,[v("div",al,[v(i,{category:u(s).query.category,onChangeMenu:g,class:u(I)},null,8,["category","class"])]),p(" <p>{{ isSolvente }}</p> "),v("div",sl,[u(oe)?p("v-if",!0):(c(),m(r,{key:0,class:["\n            mb-4\n            d-flex\n            justify-content-between\n            align-items-center\n            cardprofile\n          ",u(I)]},{default:d((()=>[v("div",null,[v("p",null,f(C.value),1),p(' <small v-if="member.subscription">\n              <p>{{ member.subscription.status }}</p>\n            </small> ')])])),_:1},8,["class"])),b.value?(c(),m(o,{key:1,class:"mb-4"})):p("v-if",!0),null!=u(w).membership_members?(c(),m(r,{key:2,class:"mb-4"},{default:d((()=>{var e;return[v("div",ll,[v("div",null,[v("p",null,[v("b",null,"Member #"+f(u(w).id),1)]),v("p",null,[v("small",null,[nl,k(" "+f(u(M)(u(w).created_at).format("ddd - DD MMM YYYY")),1)])]),v("p",null,[il,k(" "+f(u(D).membership.name),1)]),v("p",null,[rl,k(" "+f(u(M)(u(w).subscription.proxima_factura).format("ddd - DD MMM YYYY")),1)]),(null==(e=u(w).membership_members)?void 0:e.discount)?(c(),m("p",ol,[ul,k(" "+f(u(w).membership_members.discount.name),1)])):p("v-if",!0)]),u(w).subscription?(c(),m("div",cl,[v(x,{color:"info",label:u(w).subscription.status,rounded:""},null,8,["label"])])):p("v-if",!0)])]})),_:1})):p("v-if",!0),h(v(j,{category:u(s).query.category},null,8,["category"]),[[_,"personalInformation"==y.value]]),h(v(P,null,null,512),[[_,"memberMembership"==y.value]]),h(v(Y,null,null,512),[[_,"memberFamily"==y.value]]),h(v(S,null,null,512),[[_,"memberEmergency"==y.value]]),h(v(E,null,null,512),[[_,"memberCheckins"==y.value]]),h(v(V,null,null,512),[[_,"memberPurchases"==y.value]]),h(v(A,null,null,512),[[_,"memberWaiver"==y.value]]),h(v(z,null,null,512),[[_,"memberCredit"==y.value]])])])):p("v-if",!0)])),_:1})}}});export default ml;
