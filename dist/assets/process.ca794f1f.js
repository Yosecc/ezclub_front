import{_ as x}from"./V-Card.vue_vue_type_script_setup_true_lang.f80f1beb.js";import{_ as F}from"./V-Button.vue_vue_type_script_setup_true_lang.72d178c7.js";import{_ as k,a as N}from"./pdf_icon.c303a5d8.js";import{d as q,j as C,r,o,e as m,w as l,f as e,u as v,C as w,t as s,y as b,i as $,A as V,B as P,D as R,F as A,G as L,a7 as j,al as O}from"./index.4457215e.js";import{i as T}from"./inputsLayaut.vue_vue_type_style_index_0_lang.bc2ca8d6.js";import{_ as E}from"./SidebarLayout.vue_vue_type_script_setup_true_lang.a7af6f4a.js";import{p as M}from"./sidebarLayoutState.d2b676a9.js";import"./V-Placeload.9684d098.js";import"./V-Control.92200beb.js";import"./V-Field.vue_vue_type_script_setup_true_lang.33752939.js";import"./V-SwitchSegment.vue_vue_type_script_setup_true_lang.96e64ac9.js";import"./V-Modal.vue_vue_type_script_setup_true_lang.f0368080.js";import"./V-Checkbox.vue_vue_type_script_setup_true_lang.70a8d51f.js";import"./ActivityPanel.vue_vue_type_style_index_0_lang.8acd0baa.js";import"./useDropdown.d2881c63.js";import"./V-Avatar.vue_vue_type_script_setup_true_lang.b4183814.js";import"./V-Dropdown.c58eb584.js";import"./V-Icon.vue_vue_type_script_setup_true_lang.a0e27302.js";import"./Companies.4f645ec0.js";import"./activePanelState.d3359fb3.js";import"./fastpizza.70124fcb.js";import"./TaskPanel.vue_vue_type_style_index_0_lang.50493a6a.js";import"./V-Tag.vue_vue_type_script_setup_true_lang.0d8ff65f.js";import"./video.d6dbc99d.js";import"./SearchPanel.vue_vue_type_style_index_0_lang.63cec0b9.js";import"./darkModeState.1f6503fc.js";import"./AnimatedLogo.d670690a.js";import"./V-IconBox.vue_vue_type_script_setup_true_lang.772b752f.js";import"./V-Block.vue_vue_type_script_setup_true_lang.00657afe.js";import"./UserPopoverContent.vue_vue_type_script_setup_true_lang.5fb53f85.js";import"./userPopovers.f4b9fc60.js";const U={class:"columns is-multiline"},W={key:0,class:"d-flex justify-content-center column is-12 mb-4"},G=e("p",null,null,-1),H={class:"text-center mr-6"},I=e("img",{src:k,width:"40",alt:""},null,-1),Y=$(" View PDF "),z={class:"text-center ml-6"},J=e("img",{src:k,width:"40",alt:""},null,-1),K=$(" View PDF "),Q={key:1,class:"text-center mb-4 mt-5 mx-auto"},X=e("p",{class:"mb-4 title is-5"},"Saved signature",-1);var Z=q({expose:[],props:{member:{type:Object,required:!0},loading:{type:Boolean,default:!1}},setup(n){const t=n;C(()=>{});const a=r(!1),d=r(!1),p=r(null);r();const u=async c=>(p.value=c,a.value=!0,V.post(`sign/${t.member.membership_members.id}`,{sign:c}).then(f=>{d.value=!0,a.value=!1})),_=()=>{u(T)};return(c,i)=>{const f=F,y=N,g=x;return o(),m(g,{radius:"small"},{default:l(()=>[e("div",U,[n.loading?b("",!0):(o(),m("div",W,[G,e("div",H,[e("a",{target:"_blank",href:`${v(w)}generateContract/${n.member.id}`},[I,e("p",null," contract_"+s(n.member.id)+"_"+s(n.member.membership_members.id)+"_"+s(n.member.personal_identifications)+".pdf ",1),e(f,{color:"success",outlined:"",class:"mt-4 py-1"},{default:l(()=>[Y]),_:1})],8,["href"])]),e("div",z,[e("a",{target:"_blank",href:`${v(w)}generateWeiver/${n.member.id}`},[J,e("p",null," weiver_"+s(n.member.id)+"_"+s(n.member.membership_members.id)+"_"+s(n.member.personal_identifications)+".pdf ",1),e(f,{color:"success",outlined:"",class:"mt-4 py-1"},{default:l(()=>[K]),_:1})],8,["href"])])])),e(y,{onSinFirmar:_,onOnSignYes:u}),d.value?(o(),m("div",Q,[X,e("img",{src:p.value,width:"400",height:"135",alt:""},null,8,["src"])])):b("",!0)])]),_:1})}}});const ee={class:"page-content-inner"},te=e("h1",{class:"title is-4"},"Successful Payment",-1),se={class:"title is-3"},ne={key:1,class:"mt-6"},ae={class:"title is-3"},ie=$(" View and sign: Family ");var Oe=q({expose:[],setup(n){M.value="Add New members",P({title:"Members"});const t=R();j();const a=r([]),d=r(null),p=r(null),u=r(!0);let _=r([]);C(()=>{V.post(`payment/${t.query.id}`,{payment_intent_client_secret:t.query.payment_intent_client_secret,redirect_status:t.query.redirect_status,payment_type:t.query.payment_type,membership:t.query.membership}).then(i=>{i.data.status&&(d.value=t.query.redirect_status,p.value=i.data.urlPDF,a.value=i.data.member,_.value=i.data.familiares,u.value=!1)})});const c=i=>{window.location.href=`${O.value}members/process?id=${i.id}&payment_intent=${t.query.payment_intent}&payment_intent_client_secret=${t.query.payment_intent_client_secret}&redirect_status=${t.query.redirect_status}&payment_type=${t.query.payment_type}`};return(i,f)=>{const y=x,g=Z,S=F,B=E;return o(),m(B,null,{default:l(()=>[e("div",ee,[e("div",null,[e(y,{class:"mb-4",color:"success"},{default:l(()=>[te]),_:1}),e("h2",se," Sign "+s(a.value.name)+" "+s(a.value.second_name)+" "+s(a.value.last_name),1),a.value?(o(),m(g,{key:0,loading:u.value,member:a.value},null,8,["loading","member"])):b("",!0),v(_).length>0?(o(),m("div",ne,[(o(!0),m(A,null,L(v(_),(h,D)=>(o(),m("div",{key:`familu${D}`},[e(y,{class:"mb-4",radius:"small"},{default:l(()=>[e("h2",ae," Sign Family: "+s(h.name)+" "+s(h.second_name)+" "+s(h.last_name),1),e(S,{color:"warning",class:"text-center mx-auto",onClick:re=>c(h)},{default:l(()=>[ie]),_:2},1032,["onClick"])]),_:2},1024)]))),128))])):b("",!0)])])]),_:1})}}});export{Oe as default};
